(()=>{"use strict";var t={221:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataBase=void 0;const s=o(51);e.DataBase=class{constructor(){this._books=new Array,this._stocks=new Array,this._customers=new Array,this._sales=new Array,this._rents=new Array,this._bookSpecifications=new Array,this._cancelSales=new Array,this._saleCart=new s.SaleCart}get getBooksList(){return this._books}get getStocksList(){return this._stocks}get getCustomersList(){return this._customers}get getSalesList(){return this._sales}get getRents(){return this._rents}get getBookSpecifications(){return this._bookSpecifications}get getCancaledSales(){return this._cancelSales}get getSaleCart(){return this._saleCart}set setSaleCart(t){this._saleCart=t}}},39:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BookSpecification=void 0,e.BookSpecification=class{constructor(t,e,o,s){this._isbn=t,this._price=e,this._startDate=o,this._endDate=s}get isbn(){return this._isbn}get price(){return this._price}get startDate(){return this._startDate}get endDate(){return this._endDate}set isbn(t){this._isbn=t}set price(t){this._price=t}set startDate(t){this._startDate=t}set endDate(t){this._endDate=t}}},934:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Book=void 0,e.Book=class{constructor(t,e,o,s,i,r){this._name=e,this._author=o,this._isbn=t,this._publishYear=s,this._pages=i,this._bookSpec=r}get isbn(){return this._isbn}get name(){return this._name}get author(){return this._author}get publishYear(){return this._publishYear}get pages(){return this._pages}get bookSpec(){return this._bookSpec}set isbn(t){this._isbn=t}set name(t){this._name=t}set author(t){this._author=t}set publishYear(t){this._publishYear=t}set pages(t){this._pages=t}set bookSpec(t){this._bookSpec=t}}},916:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Customer=void 0,e.Customer=class{constructor(t,e,o,s){this._id=t,this._name=e,this._surName=o,this._phoneNumber=s}get id(){return this._id}get name(){return this._name}get surName(){return this._surName}get phoneNumber(){return this._phoneNumber}set id(t){this._id=t}set name(t){this._name=t}set surName(t){this._surName=t}set phoneNumber(t){this._phoneNumber=t}}},51:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaleCart=void 0,e.SaleCart=class{constructor(){this.bookAndQuantityMap=new Map}}},354:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sale=void 0,e.Sale=class{constructor(t,e,o,s,i){this._bookAndQuantityMap=new Map,this._bookAndQuantityMap=t,this._operationDateTime=e,this._customerId=o,this._operationNumber=s,this._total=i}get bookAndQuantityMap(){return this._bookAndQuantityMap}get operationDateTime(){return this._operationDateTime}get customerId(){return this._customerId}get operationNumber(){return this._operationNumber}get total(){return this._total}set bookAndQuantityMap(t){this._bookAndQuantityMap=t}set operationDateTime(t){this._operationDateTime=t}set customerId(t){this._customerId=t}set operationNumber(t){this._operationNumber=t}set total(t){this._total=t}}},72:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stock=void 0,e.Stock=class{constructor(t,e,o){this._isbn=t,this._quantity=e,this._shelfNumber=o}get isbn(){return this._isbn}get quantity(){return this._quantity}get shelfNumber(){return this._shelfNumber}set isbn(t){this._isbn=t}set quantity(t){this._quantity=t}set shelfNumber(t){this._shelfNumber=t}}},607:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stockService=e.saleService=e.rentService=e.cancelSaleService=e.customerService=e.bookService=void 0;const s=o(221),i=o(934),r=o(39),a=o(916),n=o(72),c=o(946),l=o(609),u=o(709),d=o(148),h=o(478),m=o(214);let k=new s.DataBase;function S(t,e){const o=document.getElementById(e),s=document.getElementById(t);o&&s&&s.addEventListener("click",(()=>{"none"===o.style.display?o.style.display="block":o.style.display="none"}))}!function(t){e.bookService=new c.BookService(t.getBooksList,t.getBookSpecifications),e.customerService=new u.CustomerService(t.getCustomersList),e.cancelSaleService=new l.CancelSaleService(t.getCancaledSales),e.rentService=new d.RentService(t.getRents),e.saleService=new h.SaleService(t.getSalesList,t.getSaleCart),e.stockService=new m.StockService(t.getStocksList),console.log("Services intiliazed."),e.bookService.addBook(new i.Book("123-45","Neredeyiz","Mehmet Ercan","2021",109,new r.BookSpecification("123-45",25.99,new Date,new Date))),e.bookService.addBook(new i.Book("123-46","Neredeyiz 2","Mehmet Ercan","2022",179,new r.BookSpecification("123-46",29.99,new Date,new Date))),e.customerService.addCustomer(new a.Customer(1,"","","")),e.customerService.addCustomer(new a.Customer(2,"","","")),e.stockService.addStock("123-45","A45-52",10),e.stockService.addStock("123-46","A45-52",10)}(k),S("addBookMenuItem","addBookSection"),S("showBooksMenuItem","listBooksSection"),S("addCustomerMenuItem","addCustomerSection"),S("addStockMenuItem","addStockSection"),S("saleBookMenuItem","saleBookSection");const p=document.getElementById("add-book-form");null!=p&&(p.onsubmit=()=>{const t=new FormData(p),o=t.get("bookTitle"),s=t.get("bookAuthor"),a=t.get("bookIsbn"),n=t.get("bookPublishYear"),c=t.get("bookPages"),l=t.get("bookPrice"),u=new Date,d=new Date("Dec 31, 9999 23:59:59"),h=new r.BookSpecification(a,l,u,d),m=new i.Book(a,o,s,n,c,h);return e.bookService.addBookMock(m),alert(m.isbn+" numaralı kitap Ekleme İşlemi Başarı İle Tamamlanmıştır."),p.reset(),!1});const b=document.getElementById("add-stock-form");b&&(b.onsubmit=()=>{const t=new FormData(b),o=t.get("bookIsbnForAddStock"),s=t.get("stockQuantity"),i=t.get("shelfNumber"),r=new n.Stock(o,s,i);return k.getBooksList.some((t=>t.isbn==o)),alert(o+" isbn numaralı kitaptan, "+s+" kadar sisteme stok eklenmiştir."),e.stockService.addStockMock(r),b.reset(),!1});const g=document.getElementById("add-customer-form");g&&(g.onsubmit=()=>{const t=new FormData(g),o=t.get("customerName"),s=t.get("customerSurname"),i=t.get("customerPhoneNumber"),r=new a.Customer(e.customerService.getNewCustomerId(),o,s,i);return e.customerService.addCustomer(r),alert("Müşteri Ekleme İşlemi Başarı İle Tamamlanmıştır. "),g.reset(),!1});const _=document.getElementById("sale-book-form");_&&(_.onsubmit=()=>{const t=new FormData(_),o=t.get("isbnForSale"),s=e.bookService.getBook(o),i=parseInt(t.get("customerIdForSale")),r=e.customerService.isValidCustomer(i),a=parseInt(t.get("quantityForSale")),n=e.stockService.getStock(o);try{return s?n?n.quantity>=a?r?e.saleService.addBookToCart(s,a,i):alert(i+" numaralı müşteri kayıtlı değildir."):alert(a+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${o} numaralı kitabın stoğu mevcut değildir.`):alert(o+" numaralı kitap yoktur."),_.reset(),!1}catch(t){alert(t)}}),document.getElementById("btnBuy").addEventListener("click",(()=>{0===e.saleService.saleCart.bookAndQuantityMap.size?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):e.saleService.cartToSale()})),document.getElementById("showBooksMenuItem").addEventListener("click",(()=>{e.bookService.initializeBooksMock()}))},946:function(t,e){var o=this&&this.__awaiter||function(t,e,o,s){return new(o||(o=Promise))((function(i,r){function a(t){try{c(s.next(t))}catch(t){r(t)}}function n(t){try{c(s.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,n)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BookService=void 0,e.BookService=class{constructor(t,e){this._bookList=t,this._bookSpecList=e}get bookList(){return this._bookList}set bookList(t){this._bookList=t}get bookSpecList(){return this._bookSpecList}set bookSpecList(t){this._bookSpecList=t}getBook(t){return this.bookList.find((e=>e.isbn===t))}addBook(t){try{this.bookList.push(t),this._bookSpecList.push(t.bookSpec)}catch(t){console.log("Kitap eklenirken bir hata meydana geldi.")}}isValidBook(t){const e=this.getBook(t);return this.bookList.includes(e)}listBooks(){}initializeBooksMock(){!function(){o(this,void 0,void 0,(function*(){try{const t=yield fetch("http://localhost:3002/api/books",{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);const e=yield t.json(),o=JSON.parse(JSON.stringify(e,null,4)).books;console.log(o)}catch(t){console.log("Hata Oluştu.")}}))}()}addBookMock(t){!function(t){o(this,void 0,void 0,(function*(){try{const e=yield fetch("http://localhost:3002/api/books/"+t.isbn,{method:"POST",body:JSON.stringify({isbn:t.isbn,name:t.name,author:t.author,pages:t.pages,publishYear:t.publishYear}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const o=yield e.json();console.log(o)}catch(t){console.log("Hata Oluştu.")}}))}(t)}}},609:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CancelSaleService=void 0,e.CancelSaleService=class{constructor(t){this._cancelledSalesList=t}get cancelledSalesList(){return this._cancelledSalesList}set cancelledSalesList(t){this._cancelledSalesList=t}cancelSale(t){this.cancelledSalesList.push(t);let e=this.calculateRefund(t);t.refund=e}calculateRefund(t){let e;return e=this.calculateDiffHours(t.canceledDateTime,t.sale.operationDateTime)>24?.75*t.sale.total:t.sale.total,e}calculateDiffHours(t,e){let o=t.getTime()-e.getTime();return Math.floor(o/1e3/60/60)}}},709:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CustomerService=void 0,e.CustomerService=class{constructor(t){this._customerList=t}get customerList(){return this._customerList}set customerList(t){this._customerList=t}addCustomer(t){this.customerList.push(t)}getNewCustomerId(){let t=0;return this.customerList.length>0&&(t=this.customerList.at(this.customerList.length-1).id),t+=1,t}getCustomerInfo(t){return this.customerList.find((e=>e.id===t))||void 0}isValidCustomer(t){return!!this.customerList.some((e=>e.id===t))}}},148:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RentService=void 0,e.RentService=class{constructor(t){this._rentList=t,this.refundPercent=.75}get rentList(){return this._rentList}set rentList(t){this._rentList=t}addRent(t){this.rentList.push(t)}calculateTotal(t){t.bookAndQuantityMap;let e=0;for(let o of t.bookAndQuantityMap)e+=o[0].bookSpec.price*o[1];return e}generateRentNumber(t){let e=new Date;return"R"+e.getDay().toString+e.getMonth().toString+e.getFullYear().toString+e.getHours().toString+e.getMinutes().toString+e.getSeconds().toString+t.toString}calculateRefund(t){t.refund=t.total*this.refundPercent}}},478:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaleService=void 0;const s=o(607),i=o(354),r=o(51);e.SaleService=class{constructor(t,e){this._saleList=t,this._saleCart=e}get saleList(){return this._saleList}set saleList(t){this._saleList=t}get saleCart(){return this._saleCart}set saleCart(t){this._saleCart=t}addSale(t){this.saleList.push(t)}calculateTotal(t){let e=0;for(let o of t.bookAndQuantityMap.entries())e+=o[0].bookSpec.price*o[1];return e}generateSaleNumber(t){let e=new Date;return"S"+e.getDay().toString()+e.getMonth().toString()+e.getFullYear().toString()+e.getHours().toString()+e.getMinutes().toString()+e.getSeconds().toString()+t.toString()}getSale(t){let e=this.saleList.find((e=>e.operationNumber===t));if(e)return e;throw new Error}removeSale(t){let e=this.saleList.indexOf(t);this.saleList.splice(e,1)}addBookToCart(t,e,o){if(0===this.saleCart.bookAndQuantityMap.size)this.saleCart.customerId=o;else if(this.saleCart.bookAndQuantityMap.size>0&&this.saleCart.customerId!==o)return alert("Farklı müşteriye kitap satılmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;this.saleCart.bookAndQuantityMap.set(t,e),this.updateSaleCart()}updateSaleCart(){const t=document.getElementById("saleCart"),e=document.getElementById("totalAmountTl");if(t){let o,s,i=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);for(let t=0;t<this.saleCart.bookAndQuantityMap.size;t++){o=document.createElement("div"),o.className="row-cart";for(let t of this.saleCart.bookAndQuantityMap.entries())s=document.createElement("div"),s.className="column-cart",s.textContent=this.saleCart.customerId.toString(),o.appendChild(s),s=document.createElement("div"),s.className="column-cart",s.textContent=t[0].name,o.appendChild(s),s=document.createElement("div"),s.className="column-cart",s.textContent=t[1].toString(),o.appendChild(s),s=document.createElement("div"),s.className="column-cart",s.textContent=(t[0].bookSpec.price*t[1]).toString(),o.appendChild(s)}if(o&&e){for(let t of this.saleCart.bookAndQuantityMap)i+=t[0].bookSpec.price*t[1];t.appendChild(o),e.textContent=i.toString()+" TL"}}}cartToSale(){let t=this.saleCart,e=new i.Sale;e.bookAndQuantityMap=t.bookAndQuantityMap,e.customerId=t.customerId,e.operationNumber=this.generateSaleNumber(t.customerId),e.operationDateTime=new Date,e.total=this.calculateTotal(e);for(let t of e.bookAndQuantityMap)s.stockService.increaseStock(t[0].isbn,-t[1]);this.addSale(e),this.saleCart=new r.SaleCart,this.updateSaleCart(),console.log(e.operationNumber),alert("Satış gerçekleşmiştir. Fiş Numaranız: "+e.operationNumber+"\nFişinizi kaybetmeyiniz. ")}}},214:function(t,e,o){var s=this&&this.__awaiter||function(t,e,o,s){return new(o||(o=Promise))((function(i,r){function a(t){try{c(s.next(t))}catch(t){r(t)}}function n(t){try{c(s.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,n)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.StockService=void 0;const i=o(72);e.StockService=class{constructor(t){this._stockList=t}get stockList(){return this._stockList}set stockList(t){this._stockList=t}addStock(t,e,o){try{let s=new i.Stock(t,o,e);return this.stockList.push(s),!0}catch(t){return console.error(t),!1}}increaseStock(t,e){let o=this.getStock(t);return!!o&&(o.quantity=o.quantity+e,!0)}getStock(t){let e=this.stockList.find((e=>e.isbn===t));if(e)return e}addStockMock(t){!function(t){s(this,void 0,void 0,(function*(){try{const e=yield fetch("http://localhost:3002/api/stocks/"+t.isbn,{method:"POST",body:JSON.stringify({isbn:t.isbn,quantity:t.quantity}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const o=yield e.json();console.log(o)}catch(t){console.log("Hata Oluştu.")}}))}(t)}}}},e={};!function o(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,o),r.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS0UsVUFBVSxDQUNqQmpJLEtBQU1tTCxFQUFFbkwsS0FDUm1DLFNBQVVnSixFQUFFaEosV0FFaEJvRixRQUFTLENBQ0wsZUFBZ0IsbUJBQ2hCQyxPQUFRLHNCQUloQixJQUFLSixFQUFTSyxHQUNWLE1BQU0sSUFBSUMsTUFBTSwyQkFBMkJOLEVBQVNPLFdBR3hELE1BQU1DLFFBQWdCUixFQUFTUyxPQUMvQjlELFFBQVFDLElBQUk0RCxFLENBRWQsTUFBT1osR0FDTGpELFFBQVFDLElBQUksZSxDQUVwQixHLENBNUJRMkksQ0FBaUJ4QixFQUNyQixFLEdDNUVBeUIsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RiL2RhdGFiYXNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9ib29rLXNwZWNpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2Jvb2sudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2N1c3RvbWVyLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9zYWxlLWNhcnQudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3NhbGUudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3N0b2NrLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvYm9vay1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvY2FuY2FsLXNhbGUtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2N1c3RvbWVyLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9yZW50LXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9zYWxlLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9zdG9jay1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rU3BlY2lmaWNhdGlvbiB9IGZyb20gXCIuLi9kb21haW4vYm9vay1zcGVjaWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBDYW5jZWxTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9jYW5jYWwtc2FsZVwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi4vZG9tYWluL2N1c3RvbWVyXCI7XG5pbXBvcnQgeyBSZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50XCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlXCI7XG5pbXBvcnQgeyBTYWxlQ2FydCB9IGZyb20gXCIuLi9kb21haW4vc2FsZS1jYXJ0XCI7XG5pbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuLi9kb21haW4vc3RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFCYXNlIHtcblxuICAgICBwcml2YXRlIF9ib29rczogQXJyYXk8Qm9vaz47Ly9cbiAgICAgcHJpdmF0ZSBfc3RvY2tzOiBBcnJheTxTdG9jaz47XG4gICAgIHByaXZhdGUgX2N1c3RvbWVyczogQXJyYXk8Q3VzdG9tZXI+Oy8vXG4gICAgIHByaXZhdGUgX3NhbGVzOiBBcnJheTxTYWxlPjsvL1xuICAgICBwcml2YXRlIF9yZW50czogQXJyYXk8UmVudD47XG4gICAgIHByaXZhdGUgX2Jvb2tTcGVjaWZpY2F0aW9uczogQXJyYXk8Qm9va1NwZWNpZmljYXRpb24+O1xuICAgICBwcml2YXRlIF9jYW5jZWxTYWxlczogQXJyYXk8Q2FuY2VsU2FsZT47Ly9cbiAgICAgcHJpdmF0ZSBfc2FsZUNhcnQ6IFNhbGVDYXJ0O1xuXG4gICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgIHRoaXMuX2Jvb2tzID0gbmV3IEFycmF5PEJvb2s+KCk7XG4gICAgICAgICAgdGhpcy5fc3RvY2tzID0gbmV3IEFycmF5PFN0b2NrPigpO1xuICAgICAgICAgIHRoaXMuX2N1c3RvbWVycyA9IG5ldyBBcnJheTxDdXN0b21lcj4oKTtcbiAgICAgICAgICB0aGlzLl9zYWxlcyA9IG5ldyBBcnJheTxTYWxlPigpO1xuICAgICAgICAgIHRoaXMuX3JlbnRzID0gbmV3IEFycmF5PFJlbnQ+KCk7XG4gICAgICAgICAgdGhpcy5fYm9va1NwZWNpZmljYXRpb25zID0gbmV3IEFycmF5PEJvb2tTcGVjaWZpY2F0aW9uPigpO1xuICAgICAgICAgIHRoaXMuX2NhbmNlbFNhbGVzID0gbmV3IEFycmF5PENhbmNlbFNhbGU+KCk7XG4gICAgICAgICAgdGhpcy5fc2FsZUNhcnQgPSBuZXcgU2FsZUNhcnQ7XG5cbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgYm9va3NcbiAgICAgICogQHJldHVybiB7QXJyYXk8Qm9vaz59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEJvb2tzTGlzdCgpOiBBcnJheTxCb29rPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzdG9ja3NcbiAgICAgICogQHJldHVybiB7QXJyYXk8U3RvY2s+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTdG9ja3NMaXN0KCk6IEFycmF5PFN0b2NrPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3N0b2NrcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgY3VzdG9tZXJzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PEN1c3RvbWVyPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Q3VzdG9tZXJzTGlzdCgpOiBBcnJheTxDdXN0b21lcj4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lcnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTYWxlc0xpc3QoKTogQXJyYXk8U2FsZT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYWxlcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgcmVudHNcbiAgICAgICogQHJldHVybiB7QXJyYXk8UmVudD59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFJlbnRzKCk6IEFycmF5PFJlbnQ+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcmVudHM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rU3BlY2lmaWNhdGlvbj59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEJvb2tTcGVjaWZpY2F0aW9ucygpOiBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGNhbmNlbFNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PENhbmNlbFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRDYW5jYWxlZFNhbGVzKCk6IEFycmF5PENhbmNlbFNhbGU+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsU2FsZXM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHNhbGVDYXJ0XG4gICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGVDYXJ0Pn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0U2FsZUNhcnQoKTogU2FsZUNhcnQge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYWxlQ2FydDtcbiAgICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtTYWxlQ2FydH0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBzZXRTYWxlQ2FydCh2YWx1ZTogU2FsZUNhcnQpIHtcblx0XHR0aGlzLl9zYWxlQ2FydCA9IHZhbHVlO1xuXHR9XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIEJvb2tTcGVjaWZpY2F0aW9uIHtcbiAgICBwcml2YXRlIF9pc2JuOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcHJpY2U6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zdGFydERhdGU6IERhdGU7XG4gICAgcHJpdmF0ZSBfZW5kRGF0ZTogRGF0ZTtcblxuICAgIGNvbnN0cnVjdG9yKGlzYm46IHN0cmluZywgcHJpY2U6IG51bWJlciwgc3RhcnREYXRlOiBEYXRlLCBlbmREYXRlOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX2lzYm4gPSBpc2JuO1xuICAgICAgICB0aGlzLl9wcmljZSA9IHByaWNlO1xuICAgICAgICB0aGlzLl9zdGFydERhdGUgPSBzdGFydERhdGU7XG4gICAgICAgIHRoaXMuX2VuZERhdGUgPSBlbmREYXRlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlzYm5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaXNibigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9pc2JuO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcHJpY2VcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgcHJpY2UoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fcHJpY2U7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdGFydERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHN0YXJ0RGF0ZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fc3RhcnREYXRlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZW5kRGF0ZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgZW5kRGF0ZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fZW5kRGF0ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGlzYm5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpc2JuKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9pc2JuID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBwcmljZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHByaWNlKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9wcmljZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc3RhcnREYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHN0YXJ0RGF0ZSh2YWx1ZTogRGF0ZSkge1xuXHRcdHRoaXMuX3N0YXJ0RGF0ZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZW5kRGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBlbmREYXRlKHZhbHVlOiBEYXRlKSB7XG5cdFx0dGhpcy5fZW5kRGF0ZSA9IHZhbHVlO1xuXHR9XG4gICAgXG5cbiAgICBcbn0iLCJpbXBvcnQgeyBCb29rU3BlY2lmaWNhdGlvbiB9IGZyb20gXCIuL2Jvb2stc3BlY2lmaWNhdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQm9vayB7XG4gIHByaXZhdGUgX2lzYm46IHN0cmluZztcbiAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9hdXRob3I6IHN0cmluZztcbiAgcHJpdmF0ZSBfcHVibGlzaFllYXI6IHN0cmluZztcbiAgcHJpdmF0ZSBfcGFnZXM6IG51bWJlcjtcbiAgcHJpdmF0ZSBfYm9va1NwZWM6IEJvb2tTcGVjaWZpY2F0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGlzYm46IHN0cmluZywgbmFtZTogc3RyaW5nLCBhdXRob3I6IHN0cmluZywgcHVibGlzaFllYXI6IHN0cmluZywgcGFnZXM6IG51bWJlciwgYm9va1NwZWM6IEJvb2tTcGVjaWZpY2F0aW9uKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYXV0aG9yID0gYXV0aG9yO1xuICAgIHRoaXMuX2lzYm4gPSBpc2JuO1xuICAgIHRoaXMuX3B1Ymxpc2hZZWFyID0gcHVibGlzaFllYXI7XG4gICAgdGhpcy5fcGFnZXMgPSBwYWdlcztcbiAgICB0aGlzLl9ib29rU3BlYyA9IGJvb2tTcGVjO1xuICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpc2JuXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlzYm4oKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5faXNibjtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIG5hbWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9uYW1lO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYXV0aG9yXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGF1dGhvcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9hdXRob3I7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBwdWJsaXNoWWVhclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblx0cHVibGljIGdldCBwdWJsaXNoWWVhcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9wdWJsaXNoWWVhcjtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHBhZ2VzXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHBhZ2VzKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3BhZ2VzO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1NwZWNcbiAgICAgKiBAcmV0dXJuIHtCb29rU3BlY2lmaWNhdGlvbn1cbiAgICAgKi9cblx0cHVibGljIGdldCBib29rU3BlYygpOiBCb29rU3BlY2lmaWNhdGlvbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2Jvb2tTcGVjO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaXNiblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlzYm4odmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX2lzYm4gPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9uYW1lID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBhdXRob3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBhdXRob3IodmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX2F1dGhvciA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcHVibGlzaFllYXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBwdWJsaXNoWWVhcih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fcHVibGlzaFllYXIgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHBhZ2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgcGFnZXModmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX3BhZ2VzID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBib29rU3BlY1xuICAgICAqIEBwYXJhbSB7Qm9va1NwZWNpZmljYXRpb259IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgYm9va1NwZWModmFsdWU6IEJvb2tTcGVjaWZpY2F0aW9uKSB7XG5cdFx0dGhpcy5fYm9va1NwZWMgPSB2YWx1ZTtcblx0fVxuICBcblxufVxuIiwiZXhwb3J0IGNsYXNzIEN1c3RvbWVyIHtcbiAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9zdXJOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX3Bob25lTnVtYmVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nLCBzdXJOYW1lOiBzdHJpbmcsIHBob25lTnVtYmVyOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX3N1ck5hbWUgPSBzdXJOYW1lO1xuICAgIHRoaXMuX3Bob25lTnVtYmVyID0gcGhvbmVOdW1iZXI7XG4gIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgbmFtZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblx0cHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX25hbWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdXJOYW1lXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHN1ck5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fc3VyTmFtZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHBob25lTnVtYmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHBob25lTnVtYmVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX3Bob25lTnVtYmVyO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9uYW1lID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzdXJOYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgc3VyTmFtZSh2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fc3VyTmFtZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcGhvbmVOdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBwaG9uZU51bWJlcih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fcGhvbmVOdW1iZXIgPSB2YWx1ZTtcblx0fVxuXG5cbn1cbiIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlQ2FydCB7XG4gICAgY3VzdG9tZXJJZCE6IG51bWJlcjtcbiAgICBib29rQW5kUXVhbnRpdHlNYXA6IE1hcDxCb29rLCBudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYm9va0FuZFF1YW50aXR5TWFwID0gbmV3IE1hcDxCb29rLCBudW1iZXI+KCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlIHtcblxuICAgIHByaXZhdGUgX2Jvb2tBbmRRdWFudGl0eU1hcD8gPSBuZXcgTWFwPEJvb2ssIG51bWJlcj4oKTtcbiAgICBwcml2YXRlIF9jdXN0b21lcklkPzogbnVtYmVyO1xuICAgIHByaXZhdGUgX29wZXJhdGlvbkRhdGVUaW1lPzogRGF0ZTtcbiAgICBwcml2YXRlIF9vcGVyYXRpb25OdW1iZXI/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfdG90YWw/OiBudW1iZXI7XG5cblxuICAgIGNvbnN0cnVjdG9yKGJvb2tBbmRRdWFudGl0eU1hcD86IE1hcDxCb29rLCBudW1iZXI+LCBvcGVyYXRpb25EYXRlVGltZT86IERhdGUsIGN1c3RvbWVySWQ/OiBudW1iZXIsIG9wZXJhdGlvbk51bWJlcj86IHN0cmluZywgdG90YWw/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fYm9va0FuZFF1YW50aXR5TWFwID0gYm9va0FuZFF1YW50aXR5TWFwO1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25EYXRlVGltZSA9IG9wZXJhdGlvbkRhdGVUaW1lO1xuICAgICAgICB0aGlzLl9jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcbiAgICAgICAgdGhpcy5fb3BlcmF0aW9uTnVtYmVyID0gb3BlcmF0aW9uTnVtYmVyO1xuICAgICAgICB0aGlzLl90b3RhbCA9IHRvdGFsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tBbmRRdWFudGl0eU1hcFxuICAgICAqIEByZXR1cm4ge01hcDxCb29rLCBudW1iZXI+KCl9XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rQW5kUXVhbnRpdHlNYXAoKTogTWFwPEJvb2ssIG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9va0FuZFF1YW50aXR5TWFwITtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcGVyYXRpb25EYXRlVGltZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG4gICAgcHVibGljIGdldCBvcGVyYXRpb25EYXRlVGltZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wZXJhdGlvbkRhdGVUaW1lITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY3VzdG9tZXJJZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGN1c3RvbWVySWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbWVySWQhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcGVyYXRpb25OdW1iZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHVibGljIGdldCBvcGVyYXRpb25OdW1iZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wZXJhdGlvbk51bWJlciE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHRvdGFsXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgdG90YWwoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsITtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tBbmRRdWFudGl0eU1hcFxuICAgICAqIEBwYXJhbSB7TWFwfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9va0FuZFF1YW50aXR5TWFwKHZhbHVlOiBNYXA8Qm9vaywgbnVtYmVyPikge1xuICAgICAgICB0aGlzLl9ib29rQW5kUXVhbnRpdHlNYXAgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgb3BlcmF0aW9uRGF0ZVRpbWVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBvcGVyYXRpb25EYXRlVGltZSh2YWx1ZTogRGF0ZSkge1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25EYXRlVGltZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBjdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBjdXN0b21lcklkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJJZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBvcGVyYXRpb25OdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IG9wZXJhdGlvbk51bWJlcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX29wZXJhdGlvbk51bWJlciA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciB0b3RhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgdG90YWwodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl90b3RhbCA9IHZhbHVlO1xuICAgIH1cblxuXG59IiwiZXhwb3J0IGNsYXNzIFN0b2NrIHtcbiAgICBwcml2YXRlIF9pc2JuOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcXVhbnRpdHk6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zaGVsZk51bWJlcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoaXNibj86IHN0cmluZywgcXVhbnRpdHk/OiBudW1iZXIsIHNoZWxmTnVtYmVyPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2lzYm4gPSBpc2JuITtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBxdWFudGl0eSE7XG4gICAgICAgIHRoaXMuX3NoZWxmTnVtYmVyID0gc2hlbGZOdW1iZXIhO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaXNiblxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGlzYm4oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzYm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHF1YW50aXR5XG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzaGVsZk51bWJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNoZWxmTnVtYmVyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGVsZk51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaXNiblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgaXNibih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2lzYm4gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2hlbGZOdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNoZWxmTnVtYmVyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hlbGZOdW1iZXIgPSB2YWx1ZTtcbiAgICB9XG5cblxufSIsIi8vIGV4cG9ydCBOT0RFX09QVElPTlM9LS1vcGVuc3NsLWxlZ2FjeS1wcm92aWRlclxuaW1wb3J0IHsgRGF0YUJhc2UgfSBmcm9tIFwiLi9kYi9kYXRhYmFzZVwiO1xuaW1wb3J0IGZldGNoIGZyb20gJ25vZGUtZmV0Y2gnXG5cbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgQm9va1NwZWNpZmljYXRpb24gfSBmcm9tIFwiLi9kb21haW4vYm9vay1zcGVjaWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL2RvbWFpbi9jdXN0b21lclwiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi9kb21haW4vc3RvY2tcIjtcbmltcG9ydCB7IEJvb2tTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9ib29rLXNlcnZpY2VcIjtcbmltcG9ydCB7IENhbmNlbFNhbGVTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9jYW5jYWwtc2FsZS1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBDdXN0b21lclNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2N1c3RvbWVyLXNlcnZpY2VcIjtcbmltcG9ydCB7IFJlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9yZW50LXNlcnZpY2VcIjtcbmltcG9ydCB7IFNhbGVTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9zYWxlLXNlcnZpY2VcIjtcbmltcG9ydCB7IFN0b2NrU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2Uvc3RvY2stc2VydmljZVwiO1xuXG5leHBvcnQgbGV0IGJvb2tTZXJ2aWNlOiBCb29rU2VydmljZTtcbmV4cG9ydCBsZXQgY3VzdG9tZXJTZXJ2aWNlOiBDdXN0b21lclNlcnZpY2U7XG5leHBvcnQgbGV0IGNhbmNlbFNhbGVTZXJ2aWNlOiBDYW5jZWxTYWxlU2VydmljZTtcbmV4cG9ydCBsZXQgcmVudFNlcnZpY2U6IFJlbnRTZXJ2aWNlO1xuZXhwb3J0IGxldCBzYWxlU2VydmljZTogU2FsZVNlcnZpY2U7XG5leHBvcnQgbGV0IHN0b2NrU2VydmljZTogU3RvY2tTZXJ2aWNlO1xuXG5sZXQgZGI6IERhdGFCYXNlID0gbmV3IERhdGFCYXNlKCk7XG5pbml0aWxpYXplU2VydmljZXMoZGIpO1xuYWRkTGlzdGVuZXJGb3JNZW51SXRlbXMoKTtcblxuXG5mdW5jdGlvbiBpbml0aWxpYXplU2VydmljZXMoZGI6IERhdGFCYXNlKSB7XG4gIGJvb2tTZXJ2aWNlID0gbmV3IEJvb2tTZXJ2aWNlKGRiLmdldEJvb2tzTGlzdCwgZGIuZ2V0Qm9va1NwZWNpZmljYXRpb25zKTtcbiAgY3VzdG9tZXJTZXJ2aWNlID0gbmV3IEN1c3RvbWVyU2VydmljZShkYi5nZXRDdXN0b21lcnNMaXN0KTtcbiAgY2FuY2VsU2FsZVNlcnZpY2UgPSBuZXcgQ2FuY2VsU2FsZVNlcnZpY2UoZGIuZ2V0Q2FuY2FsZWRTYWxlcyk7XG4gIHJlbnRTZXJ2aWNlID0gbmV3IFJlbnRTZXJ2aWNlKGRiLmdldFJlbnRzKTtcbiAgc2FsZVNlcnZpY2UgPSBuZXcgU2FsZVNlcnZpY2UoZGIuZ2V0U2FsZXNMaXN0LCBkYi5nZXRTYWxlQ2FydCk7XG4gIHN0b2NrU2VydmljZSA9IG5ldyBTdG9ja1NlcnZpY2UoZGIuZ2V0U3RvY2tzTGlzdCk7XG4gIGNvbnNvbGUubG9nKFwiU2VydmljZXMgaW50aWxpYXplZC5cIik7XG5cbiAgYm9va1NlcnZpY2UuYWRkQm9vayhuZXcgQm9vayhcIjEyMy00NVwiLCBcIk5lcmVkZXlpelwiLCBcIk1laG1ldCBFcmNhblwiLCBcIjIwMjFcIiwgMTA5LCBuZXcgQm9va1NwZWNpZmljYXRpb24oXCIxMjMtNDVcIiwgMjUuOTksIG5ldyBEYXRlLCBuZXcgRGF0ZSkpKTtcbiAgYm9va1NlcnZpY2UuYWRkQm9vayhuZXcgQm9vayhcIjEyMy00NlwiLCBcIk5lcmVkZXlpeiAyXCIsIFwiTWVobWV0IEVyY2FuXCIsIFwiMjAyMlwiLCAxNzksIG5ldyBCb29rU3BlY2lmaWNhdGlvbihcIjEyMy00NlwiLCAyOS45OSwgbmV3IERhdGUsIG5ldyBEYXRlKSkpO1xuXG4gIGN1c3RvbWVyU2VydmljZS5hZGRDdXN0b21lcihuZXcgQ3VzdG9tZXIoMSwgXCJcIiwgXCJcIiwgXCJcIikpO1xuICBjdXN0b21lclNlcnZpY2UuYWRkQ3VzdG9tZXIobmV3IEN1c3RvbWVyKDIsIFwiXCIsIFwiXCIsIFwiXCIpKTtcblxuICBzdG9ja1NlcnZpY2UuYWRkU3RvY2soXCIxMjMtNDVcIiwgXCJBNDUtNTJcIiwgMTApO1xuICBzdG9ja1NlcnZpY2UuYWRkU3RvY2soXCIxMjMtNDZcIiwgXCJBNDUtNTJcIiwgMTApO1xufVxuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lckZvck1lbnVJdGVtcygpIHtcbiAgLy9zYWxlU2VydmljZS51cGRhdGVTYWxlQ2FydCgpO1xuICBzaG93QW5kSGlkZShcImFkZEJvb2tNZW51SXRlbVwiLCBcImFkZEJvb2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInNob3dCb29rc01lbnVJdGVtXCIsIFwibGlzdEJvb2tzU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJhZGRDdXN0b21lck1lbnVJdGVtXCIsIFwiYWRkQ3VzdG9tZXJTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcImFkZFN0b2NrTWVudUl0ZW1cIiwgXCJhZGRTdG9ja1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwic2FsZUJvb2tNZW51SXRlbVwiLCBcInNhbGVCb29rU2VjdGlvblwiKTtcbn1cblxuZnVuY3Rpb24gc2hvd0FuZEhpZGUoYnRuSWQ6IHN0cmluZywgZWxlbWVudElkOiBzdHJpbmcpIHtcbiAgLy9zYWxlU2VydmljZS51cGRhdGVTYWxlQ2FydCgpO1xuXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidG5JZCk7XG5cbiAgaWYgKGVsZW1lbnQgJiYgYnRuKSB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhZGRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYm9vay1mb3JtXCIpO1xuaWYgKGFkZEJvb2tGb3JtICE9IG51bGwpIHtcbiAgYWRkQm9va0Zvcm0ub25zdWJtaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQm9va0Zvcm0pO1xuXG4gICAgY29uc3QgdGl0bGUgPSBmb3JtRGF0YS5nZXQoXCJib29rVGl0bGVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGF1dGhvciA9IGZvcm1EYXRhLmdldChcImJvb2tBdXRob3JcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJib29rSXNiblwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcHVibGlzaFllYXIgPSBmb3JtRGF0YS5nZXQoXCJib29rUHVibGlzaFllYXJcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBhZ2VzID0gZm9ybURhdGEuZ2V0KFwiYm9va1BhZ2VzXCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHByaWNlID0gZm9ybURhdGEuZ2V0KFwiYm9va1ByaWNlXCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKCdEZWMgMzEsIDk5OTkgMjM6NTk6NTknKTtcblxuICAgIGNvbnN0IGJvb2tTcGVjID0gbmV3IEJvb2tTcGVjaWZpY2F0aW9uKGlzYm4sIHByaWNlLCBzdGFydERhdGUsIGVuZERhdGUpO1xuXG4gICAgY29uc3QgYm9vayA9IG5ldyBCb29rKGlzYm4sIHRpdGxlLCBhdXRob3IsIHB1Ymxpc2hZZWFyLCBwYWdlcywgYm9va1NwZWMpO1xuICAgIC8vYm9va1NlcnZpY2UuYWRkQm9vayhib29rKTtcblxuICAgIGJvb2tTZXJ2aWNlLmFkZEJvb2tNb2NrKGJvb2spO1xuICAgIGFsZXJ0KGJvb2suaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCBFa2xlbWUgxLDFn2xlbWkgQmHFn2FyxLEgxLBsZSBUYW1hbWxhbm3EscWfdMSxci5cIik7XG4gICAgYWRkQm9va0Zvcm0ucmVzZXQoKTtcblxuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuY29uc3QgYWRkU3RvY2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtc3RvY2stZm9ybVwiKSk7XG5pZiAoYWRkU3RvY2tGb3JtKSB7XG4gIGFkZFN0b2NrRm9ybS5vbnN1Ym1pdCA9ICgpID0+IHtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGFkZFN0b2NrRm9ybSk7XG5cbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiYm9va0lzYm5Gb3JBZGRTdG9ja1wiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcXVhbnR0aXkgPSBmb3JtRGF0YS5nZXQoXCJzdG9ja1F1YW50aXR5XCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHNoZWxmTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwic2hlbGZOdW1iZXJcIikgYXMgc3RyaW5nO1xuXG4gICAgY29uc3Qgc3RvY2sgPSBuZXcgU3RvY2soaXNibiwgcXVhbnR0aXksIHNoZWxmTnVtYmVyKTtcblxuICAgIGNvbnN0IGlzQ29udGFpbnNCb29rID0gZGIuZ2V0Qm9va3NMaXN0LnNvbWUoYiA9PiBiLmlzYm4gPT0gaXNibik7XG5cbiAgICAvLyBpZiAoIWlzQ29udGFpbnNCb29rKSB7XG4gICAgLy8gICBhbGVydChcIlN0b2sgZWtsZW5tZXllIMOnYWzEscWfxLFsYW4ga2l0YXAsIGthecSxdGzEsSBkZcSfaWxkaXIuIEzDvHRmZW4gw7ZuY2Uga2l0YXAgZWtsZXlpbml6XCIpO1xuICAgIC8vIH1cbiAgICAvLyBlbHNlIHtcbiAgICAvLyAgIHN0b2NrU2VydmljZS5pbmNyZWFzZVN0b2NrKGlzYm4sIHF1YW50dGl5KTtcbiAgICAvLyAgIGFsZXJ0KGlzYm4gKyBcIiBpc2JuIG51bWFyYWzEsSBraXRhcHRhbiwgXCIgKyBxdWFudHRpeSArIFwiIGthZGFyIHNpc3RlbWUgc3RvayBla2xlbm1pxZ90aXIuXCIpO1xuICAgIC8vIH1cblxuICAgIGFsZXJ0KGlzYm4gKyBcIiBpc2JuIG51bWFyYWzEsSBraXRhcHRhbiwgXCIgKyBxdWFudHRpeSArIFwiIGthZGFyIHNpc3RlbWUgc3RvayBla2xlbm1pxZ90aXIuXCIpO1xuICAgIHN0b2NrU2VydmljZS5hZGRTdG9ja01vY2soc3RvY2spO1xuICAgIGFkZFN0b2NrRm9ybS5yZXNldCgpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuY29uc3QgYWRkQ3VzdG9tZXJGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtY3VzdG9tZXItZm9ybVwiKSk7XG5pZiAoYWRkQ3VzdG9tZXJGb3JtKSB7XG5cbiAgYWRkQ3VzdG9tZXJGb3JtLm9uc3VibWl0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGFkZEN1c3RvbWVyRm9ybSk7XG5cbiAgICBjb25zdCBuYW1lID0gZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJOYW1lXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBzdXJuYW1lID0gZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJTdXJuYW1lXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBwaG9uZU51bWJlciA9IGZvcm1EYXRhLmdldChcImN1c3RvbWVyUGhvbmVOdW1iZXJcIikgYXMgc3RyaW5nO1xuXG4gICAgY29uc3QgY3VzdG9tZXIgPSBuZXcgQ3VzdG9tZXIoY3VzdG9tZXJTZXJ2aWNlLmdldE5ld0N1c3RvbWVySWQoKSwgbmFtZSwgc3VybmFtZSwgcGhvbmVOdW1iZXIpO1xuXG4gICAgY3VzdG9tZXJTZXJ2aWNlLmFkZEN1c3RvbWVyKGN1c3RvbWVyKTtcbiAgICBhbGVydChcIk3DvMWfdGVyaSBFa2xlbWUgxLDFn2xlbWkgQmHFn2FyxLEgxLBsZSBUYW1hbWxhbm3EscWfdMSxci4gXCIpO1xuXG4gICAgYWRkQ3VzdG9tZXJGb3JtLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gZmFsc2U7IC8vIHByZXZlbnQgcmVsb2FkXG4gIH07XG5cblxufVxuXG5jb25zdCBzYWxlQm9va0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbGUtYm9vay1mb3JtXCIpKTtcbmlmIChzYWxlQm9va0Zvcm0pIHtcbiAgc2FsZUJvb2tGb3JtLm9uc3VibWl0ID0gKCkgPT4ge1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoc2FsZUJvb2tGb3JtKTtcblxuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJpc2JuRm9yU2FsZVwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYm9vayA9IGJvb2tTZXJ2aWNlLmdldEJvb2soaXNibik7XG4gICAgY29uc3QgY3VzdG9tZXJJZCA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcImN1c3RvbWVySWRGb3JTYWxlXCIpIGFzIHN0cmluZyk7XG4gICAgY29uc3QgY3VzdG9tZXI6IGJvb2xlYW4gPSBjdXN0b21lclNlcnZpY2UuaXNWYWxpZEN1c3RvbWVyKGN1c3RvbWVySWQpO1xuICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwicXVhbnRpdHlGb3JTYWxlXCIpIGFzIHN0cmluZyk7XG5cbiAgICBjb25zdCBzdG9jayA9IHN0b2NrU2VydmljZS5nZXRTdG9jayhpc2JuKSE7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGJvb2spIHtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgaWYgKHN0b2NrLnF1YW50aXR5ID49IHF1YW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoY3VzdG9tZXIpIHtcbiAgICAgICAgICAgICAgc2FsZVNlcnZpY2UuYWRkQm9va1RvQ2FydChib29rLCBxdWFudGl0eSwgY3VzdG9tZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbGVydChjdXN0b21lcklkICsgXCIgbnVtYXJhbMSxIG3DvMWfdGVyaSBrYXnEsXRsxLEgZGXEn2lsZGlyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGVydChxdWFudGl0eSArIFwiIGthZGFyIGtpdGFwIGTDvGtrYW5kYSBtZXZjdXQgZGXEn2lsZGlyLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxlcnQoYETDvGtrYW5kYSAke2lzYm59IG51bWFyYWzEsSBraXRhYsSxbiBzdG/En3UgbWV2Y3V0IGRlxJ9pbGRpci5gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCB5b2t0dXIuXCIpO1xuICAgICAgfVxuXG4gICAgICBzYWxlQm9va0Zvcm0ucmVzZXQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhbGVydChlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGJ0bkJ1eSA9IDxIVE1MQnV0dG9uRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5CdXlcIikpO1xuYnRuQnV5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmIChzYWxlU2VydmljZS5zYWxlQ2FydC5ib29rQW5kUXVhbnRpdHlNYXAuc2l6ZSA9PT0gMCkge1xuICAgIGFsZXJ0KFwiU2VwZXR0ZSDDvHLDvG4geW9rLiBMw7x0ZmVuIMO2bmNlIMO8csO8biBla2xleWluaXpcIik7XG4gIH0gZWxzZSB7XG4gICAgc2FsZVNlcnZpY2UuY2FydFRvU2FsZSgpO1xuICB9XG5cbn0pO1xuXG5jb25zdCBidG5TaG93Qm9va3NNZW51SXRlbSA9IDxIVE1MRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93Qm9va3NNZW51SXRlbVwiKSk7XG5idG5TaG93Qm9va3NNZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBib29rU2VydmljZS5pbml0aWFsaXplQm9va3NNb2NrKCk7XG59KVxuXG4iLCJcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tTcGVjaWZpY2F0aW9uIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rLXNwZWNpZmljYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEJvb2tTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9ib29rTGlzdDogQXJyYXk8Qm9vaz47XG4gICAgcHJpdmF0ZSBfYm9va1NwZWNMaXN0OiBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj47XG5cbiAgICBjb25zdHJ1Y3Rvcihib29rTGlzdDogQXJyYXk8Qm9vaz4sIGJvb2tTcGVjTGlzdDogQXJyYXk8Qm9va1NwZWNpZmljYXRpb24+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tMaXN0ID0gYm9va0xpc3Q7XG4gICAgICAgIHRoaXMuX2Jvb2tTcGVjTGlzdCA9IGJvb2tTcGVjTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZGF0YUJhc2VcbiAgICAgKiBAcmV0dXJuIHtEYXRhQmFzZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGJvb2tMaXN0KCk6IEFycmF5PEJvb2s+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBkYXRhQmFzZVxuICAgICAqIEBwYXJhbSB7RGF0YUJhc2V9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBib29rTGlzdCh2YWx1ZTogQXJyYXk8Qm9vaz4pIHtcbiAgICAgICAgdGhpcy5fYm9va0xpc3QgPSB2YWx1ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rU3BlY0xpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rU3BlY2lmaWNhdGlvbj59XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rU3BlY0xpc3QoKTogQXJyYXk8Qm9va1NwZWNpZmljYXRpb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tTcGVjTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va1NwZWNMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxCb29rU3BlY2lmaWNhdGlvbj59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBib29rU3BlY0xpc3QodmFsdWU6IEFycmF5PEJvb2tTcGVjaWZpY2F0aW9uPikge1xuICAgICAgICB0aGlzLl9ib29rU3BlY0xpc3QgPSB2YWx1ZTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBnZXRCb29rKGlzYm46IHN0cmluZyk6IEJvb2sge1xuICAgICAgICAvL0J1cmFkYW4gbnVsbCBiaXIgZGXEn2VyIGRlIGTDtm5lYmlsZWNlxJ9pIGnDp2luIGhhdGEgdmVyaXlvclxuICAgICAgICAvL2FtYSBiaXogc29uZGFraSAhIG9wZXJhdMO2csO8IGlsZSBudWxsIGRlxJ9lciBkw7ZubWV5ZWNlayBkaXllIGdhcmFudGkgdmVyaXlvcnV6XG4gICAgICAgIHJldHVybiB0aGlzLmJvb2tMaXN0LmZpbmQoYiA9PiBiLmlzYm4gPT09IGlzYm4pITtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9vayhuZXdCb29rOiBCb29rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJvb2tMaXN0LnB1c2gobmV3Qm9vayk7XG4gICAgICAgICAgICB0aGlzLl9ib29rU3BlY0xpc3QucHVzaChuZXdCb29rLmJvb2tTcGVjKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIktpdGFwIGVrbGVuaXJrZW4gYmlyIGhhdGEgbWV5ZGFuYSBnZWxkaS5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNWYWxpZEJvb2soaXNibjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmdldEJvb2soaXNibik7XG4gICAgICAgIHJldHVybiB0aGlzLmJvb2tMaXN0LmluY2x1ZGVzKGIpXG4gICAgfVxuXG4gICAgcHVibGljIGxpc3RCb29rcygpIHtcblxuICAgIH1cblxuICAgIHB1YmxpYyBpbml0aWFsaXplQm9va3NNb2NrKCkge1xuICAgICAgICBnZXRJbml0aWFsaXplQm9va3NNb2NrKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEJvb2tNb2NrKGI6IEJvb2spIHtcbiAgICAgICAgcG9zdEFkZEJvb2tNb2NrKGIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZUJvb2tzTW9jaygpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL2Jvb2tzJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuXG5cbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEJvb2tbXT5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgNCkpLmJvb2tzO1xuICAgICAgICBjb25zb2xlLmxvZyhnZXRSZXN1bHQpO1xuXG5cblxuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcG9zdEFkZEJvb2tNb2NrKGI6IEJvb2spIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL2Jvb2tzLycgKyBiLmlzYm4sIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGlzYm46IGIuaXNibixcbiAgICAgICAgICAgICAgICBuYW1lOiBiLm5hbWUsXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBiLmF1dGhvcixcbiAgICAgICAgICAgICAgICBwYWdlczogYi5wYWdlcyxcbiAgICAgICAgICAgICAgICBwdWJsaXNoWWVhcjogYi5wdWJsaXNoWWVhclxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgfVxufSIsImltcG9ydCB7IERhdGFCYXNlIH0gZnJvbSBcIi4uL2RiL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBDYW5jZWxTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9jYW5jYWwtc2FsZVwiO1xuXG5leHBvcnQgY2xhc3MgQ2FuY2VsU2FsZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2NhbmNlbGxlZFNhbGVzTGlzdDogQXJyYXk8Q2FuY2VsU2FsZT47XG5cblxuXHRjb25zdHJ1Y3RvcihjYW5jZWxsZWRTYWxlc0xpc3Q6IEFycmF5PENhbmNlbFNhbGU+KSB7XG5cdFx0dGhpcy5fY2FuY2VsbGVkU2FsZXNMaXN0ID0gY2FuY2VsbGVkU2FsZXNMaXN0O1xuXHR9XG4gICAgXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY2FuY2VsbGVkU2FsZXNMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Q2FuY2VsU2FsZT59XG4gICAgICovXG5cdHB1YmxpYyBnZXQgY2FuY2VsbGVkU2FsZXNMaXN0KCk6IEFycmF5PENhbmNlbFNhbGU+IHtcblx0XHRyZXR1cm4gdGhpcy5fY2FuY2VsbGVkU2FsZXNMaXN0O1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY2FuY2VsbGVkU2FsZXNMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxDYW5jZWxTYWxlPn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBjYW5jZWxsZWRTYWxlc0xpc3QodmFsdWU6IEFycmF5PENhbmNlbFNhbGU+KSB7XG5cdFx0dGhpcy5fY2FuY2VsbGVkU2FsZXNMaXN0ID0gdmFsdWU7XG5cdH1cblxuXG5cbiAgICBwdWJsaWMgY2FuY2VsU2FsZShjYW5jZWxTYWxlOiBDYW5jZWxTYWxlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkU2FsZXNMaXN0LnB1c2goY2FuY2VsU2FsZSk7XG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlciA9IHRoaXMuY2FsY3VsYXRlUmVmdW5kKGNhbmNlbFNhbGUpO1xuICAgICAgICBjYW5jZWxTYWxlLnJlZnVuZCA9IHJlZnVuZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsY3VsYXRlUmVmdW5kKGNhbmNlbFNhbGU6IENhbmNlbFNhbGUpOiBudW1iZXIge1xuXG5cbiAgICAgICAgbGV0IGRpZmYgPSB0aGlzLmNhbGN1bGF0ZURpZmZIb3VycyhjYW5jZWxTYWxlLmNhbmNlbGVkRGF0ZVRpbWUsIGNhbmNlbFNhbGUuc2FsZS5vcGVyYXRpb25EYXRlVGltZSlcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyO1xuXG4gICAgICAgIGlmIChkaWZmID4gMjQpIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IGNhbmNlbFNhbGUuc2FsZS50b3RhbCAqIDAuNzU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxTYWxlLnNhbGUudG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZnVuZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsY3VsYXRlRGlmZkhvdXJzKGQxOiBEYXRlLCBkMjogRGF0ZSk6IG51bWJlciB7XG5cbiAgICAgICAgbGV0IGRpZmZNaWxpczogbnVtYmVyID0gKGQxLmdldFRpbWUoKSAtIGQyLmdldFRpbWUoKSk7Ly8gbWlsaSBzZWNvbmRzXG4gICAgICAgIGxldCBkaWZmSG91ciA9IE1hdGguZmxvb3IoZGlmZk1pbGlzIC8gMTAwMCAvIDYwIC8gNjAgKTsgLy8gLzEwMDAgPiBzZWNvbmQgLyA2MCA+IG1pbiAvIDYwID4gaG91clxuICAgICAgICByZXR1cm4gZGlmZkhvdXI7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgRGF0YUJhc2UgfSBmcm9tIFwiLi4vZGIvZGF0YWJhc2VcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4uL2RvbWFpbi9jdXN0b21lclwiO1xuXG5leHBvcnQgY2xhc3MgQ3VzdG9tZXJTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9jdXN0b21lckxpc3Q6IEFycmF5PEN1c3RvbWVyPjtcblxuICAgIGNvbnN0cnVjdG9yKGN1c3RvbWVyTGlzdDogQXJyYXk8Q3VzdG9tZXI+KSB7XG4gICAgICAgIHRoaXMuX2N1c3RvbWVyTGlzdCA9IGN1c3RvbWVyTGlzdDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjdXN0b21lckxpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxDdXN0b21lcj59XG4gICAgICovXG5cdHB1YmxpYyBnZXQgY3VzdG9tZXJMaXN0KCk6IEFycmF5PEN1c3RvbWVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2N1c3RvbWVyTGlzdDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGN1c3RvbWVyTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8Q3VzdG9tZXI+fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGN1c3RvbWVyTGlzdCh2YWx1ZTogQXJyYXk8Q3VzdG9tZXI+KSB7XG5cdFx0dGhpcy5fY3VzdG9tZXJMaXN0ID0gdmFsdWU7XG5cdH1cbiAgIFxuXG4gICAgcHVibGljIGFkZEN1c3RvbWVyKG5ld0N1c3RvbWVyOiBDdXN0b21lcikge1xuICAgICAgICB0aGlzLmN1c3RvbWVyTGlzdC5wdXNoKG5ld0N1c3RvbWVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TmV3Q3VzdG9tZXJJZCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgbGFzdEN1c3RvbWVySWQ6IG51bWJlciA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VzdG9tZXJMaXN0Lmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGFzdEN1c3RvbWVySWQgPSB0aGlzLmN1c3RvbWVyTGlzdC5hdCh0aGlzLmN1c3RvbWVyTGlzdC5sZW5ndGggLSAxKSEuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0Q3VzdG9tZXJJZCA9IGxhc3RDdXN0b21lcklkICsgMTtcblxuICAgICAgICByZXR1cm4gbGFzdEN1c3RvbWVySWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEN1c3RvbWVySW5mbyhpZDogbnVtYmVyKTogQ3VzdG9tZXIgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGxldCBjdXN0b21lciA9IHRoaXMuY3VzdG9tZXJMaXN0LmZpbmQoY3VzdG9tZXIgPT4gY3VzdG9tZXIuaWQgPT09IGlkKTtcblxuICAgICAgICBpZiAoY3VzdG9tZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXN0b21lcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNWYWxpZEN1c3RvbWVyKGN1c3RvbWVySWQ6IG51bWJlcik6IGJvb2xlYW4ge1xuXG4gICAgICAgIGxldCBpc1ZhbGlkID0gdGhpcy5jdXN0b21lckxpc3Quc29tZShjdXN0b21lciA9PiBjdXN0b21lci5pZCA9PT0gY3VzdG9tZXJJZCk7XG5cbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IERhdGFCYXNlIH0gZnJvbSBcIi4uL2RiL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBSZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBSZW50U2VydmljZSB7XG4gICAgcHJpdmF0ZSBfcmVudExpc3Q6IEFycmF5PFJlbnQ+O1xuICAgIHJlZnVuZFBlcmNlbnQ6IG51bWJlcjtcblxuXG4gICAgY29uc3RydWN0b3IocmVudExpc3Q6IEFycmF5PFJlbnQ+KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gcmVudExpc3Q7XG4gICAgICAgIHRoaXMucmVmdW5kUGVyY2VudCA9IDAuNzU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcmVudExpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxSZW50Pn1cbiAgICAgKi9cblx0cHVibGljIGdldCByZW50TGlzdCgpOiBBcnJheTxSZW50PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlbnRMaXN0O1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudExpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJlbnQ+fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHJlbnRMaXN0KHZhbHVlOiBBcnJheTxSZW50Pikge1xuXHRcdHRoaXMuX3JlbnRMaXN0ID0gdmFsdWU7XG5cdH1cblxuXG5cbiAgICBwdWJsaWMgYWRkUmVudChyZW50OiBSZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVudExpc3QucHVzaChyZW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsY3VsYXRlVG90YWwocmVudDogUmVudCk6IG51bWJlciB7XG5cbiAgICAgICAgbGV0IG1hcDogTWFwPEJvb2ssIG51bWJlcj4gPSByZW50LmJvb2tBbmRRdWFudGl0eU1hcDtcblxuICAgICAgICBsZXQgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgLy9pdCBjYW4gYmUgPT4gbGV0IGVudHJ5IG9mIHJlbnQuYm9va0FuZFF1YW50aXR5TWFwLmVudHJpZXMoKVxuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiByZW50LmJvb2tBbmRRdWFudGl0eU1hcCkge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gZW50cnlbMF0uYm9va1NwZWMucHJpY2UgKiBlbnRyeVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICAvLyBSMDUxMDIyMTQ1NTA5ID0+IGRvbWFpbi5SZW50IDA1LjEwLjIwMjIgMTQ6NTUuMDlcbiAgICBnZW5lcmF0ZVJlbnROdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiUlwiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcgKyB0b2RheS5nZXRNb250aCgpLnRvU3RyaW5nICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZyArIHRvZGF5LmdldEhvdXJzKCkudG9TdHJpbmcgKyB0b2RheS5nZXRNaW51dGVzKCkudG9TdHJpbmcgKyB0b2RheS5nZXRTZWNvbmRzKCkudG9TdHJpbmcgKyBjdXN0b21lcklkLnRvU3RyaW5nO1xuXG4gICAgICAgIHJldHVybiByZWNlaXB0TnVtYmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVSZWZ1bmQocmVudDogUmVudCk6IHZvaWQge1xuICAgICAgICByZW50LnJlZnVuZCA9IHJlbnQudG90YWwgKiB0aGlzLnJlZnVuZFBlcmNlbnQ7XG4gICAgfVxuXG5cbn0iLCJpbXBvcnQgeyBkZWJ1ZyB9IGZyb20gXCJ3ZWJwYWNrXCI7XG5pbXBvcnQgeyBzdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IERhdGFCYXNlIH0gZnJvbSBcIi4uL2RiL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuLi9kb21haW4vY3VzdG9tZXJcIjtcbmltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGVcIjtcbmltcG9ydCB7IFNhbGVDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlLWNhcnRcIjtcbmltcG9ydCB7IFN0b2NrU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlL3N0b2NrLXNlcnZpY2VcIlxuXG5leHBvcnQgY2xhc3MgU2FsZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3NhbGVMaXN0OiBBcnJheTxTYWxlPjtcbiAgICBwcml2YXRlIF9zYWxlQ2FydDogU2FsZUNhcnQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKHNhbGVMaXN0OiBBcnJheTxTYWxlPiwgc2FsZUNhcnQ6IFNhbGVDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3NhbGVMaXN0ID0gc2FsZUxpc3Q7XG4gICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gc2FsZUNhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNhbGVMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8U2FsZT59XG4gICAgICovXG4gICAgcHVibGljIGdldCBzYWxlTGlzdCgpOiBBcnJheTxTYWxlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYWxlTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2FsZUxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFNhbGU+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2FsZUxpc3QodmFsdWU6IEFycmF5PFNhbGU+KSB7XG4gICAgICAgIHRoaXMuX3NhbGVMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgc2FsZUNhcnRcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxTYWxlQ2FydD59XG4gICAgICovXG5cdHB1YmxpYyBnZXQgc2FsZUNhcnQoKTogU2FsZUNhcnQge1xuXHRcdHJldHVybiB0aGlzLl9zYWxlQ2FydDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtBcnJheTxTYWxlQ2FydD59IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgc2FsZUNhcnQodmFsdWU6IFNhbGVDYXJ0KSB7XG5cdFx0dGhpcy5fc2FsZUNhcnQgPSB2YWx1ZTtcblx0fVxuXG5cbiAgICBwdWJsaWMgYWRkU2FsZShzYWxlOiBTYWxlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2FsZUxpc3QucHVzaChzYWxlKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVUb3RhbChzYWxlOiBTYWxlKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHN1YlRvdGFsID0gMC4wO1xuXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHNhbGUuYm9va0FuZFF1YW50aXR5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gZW50cnlbMF0uYm9va1NwZWMucHJpY2UgKiBlbnRyeVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbGVOdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiU1wiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1vbnRoKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEhvdXJzKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1pbnV0ZXMoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkgKyBjdXN0b21lcklkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpcHROdW1iZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNhbGUoc2FsZU51bWJlcjogc3RyaW5nKTogU2FsZSB7XG5cbiAgICAgICAgbGV0IHNhbGUgPSB0aGlzLnNhbGVMaXN0LmZpbmQocyA9PiBzLm9wZXJhdGlvbk51bWJlciA9PT0gc2FsZU51bWJlcik7XG5cbiAgICAgICAgaWYgKHNhbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVNhbGUoc2FsZTogU2FsZSkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNhbGVMaXN0LmluZGV4T2Yoc2FsZSk7XG4gICAgICAgIHRoaXMuc2FsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5ib29rQW5kUXVhbnRpdHlNYXAuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zYWxlQ2FydC5jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNhbGVDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcC5zaXplID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBzYXTEsWxtYXlhIMOnYWzEscWfxLFsxLF5b3IuIEzDvHRmZW4gdGVrIG3DvMWfdGVyaSBpw6dpbiBpxZ9sZW0geWFwxLFuxLF6XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2FsZUNhcnQuYm9va0FuZFF1YW50aXR5TWFwLnNldChib29rLCBxdWFudGl0eSk7XG4gICAgICAgIHRoaXMudXBkYXRlU2FsZUNhcnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlU2FsZUNhcnQoKSB7XG4gICAgICAgIGNvbnN0IHNhbGVDYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYWxlQ2FydFwiKTtcbiAgICAgICAgY29uc3Qgc3ViVG90YWxTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3RhbEFtb3VudFRsXCIpO1xuXG4gICAgICAgIGlmIChzYWxlQ2FydCkge1xuXG4gICAgICAgICAgICBsZXQgcm93LCBjb2x1bW4sIHN1YlRvdGFsOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHNhbGVDYXJ0Lmxhc3RDaGlsZCAmJiBzYWxlQ2FydC5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc2FsZUNhcnQucmVtb3ZlQ2hpbGQoc2FsZUNhcnQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2FsZUNhcnQuYm9va0FuZFF1YW50aXR5TWFwLnNpemU7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcm93LmNsYXNzTmFtZSA9IFwicm93LWNhcnRcIjtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHRoaXMuc2FsZUNhcnQuYm9va0FuZFF1YW50aXR5TWFwLmVudHJpZXMoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1jYXJ0XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tY2FydFwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbnRyeVswXS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tY2FydFwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbnRyeVsxXS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tY2FydFwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSAoZW50cnlbMF0uYm9va1NwZWMucHJpY2UgKiBlbnRyeVsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ICYmIHN1YlRvdGFsU3Bhbikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnNhbGVDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbCArPSB0WzBdLmJvb2tTcGVjLnByaWNlICogdFsxXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzYWxlQ2FydC5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgICAgIHN1YlRvdGFsU3Bhbi50ZXh0Q29udGVudCA9IHN1YlRvdGFsLnRvU3RyaW5nKCkgKyBcIiBUTFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuXG4gICAgfVxuXG4gICAgcHVibGljIGNhcnRUb1NhbGUoKSB7XG4gICAgICAgIGxldCBzYWxlQ2FydDogU2FsZUNhcnQgPSB0aGlzLnNhbGVDYXJ0O1xuICAgICAgICBsZXQgc2FsZSA9IG5ldyBTYWxlKCk7XG4gICAgICAgIHNhbGUuYm9va0FuZFF1YW50aXR5TWFwID0gc2FsZUNhcnQuYm9va0FuZFF1YW50aXR5TWFwO1xuICAgICAgICBzYWxlLmN1c3RvbWVySWQgPSBzYWxlQ2FydC5jdXN0b21lcklkO1xuICAgICAgICBzYWxlLm9wZXJhdGlvbk51bWJlciA9IHRoaXMuZ2VuZXJhdGVTYWxlTnVtYmVyKHNhbGVDYXJ0LmN1c3RvbWVySWQpO1xuICAgICAgICBzYWxlLm9wZXJhdGlvbkRhdGVUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgc2FsZS50b3RhbCA9IHRoaXMuY2FsY3VsYXRlVG90YWwoc2FsZSk7XG5cbiAgICAgICAgZm9yIChsZXQgcSBvZiBzYWxlLmJvb2tBbmRRdWFudGl0eU1hcCkge1xuICAgICAgICAgICAgc3RvY2tTZXJ2aWNlLmluY3JlYXNlU3RvY2socVswXS5pc2JuLCAtcVsxXSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkU2FsZShzYWxlKTtcbiAgICAgICAgdGhpcy5zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydDsgLy8gc2VwZXRpIGJvxZ9hbHRcbiAgICAgICAgdGhpcy51cGRhdGVTYWxlQ2FydCgpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHNhbGUub3BlcmF0aW9uTnVtYmVyKTtcbiAgICAgICAgYWxlcnQoXCJTYXTEscWfIGdlcsOnZWtsZcWfbWnFn3Rpci4gRmnFnyBOdW1hcmFuxLF6OiBcIiArIHNhbGUub3BlcmF0aW9uTnVtYmVyICsgXCJcXG5GacWfaW5pemkga2F5YmV0bWV5aW5pei4gXCIpO1xuICAgIH1cblxufSIsImltcG9ydCB7IERhdGFCYXNlIH0gZnJvbSBcIi4uL2RiL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuLi9kb21haW4vc3RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIFN0b2NrU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfc3RvY2tMaXN0OiBBcnJheTxTdG9jaz47XG5cblxuXHRjb25zdHJ1Y3RvcihzdG9ja0xpc3Q6IEFycmF5PFN0b2NrPikge1xuXHRcdHRoaXMuX3N0b2NrTGlzdCA9IHN0b2NrTGlzdDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHN0b2NrTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFN0b2NrPn1cbiAgICAgKi9cblx0cHVibGljIGdldCBzdG9ja0xpc3QoKTogQXJyYXk8U3RvY2s+IHtcblx0XHRyZXR1cm4gdGhpcy5fc3RvY2tMaXN0O1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc3RvY2tMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxTdG9jaz59IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgc3RvY2tMaXN0KHZhbHVlOiBBcnJheTxTdG9jaz4pIHtcblx0XHR0aGlzLl9zdG9ja0xpc3QgPSB2YWx1ZTtcblx0fVxuICAgIFxuXG4gICAgLyoqXG4gICAgICogS2l0YXAgaGVuw7x6IGVrbGVuZGlrdGVuIHNvbnJhIGhlbWVuIGdpcml5b3IsXG4gICAgICogRWxpbWl6ZGUgaGnDpyBzdG9jayBrYXlkxLEvbmVzbmVzaSB5b2ssIHllbmkga2F5xLF0L25lc25lIG9sdcWfdHVydXlvcnV6XG4gICAgICogWWVuaSBla2xlbmVuIGtpdGFiYSBzdG9rIGVrbGVtZSBpxZ9sZW1pXG4gICAgICogQHBhcmFtIGlzYm4gIHN0b2sgZWtsZW5lY2VrIG9sYW4ga2l0YWLEsW4gaXNibiBudW1hcmFzxLFcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkU3RvY2soaXNibjogc3RyaW5nLCBzaGVsZk51bWJlcjogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGxldCBuZXdTdG9jayA9IG5ldyBTdG9jayhpc2JuLCBxdWFudGl0eSwgc2hlbGZOdW1iZXIpO1xuICAgICAgICAgICAgdGhpcy5zdG9ja0xpc3QucHVzaChuZXdTdG9jayk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2l0YXAgemF0ZW4gZWtsaSwgaGFsaWhhesSxcmRhIHZhciwgZGFoYSBzb25yYSB5ZW5pIGtpdGFwbGFyIGdlbGRpLHN0b2sgYXJ0xLFybWEgacWfbGVtaSxcbiAgICAgKiBAcGFyYW0gaXNibiBzdG9rIGVrbGVuZWNlayBvbGFuIGtpdGFixLFuIGlzYm4gbnVtYXJhc8SxXG4gICAgICogQHBhcmFtIHF1YW50aXR5IHN0b2sgZWtsZW5lY2VrIG9sYW4ga2l0YWLEsW4gYWRlZGlcbiAgICAgKiBAcmV0dXJucyBpxZ9sZW0gZ2Vyw6dla2xlxZ9tZXNpIGR1cnVtdW5kYSB0cnVlLCBkacSfZXIgZHVydW1kYSBmYWxzZSBkw7ZuZXJcbiAgICAgKi9cbiAgICAvL1xuICAgIHB1YmxpYyBpbmNyZWFzZVN0b2NrKGlzYm46IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgc3RvY2sgPSB0aGlzLmdldFN0b2NrKGlzYm4pO1xuICAgICAgICBpZiAoc3RvY2spIHtcbiAgICAgICAgICAgIHN0b2NrLnF1YW50aXR5ID0gKHN0b2NrLnF1YW50aXR5ICsgcXVhbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzdG9jayBuZXNuZXNpbmkgZ2VyaSBkw7ZuZMO8csO8clxuICAgICAqIEBwYXJhbSBpc2JuIHN0b2NrIG5lc25lc2kgZ2V0aXJpbGVjZWsgb2xhbiBuZXNuZW5pbiBpc2JuIG5vc3UsXG4gICAgICogQHJldHVybnMgZGIgb2xhbiBzdG9jayBuZXNuZW5zaSBnZXJpIGTDtm5lciwgZGIgZGUgeW9rIGlzZSB0aHJvdyBpbGUgaGF0YSBmxLFybGF0xLFybMSxclxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdG9jayhpc2JuOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHN0b2NrID0gdGhpcy5zdG9ja0xpc3QuZmluZChzID0+IHMuaXNibiA9PT0gaXNibik7XG4gICAgICAgIGlmIChzdG9jaykge1xuICAgICAgICAgICAgcmV0dXJuIHN0b2NrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFN0b2NrTW9jayhzOiBTdG9jaykge1xuICAgICAgICBwb3N0QWRkU3RvY2tNb2NrKHMpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcG9zdEFkZFN0b2NrTW9jayhzOiBTdG9jaykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvc3RvY2tzLycgKyBzLmlzYm4sIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGlzYm46IHMuaXNibixcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogcy5xdWFudGl0eVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJfYm9va3MiLCJBcnJheSIsIl9zdG9ja3MiLCJfY3VzdG9tZXJzIiwiX3NhbGVzIiwiX3JlbnRzIiwiX2Jvb2tTcGVjaWZpY2F0aW9ucyIsIl9jYW5jZWxTYWxlcyIsIl9zYWxlQ2FydCIsIlNhbGVDYXJ0IiwiZ2V0Qm9va3NMaXN0IiwiZ2V0U3RvY2tzTGlzdCIsImdldEN1c3RvbWVyc0xpc3QiLCJnZXRTYWxlc0xpc3QiLCJnZXRSZW50cyIsImdldEJvb2tTcGVjaWZpY2F0aW9ucyIsImdldENhbmNhbGVkU2FsZXMiLCJnZXRTYWxlQ2FydCIsInNldFNhbGVDYXJ0IiwidmFsdWUiLCJpc2JuIiwicHJpY2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiX2lzYm4iLCJfcHJpY2UiLCJfc3RhcnREYXRlIiwiX2VuZERhdGUiLCJuYW1lIiwiYXV0aG9yIiwicHVibGlzaFllYXIiLCJwYWdlcyIsImJvb2tTcGVjIiwiX25hbWUiLCJfYXV0aG9yIiwiX3B1Ymxpc2hZZWFyIiwiX3BhZ2VzIiwiX2Jvb2tTcGVjIiwiaWQiLCJzdXJOYW1lIiwicGhvbmVOdW1iZXIiLCJfaWQiLCJfc3VyTmFtZSIsIl9waG9uZU51bWJlciIsImJvb2tBbmRRdWFudGl0eU1hcCIsIk1hcCIsIm9wZXJhdGlvbkRhdGVUaW1lIiwiY3VzdG9tZXJJZCIsIm9wZXJhdGlvbk51bWJlciIsInRvdGFsIiwiX2Jvb2tBbmRRdWFudGl0eU1hcCIsIl9vcGVyYXRpb25EYXRlVGltZSIsIl9jdXN0b21lcklkIiwiX29wZXJhdGlvbk51bWJlciIsIl90b3RhbCIsInF1YW50aXR5Iiwic2hlbGZOdW1iZXIiLCJfcXVhbnRpdHkiLCJfc2hlbGZOdW1iZXIiLCJkYiIsIkRhdGFCYXNlIiwic2hvd0FuZEhpZGUiLCJidG5JZCIsImVsZW1lbnRJZCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwiZGlzcGxheSIsImJvb2tTZXJ2aWNlIiwiQm9va1NlcnZpY2UiLCJjdXN0b21lclNlcnZpY2UiLCJDdXN0b21lclNlcnZpY2UiLCJjYW5jZWxTYWxlU2VydmljZSIsIkNhbmNlbFNhbGVTZXJ2aWNlIiwicmVudFNlcnZpY2UiLCJSZW50U2VydmljZSIsInNhbGVTZXJ2aWNlIiwiU2FsZVNlcnZpY2UiLCJzdG9ja1NlcnZpY2UiLCJTdG9ja1NlcnZpY2UiLCJjb25zb2xlIiwibG9nIiwiYWRkQm9vayIsIkJvb2siLCJCb29rU3BlY2lmaWNhdGlvbiIsIkRhdGUiLCJhZGRDdXN0b21lciIsIkN1c3RvbWVyIiwiYWRkU3RvY2siLCJpbml0aWxpYXplU2VydmljZXMiLCJhZGRCb29rRm9ybSIsIm9uc3VibWl0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRpdGxlIiwiZ2V0IiwiYm9vayIsImFkZEJvb2tNb2NrIiwiYWxlcnQiLCJyZXNldCIsImFkZFN0b2NrRm9ybSIsInF1YW50dGl5Iiwic3RvY2siLCJTdG9jayIsInNvbWUiLCJiIiwiYWRkU3RvY2tNb2NrIiwiYWRkQ3VzdG9tZXJGb3JtIiwic3VybmFtZSIsImN1c3RvbWVyIiwiZ2V0TmV3Q3VzdG9tZXJJZCIsInNhbGVCb29rRm9ybSIsImdldEJvb2siLCJwYXJzZUludCIsImlzVmFsaWRDdXN0b21lciIsImdldFN0b2NrIiwiYWRkQm9va1RvQ2FydCIsImVycm9yIiwic2FsZUNhcnQiLCJzaXplIiwiY2FydFRvU2FsZSIsImluaXRpYWxpemVCb29rc01vY2siLCJib29rTGlzdCIsImJvb2tTcGVjTGlzdCIsIl9ib29rTGlzdCIsIl9ib29rU3BlY0xpc3QiLCJmaW5kIiwibmV3Qm9vayIsInB1c2giLCJFeGNlcHRpb24iLCJpc1ZhbGlkQm9vayIsImluY2x1ZGVzIiwibGlzdEJvb2tzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJvayIsIkVycm9yIiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsImdldFJlc3VsdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImJvb2tzIiwiZ2V0SW5pdGlhbGl6ZUJvb2tzTW9jayIsImJvZHkiLCJwb3N0QWRkQm9va01vY2siLCJjYW5jZWxsZWRTYWxlc0xpc3QiLCJfY2FuY2VsbGVkU2FsZXNMaXN0IiwiY2FuY2VsU2FsZSIsInJlZnVuZCIsImNhbGN1bGF0ZVJlZnVuZCIsImNhbGN1bGF0ZURpZmZIb3VycyIsImNhbmNlbGVkRGF0ZVRpbWUiLCJzYWxlIiwiZDEiLCJkMiIsImRpZmZNaWxpcyIsImdldFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJjdXN0b21lckxpc3QiLCJfY3VzdG9tZXJMaXN0IiwibmV3Q3VzdG9tZXIiLCJsYXN0Q3VzdG9tZXJJZCIsImxlbmd0aCIsImF0IiwiZ2V0Q3VzdG9tZXJJbmZvIiwicmVudExpc3QiLCJfcmVudExpc3QiLCJyZWZ1bmRQZXJjZW50IiwiYWRkUmVudCIsInJlbnQiLCJjYWxjdWxhdGVUb3RhbCIsInN1YlRvdGFsIiwiZW50cnkiLCJnZW5lcmF0ZVJlbnROdW1iZXIiLCJ0b2RheSIsImdldERheSIsInRvU3RyaW5nIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJzYWxlTGlzdCIsIl9zYWxlTGlzdCIsImFkZFNhbGUiLCJlbnRyaWVzIiwiZ2VuZXJhdGVTYWxlTnVtYmVyIiwiZ2V0U2FsZSIsInNhbGVOdW1iZXIiLCJzIiwicmVtb3ZlU2FsZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInNldCIsInVwZGF0ZVNhbGVDYXJ0Iiwic3ViVG90YWxTcGFuIiwicm93IiwiY29sdW1uIiwibGFzdENoaWxkIiwiY2hpbGRyZW4iLCJyZW1vdmVDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwidCIsIlNhbGUiLCJxIiwiaW5jcmVhc2VTdG9jayIsInN0b2NrTGlzdCIsIl9zdG9ja0xpc3QiLCJuZXdTdG9jayIsInBvc3RBZGRTdG9ja01vY2siLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9