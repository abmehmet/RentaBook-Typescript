(()=>{"use strict";var t={221:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataBase=void 0;const o=n(758),a=n(51);e.DataBase=class{constructor(){this._books=new Array,this._stocks=new Array,this._customers=new Array,this._sales=new Array,this._rents=new Array,this._bookSpecifications=new Array,this._cancels=new Array,this._saleCart=new a.SaleCart,this._rentCart=new o.RentCart}get getBooksList(){return this._books}get getStocksList(){return this._stocks}get getCustomersList(){return this._customers}get getSalesList(){return this._sales}get getRents(){return this._rents}get getBookSpecifications(){return this._bookSpecifications}get getCancaledSales(){return this._cancels}get getSaleCart(){return this._saleCart}get getRentCart(){return this._rentCart}set setSaleCart(t){this._saleCart=t}set setRentCart(t){this._rentCart=t}}},39:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BookSpecification=void 0,e.BookSpecification=class{constructor(t,e,n,o){this._isbn=t,this._price=e,this._startDate=n,this._endDate=o}get isbn(){return this._isbn}get price(){return this._price}get startDate(){return this._startDate}get endDate(){return this._endDate}set isbn(t){this._isbn=t}set price(t){this._price=t}set startDate(t){this._startDate=t}set endDate(t){this._endDate=t}}},934:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Book=void 0,e.Book=class{constructor(t,e,n,o,a,i){this._name=e,this._author=n,this._isbn=t,this._publishYear=o,this._pages=a,this._bookSpecification=i}get isbn(){return this._isbn}get name(){return this._name}get author(){return this._author}get publishYear(){return this._publishYear}get pages(){return this._pages}get bookSpecification(){return this._bookSpecification}set isbn(t){this._isbn=t}set name(t){this._name=t}set author(t){this._author=t}set publishYear(t){this._publishYear=t}set pages(t){this._pages=t}set bookSpecification(t){this._bookSpecification=t}}},378:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Cancel=void 0,e.Cancel=class{constructor(t,e,n){this._cancelType=t,this._refund=e,this._canceledDateTime=n}get cancelType(){return this._cancelType}get refund(){return this._refund}get canceledDateTime(){return this._canceledDateTime}set cancelType(t){this._cancelType=t}set refund(t){this._refund=t}set canceledDateTime(t){this._canceledDateTime=t}}},916:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Customer=void 0,e.Customer=class{constructor(t,e,n,o){this._id=t,this._name=e,this._surName=n,this._phoneNumber=o}get id(){return this._id}get name(){return this._name}get surName(){return this._surName}get phoneNumber(){return this._phoneNumber}set id(t){this._id=t}set name(t){this._name=t}set surName(t){this._surName=t}set phoneNumber(t){this._phoneNumber=t}}},758:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RentCart=void 0,e.RentCart=class{constructor(){this.bookAndQuantityMap=new Map}}},961:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rent=void 0;const o=n(354);class a extends o.Sale{constructor(t,e,n,o,a,i,r){super(t,e,n,o,a),this._refundDate=i,this._refund=r}get refundDate(){return this._refundDate}get refund(){return this._refund}set refundDate(t){this._refundDate=t}set refund(t){this._refund=t}}e.Rent=a},51:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaleCart=void 0,e.SaleCart=class{constructor(){this.bookAndQuantityMap=new Map}}},354:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sale=void 0,e.Sale=class{constructor(t,e,n,o,a){this._bookAndQuantityMap=new Map,this._bookAndQuantityMap=t,this._operationDateTime=e,this._customerId=n,this._operationNumber=o,this._total=a}get bookAndQuantityMap(){return this._bookAndQuantityMap}get operationDateTime(){return this._operationDateTime}get customerId(){return this._customerId}get operationNumber(){return this._operationNumber}get total(){return this._total}set bookAndQuantityMap(t){this._bookAndQuantityMap=t}set operationDateTime(t){this._operationDateTime=t}set customerId(t){this._customerId=t}set operationNumber(t){this._operationNumber=t}set total(t){this._total=t}}},72:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stock=void 0,e.Stock=class{constructor(t,e,n){this._isbn=t,this._quantity=e,this._shelfNumber=n}get isbn(){return this._isbn}get quantity(){return this._quantity}get shelfNumber(){return this._shelfNumber}set isbn(t){this._isbn=t}set quantity(t){this._quantity=t}set shelfNumber(t){this._shelfNumber=t}}},607:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.stockService=e.saleService=e.rentService=e.cancelService=e.customerService=e.bookService=void 0;const a=n(221),i=n(934),r=n(39),s=n(378),c=n(916),l=n(961),u=n(354),d=n(72),h=n(946),m=n(943),p=n(709),k=n(148),f=n(478),b=n(214);function S(t,e){const n=document.getElementById(e),o=document.getElementById(t);n&&o&&o.addEventListener("click",(()=>{"none"===n.style.display?n.style.display="block":n.style.display="none"}))}var y;y=new a.DataBase,e.bookService=new h.BookService(y.getBooksList,y.getBookSpecifications),e.customerService=new p.CustomerService(y.getCustomersList),e.cancelService=new m.CancelService(y.getCancaledSales),e.rentService=new k.RentService(y.getRents,y.getRentCart),e.saleService=new f.SaleService(y.getSalesList,y.getSaleCart),e.stockService=new b.StockService(y.getStocksList),console.log("Services intiliazed."),e.customerService.addCustomer(new c.Customer(1,"","","")),e.customerService.addCustomer(new c.Customer(2,"","","")),e.stockService.addStock("123-45","A45-52",10),e.stockService.addStock("123-46","A45-52",10),function(){o(this,void 0,void 0,(function*(){yield e.bookService.initializeDataMock()}))}(),S("addBookMenuItem","addBookSection"),S("showBooksMenuItem","listBooksSection"),S("addCustomerMenuItem","addCustomerSection"),S("addStockMenuItem","addStockSection"),S("saleBookMenuItem","saleBookSection"),S("rentBookMenuItem","rentBookSection"),S("cancelSaleMenuItem","cancelSaleSection"),S("cancelRentMenuItem","cancelRentSection"),S("refundBookMenuItem","refundBookSection"),S("rentNow","rentBookSection");const g=document.getElementById("add-book-form");null!=g&&(g.onsubmit=t=>o(void 0,void 0,void 0,(function*(){t.preventDefault();const n=new FormData(g),o=n.get("bookTitle"),a=n.get("bookAuthor"),s=n.get("bookIsbn"),c=n.get("bookPublishYear"),l=n.get("bookPages"),u=n.get("bookPrice"),d=new Date,h=new Date("Dec 31, 9999 23:59:59");o.match("");const m=new r.BookSpecification(s,u,d,h),p=new i.Book(s,o,a,c,l,m);return(yield e.bookService.addBookMock(p))?(alert(p.isbn+" numaralı kitap Ekleme İşlemi Başarı İle Tamamlanmıştır."),g.reset()):alert(p.isbn+" numaralı kitap Ekleme İşlemi Sırasında Bir Hata oluştu."),!1})));const v=document.getElementById("add-stock-form");v&&(v.onsubmit=t=>o(void 0,void 0,void 0,(function*(){t.preventDefault();const n=new FormData(v),o=n.get("bookIsbnForAddStock"),a=n.get("stockQuantity"),i=n.get("shelfNumber"),r=new d.Stock(o,a,i);return e.bookService.bookList.some((t=>t.isbn==o))?(yield e.stockService.addStockMock(r))&&alert(o+" isbn numaralı kitaptan, "+a+" kadar sisteme stok eklenmiştir."):alert("Stok eklenmeye çalışılan kitap, kayıtlı değildir. Lütfen önce kitap ekleyiniz"),v.reset(),!1})));const _=document.getElementById("add-customer-form");_&&(_.onsubmit=t=>o(void 0,void 0,void 0,(function*(){t.preventDefault();const n=new FormData(_),o=n.get("customerName"),a=n.get("customerSurname"),i=n.get("customerPhoneNumber"),r=new c.Customer(e.customerService.getNewCustomerId(),o,a,i);return yield e.customerService.addCustomerMock(r),alert("Müşteri Ekleme İşlemi Başarı İle Tamamlanmıştır. "),_.reset(),!1})));const C=document.getElementById("sale-book-form");C&&(C.onsubmit=()=>{const t=new FormData(C),n=t.get("isbnForSale"),o=e.bookService.getBook(n),a=parseInt(t.get("customerIdForSale")),i=e.customerService.isValidCustomer(a),r=parseInt(t.get("quantityForSale")),s=e.stockService.getStock(n);try{return o?s?s.quantity>=r?i?e.saleService.addBookToCart(o,r,a):alert(a+" numaralı müşteri kayıtlı değildir."):alert(r+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${n} numaralı kitabın stoğu mevcut değildir.`):alert(n+" numaralı kitap yoktur."),C.reset(),!1}catch(t){alert(t)}}),document.getElementById("btnSale").addEventListener("click",(()=>{0===e.saleService.saleCart.bookAndQuantityMap.size?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):e.saleService.cartToSale()})),document.getElementById("showBooksMenuItem").addEventListener("click",(()=>{e.bookService.listBooks()}));const w=document.getElementById("cancel-sale-form");w&&(w.onsubmit=t=>o(void 0,void 0,void 0,(function*(){t.preventDefault();let n=new Map;n.set(e.bookService.getBook("123-45"),3);let o=new u.Sale(n,new Date,1,"S021122163045",123);e.saleService.saleList.push(o);const a=new FormData(w).get("saleNumberforCancel");let i=e.saleService.getSale(a);if(i){let t=new s.Cancel(i,i.total,new Date);(yield e.cancelService.cancelSaleMock(t))?alert(i.operationNumber+" numaralı satış iptal edilmiştir."):alert(i.operationNumber+" numaralı satış iptal edilirken hata meydana geldi.")}else alert(a+" numaralı satış bulunamamıştır. Tekrar deneyiniz.")})));const M=document.getElementById("cancel-rent-form");M&&(M.onsubmit=t=>o(void 0,void 0,void 0,(function*(){t.preventDefault();let n=new Map;n.set(e.bookService.getBook("123-45"),3);let o=new Date;o.setDate(o.getDate()+14);let a=new l.Rent(n,new Date,1,"R021122163045",123,o,200);e.rentService.rentList.push(a);const i=new FormData(M).get("rentNumberforCancel");let r=e.rentService.getRent(i);if(r){let t=new s.Cancel(r,r.total,new Date);(yield e.cancelService.cancelRentMock(t))?alert(r.operationNumber+" numaralı kiralama iptal edilmiştir."):alert(r.operationNumber+" numaralı kiralama iptal edilirken hata meydana geldi.")}else alert(i+" numaralı kiralma bulunamamıştır. Tekrar deneyiniz.")})));const D=document.getElementById("rent-book-form");D&&(D.onsubmit=()=>{const t=new FormData(D),n=t.get("isbnForRent"),o=e.bookService.getBook(n),a=parseInt(t.get("customerIdForRent")),i=e.customerService.isValidCustomer(a),r=parseInt(t.get("quantityForRent")),s=e.stockService.getStock(n);try{return o?s?s.quantity>=r?i?e.rentService.addBookToCart(o,r,a):alert(a+" numaralı müşteri kayıtlı değildir."):alert(r+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${n} numaralı kitabın stoğu mevcut değildir.`):alert(n+" numaralı kitap yoktur."),D.reset(),!1}catch(t){alert(t)}}),document.getElementById("btnRent").addEventListener("click",(()=>{0===e.rentService.rentCart.bookAndQuantityMap.size?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):e.rentService.cartToRent()}));const N=document.getElementById("refund-book-form");N&&(N.onsubmit=t=>o(void 0,void 0,void 0,(function*(){let n=new Map;n.set(e.bookService.getBook("123-45"),3);let o=new Date;o.setDate(o.getDate()+23);let a=new l.Rent(n,new Date,1,"R021122163045",123,o,0);a.refund=e.rentService.calculateRefundAmount(a),e.rentService.rentList.push(a),t.preventDefault();const i=new FormData(N).get("rentNumberforRefund");let r=e.rentService.getRent(i);if(r){let t=yield e.rentService.refundRentMock(r);t?(alert(r.operationNumber+" numaralı kiralama geri alınmıştır."),alert("Geri ödeme miktarı:"+t+" ₺ .")):alert(r.operationNumber+" numaralı kiralama iptal edilirken hata meydana geldi.")}else alert(i+" numaralı kiralama bulunamamıştır. Tekrar deneyiniz.")})))},946:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BookService=void 0;const a=n(607);e.BookService=class{constructor(t,e){this.bookApi="http://localhost:3002/api/v1",this._bookList=t,this._bookSpecification=e}get bookList(){return this._bookList}get bookSpecification(){return this._bookSpecification}set bookList(t){this._bookList=t}set bookSpecification(t){this._bookSpecification=t}getBook(t){return this.bookList.find((e=>e.isbn===t))}addBook(t){try{this.bookList.push(t),this.bookSpecification.push(t.bookSpecification)}catch(t){console.log("Kitap eklenirken bir hata meydana geldi.")}}isValidBook(t){const e=this.getBook(t);return this.bookList.includes(e)}initializeDataMock(){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.bookApi+"/books",{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);const e=yield t.json(),n=JSON.parse(JSON.stringify(e,null,4));this.bookList=n,console.log(this.bookList)}catch(t){console.error(t)}}))}listBooks(){const t=document.getElementById("listBooks");if(t){let e,n;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);this.bookList.forEach((o=>{e=document.createElement("div"),e.className="row-list-book",n=document.createElement("div"),n.className="column-list-book",n.textContent=o.isbn.toString(),e.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=o.name.toString(),e.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=o.author.toString(),e.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=a.stockService.getStockQuantity(o.isbn).toString(),e.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=o.bookSpecification.price.toString()+" ₺",e.appendChild(n),t.appendChild(e)}))}}addBookMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.bookApi,{method:"POST",body:JSON.stringify({isbn:t.isbn,name:t.name,author:t.author,pages:t.pages,publishYear:t.publishYear}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log("Mock servisinden dönen cevap =>"+JSON.stringify(t)),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},943:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CancelService=void 0,e.CancelService=class{constructor(t){this.cancelSaleApi="http://localhost:3002/api/cancelSale",this.cancelRentApi="http://localhost:3002/api/cancelRent",this._cancelledList=t}get cancelledList(){return this._cancelledList}set cancelledList(t){this._cancelledList=t}calculateDiffHours(t,e){let n=t.getTime()-e.getTime();return Math.floor(n/1e3/60/60)}cancelSale(t){let e=this.calculateCancelSaleRefund(t);t.refund=e,this.cancelledList.push(t)}calculateCancelSaleRefund(t){let e;return e=this.calculateDiffHours(t.canceledDateTime,t.cancelType.operationDateTime)>24?.75*t.cancelType.total:t.cancelType.total,e}cancelSaleMock(t){return n(this,void 0,void 0,(function*(){let e=this.calculateCancelSaleRefund(t);t.refund=e;try{const e=yield fetch(this.cancelSaleApi,{method:"POST",body:JSON.stringify({sale:t.cancelType,refund:t.refund,canceledDateTime:t.canceledDateTime}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}cancelRent(t){let e=this.calculateCancelRentRefund(t);t.refund=e,this.cancelledList.push(t)}calculateCancelRentRefund(t){let e;return e=this.calculateDiffHours(t.canceledDateTime,t.cancelType.operationDateTime)>24?.75*t.cancelType.total:t.cancelType.total,e}cancelRentMock(t){return n(this,void 0,void 0,(function*(){let e=this.calculateCancelRentRefund(t);t.refund=e;try{const e=yield fetch(this.cancelRentApi,{method:"POST",body:JSON.stringify({rent:t.cancelType,refund:t.refund,canceledDateTime:t.canceledDateTime}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},709:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomerService=void 0,e.CustomerService=class{constructor(t){this.customerApi="http://localhost:3002/api/customers",this._customerList=t}get customerList(){return this._customerList}set customerList(t){this._customerList=t}addCustomer(t){this.customerList.push(t)}getNewCustomerId(){let t=0;return this.customerList.length>0&&(t=this.customerList.at(this.customerList.length-1).id),t+=1,t}getCustomerInfo(t){return this.customerList.find((e=>e.id===t))||void 0}isValidCustomer(t){return!!this.customerList.some((e=>e.id===t))}addCustomerMock(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(this.customerApi,{method:"POST",body:JSON.stringify({id:t.id,name:t.name,surName:t.surName,phoneNumber:t.phoneNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const n=yield e.json();console.log(n)}catch(t){console.log("Hata Oluştu.")}}))}}},148:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.RentService=void 0;const a=n(607),i=n(961),r=n(758);e.RentService=class{constructor(t,e){this.rentApi="http://localhost:3002/api/rents",this._rentList=t,this.refundPercent=.75,this._rentCart=e}get rentList(){return this._rentList}set rentList(t){this._rentList=t}get rentCart(){return this._rentCart}set rentCart(t){this._rentCart=t}addRent(t){this.rentList.push(t)}calculateTotal(t){t.bookAndQuantityMap;let e=0;for(let n of t.bookAndQuantityMap)e+=n[0].bookSpecification.price*n[1];return e}generateRentNumber(t){let e=new Date;return"R"+e.getDay().toString+e.getMonth().toString+e.getFullYear().toString+e.getHours().toString+e.getMinutes().toString+e.getSeconds().toString+t.toString}calculateDiffHours(t,e){let n=t.getTime()-e.getTime();return Math.floor(n/1e3/60/60)}calculateRefund(t){t.refund=t.total*this.refundPercent}calculateRefundAmount(t){let e,n=this.calculateDiffHours(t.refundDate,t.operationDateTime)/24;if(n<=14)e=.75*t.total;else if(n<=24){let o=.75-.05*(n-14);e=t.total*o}else e=.25*t.total;return e}getRent(t){return this.rentList.find((e=>e.operationNumber===t))}addBookToCart(t,e,n){if(0===this.rentCart.bookAndQuantityMap.size)this.rentCart.customerId=n;else if(this.rentCart.bookAndQuantityMap.size>0&&this.rentCart.customerId!==n)return alert("Farklı müşteriye kitap kiralanmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;this.rentCart.bookAndQuantityMap.set(t,e),this.updateRentCart()}updateRentCart(){const t=document.getElementById("rentCart"),e=document.getElementById("totalRentAmountTl");if(t){let n,o,a=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.textContent="";for(let t=0;t<this.rentCart.bookAndQuantityMap.size;t++){n=document.createElement("div"),n.className="rent-cart-row";for(let t of this.rentCart.bookAndQuantityMap.entries())o=document.createElement("div"),o.className="rent-cart-column",o.textContent=this.rentCart.customerId.toString(),n.appendChild(o),o=document.createElement("div"),o.className="rent-cart-column",o.textContent=t[0].name,n.appendChild(o),o=document.createElement("div"),o.className="rent-cart-column",o.textContent=t[1].toString(),n.appendChild(o),o=document.createElement("div"),o.className="rent-cart-column",o.textContent=(t[0].bookSpecification.price*t[1]).toString(),n.appendChild(o)}if(n&&e){for(let t of this.rentCart.bookAndQuantityMap)a+=t[0].bookSpecification.price*t[1];t.appendChild(n),e.textContent=a.toString()+" TL"}}}cartToRent(){let t=this.rentCart,e=new i.Rent;e.bookAndQuantityMap=t.bookAndQuantityMap,e.customerId=t.customerId,e.operationNumber=this.generateRentNumber(t.customerId),e.operationDateTime=new Date,e.total=this.calculateTotal(e);for(let t of e.bookAndQuantityMap)a.stockService.increaseStock(t[0].isbn,-t[1]);this.rentCart=new r.RentCart,this.updateRentCart(),this.addRentMock(e)}addRentMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.rentApi,{method:"POST",body:JSON.stringify({bookAndQuantity:t.bookAndQuantityMap,customerId:t.customerId,operationDateTime:t.operationDateTime,operationNumber:t.operationNumber,total:t.total}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log(t),alert(t.message+" "+t.saleNumber),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}refundRentMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.rentApi+"/"+t.operationNumber,{method:"PATCH",body:JSON.stringify({refundDate:t.refundDate,refund:t.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const n=yield e.json();return console.log(n),t.refund}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},478:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SaleService=void 0;const a=n(607),i=n(354),r=n(51);e.SaleService=class{constructor(t,e){this.saleApi="http://localhost:3002/api/sales",this._saleList=t,this._saleCart=e}get saleList(){return this._saleList}set saleList(t){this._saleList=t}get saleCart(){return this._saleCart}set saleCart(t){this._saleCart=t}addSale(t){this.saleList.push(t)}calculateTotal(t){let e=0;for(let n of t.bookAndQuantityMap.entries())e+=n[0].bookSpecification.price*n[1];return e}generateSaleNumber(t){let e=new Date;return"S"+e.getDay().toString()+e.getMonth().toString()+e.getFullYear().toString()+e.getHours().toString()+e.getMinutes().toString()+e.getSeconds().toString()+t.toString()}getSale(t){return this.saleList.find((e=>e.operationNumber===t))}removeSale(t){let e=this.saleList.indexOf(t);this.saleList.splice(e,1)}addBookToCart(t,e,n){if(0===this.saleCart.bookAndQuantityMap.size)this.saleCart.customerId=n;else if(this.saleCart.bookAndQuantityMap.size>0&&this.saleCart.customerId!==n)return alert("Farklı müşteriye kitap satılmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;this.saleCart.bookAndQuantityMap.set(t,e),this.updateSaleCart()}updateSaleCart(){const t=document.getElementById("saleCart"),e=document.getElementById("totalSaleAmountTl");if(t){let n,o,a=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.textContent="";for(let t=0;t<this.saleCart.bookAndQuantityMap.size;t++){n=document.createElement("div"),n.className="sale-cart-row";for(let t of this.saleCart.bookAndQuantityMap.entries())o=document.createElement("div"),o.className="sale-cart-column",o.textContent=this.saleCart.customerId.toString(),n.appendChild(o),o=document.createElement("div"),o.className="sale-cart-column",o.textContent=t[0].name,n.appendChild(o),o=document.createElement("div"),o.className="sale-cart-column",o.textContent=t[1].toString(),n.appendChild(o),o=document.createElement("div"),o.className="sale-cart-column",o.textContent=(t[0].bookSpecification.price*t[1]).toString(),n.appendChild(o)}if(n&&e){for(let t of this.saleCart.bookAndQuantityMap)a+=t[0].bookSpecification.price*t[1];t.appendChild(n),e.textContent=a.toString()+" TL"}}}cartToSale(){let t=this.saleCart,e=new i.Sale;e.bookAndQuantityMap=t.bookAndQuantityMap,e.customerId=t.customerId,e.operationNumber=this.generateSaleNumber(t.customerId),e.operationDateTime=new Date,e.total=this.calculateTotal(e);for(let t of e.bookAndQuantityMap)a.stockService.increaseStock(t[0].isbn,-t[1]);this.addSaleMock(e),this.saleCart=new r.SaleCart,this.updateSaleCart()}addSaleMock(t){return o(this,void 0,void 0,(function*(){try{console.log(t.bookAndQuantityMap);const e=yield fetch(this.saleApi,{method:"POST",body:JSON.stringify({bookAndQuantity:Array.from(t.bookAndQuantityMap.entries()),customerId:t.customerId,operationDateTime:t.operationDateTime,operationNumber:t.operationNumber,total:t.total}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const n=yield e.json();console.log(n),alert(n.message+" "+n.saleNumber)}catch(t){console.log("Hata Oluştu.")}}))}}},214:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.StockService=void 0;const a=n(72);e.StockService=class{constructor(t){this.stockApi="http://localhost:3002/api/stocks",this._stockList=t}get stockList(){return this._stockList}set stockList(t){this._stockList=t}addStock(t,e,n){try{let o=new a.Stock(t,n,e);return this.stockList.push(o),!0}catch(t){return console.error(t),!1}}increaseStock(t,e){let n=this.getStock(t);return!!n&&(n.quantity=n.quantity+e,!0)}getStock(t){let e=this.stockList.find((e=>e.isbn===t));if(e)return e}getStockQuantity(t){let e=this.getStock(t);return e?e.quantity:0}addStockMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.stockApi,{method:"POST",body:JSON.stringify({isbn:t.isbn,quantity:t.quantity,shelfNumber:t.shelfNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu."+t)}}))}increaseStockMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.stockApi+"/"+t.isbn,{method:"PUT",body:JSON.stringify({isbn:t.isbn,quantity:t.quantity,shelfNumber:t.shelfNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const n=yield e.json();console.log(n),console.log(e.status)}catch(t){console.log("Hata Oluştu.")}}))}}}},e={};!function n(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RiL2RhdGFiYXNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9ib29rLXNwZWNpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2Jvb2sudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2NhbmNlbC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vY3VzdG9tZXIudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3JlbnQtY2FydC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vcmVudC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vc2FsZS1jYXJ0LnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9zYWxlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9zdG9jay50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2Jvb2stc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2NhbmNlbC1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvY3VzdG9tZXItc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL3JlbnQtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL3NhbGUtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL3N0b2NrLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tTcGVjaWZpY2F0aW9uIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rLXNwZWNpZmljYXRpb25cIjtcbmltcG9ydCB7IENhbmNlbCB9IGZyb20gXCIuLi9kb21haW4vY2FuY2VsXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuLi9kb21haW4vY3VzdG9tZXJcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnRcIjtcbmltcG9ydCB7IFJlbnRDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50LWNhcnRcIjtcbmltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGVcIjtcbmltcG9ydCB7IFNhbGVDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlLWNhcnRcIjtcbmltcG9ydCB7IFN0b2NrIH0gZnJvbSBcIi4uL2RvbWFpbi9zdG9ja1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YUJhc2Uge1xuXG4gICAgIHByaXZhdGUgX2Jvb2tzOiBBcnJheTxCb29rPjsvL1xuICAgICBwcml2YXRlIF9zdG9ja3M6IEFycmF5PFN0b2NrPjtcbiAgICAgcHJpdmF0ZSBfY3VzdG9tZXJzOiBBcnJheTxDdXN0b21lcj47Ly9cbiAgICAgcHJpdmF0ZSBfc2FsZXM6IEFycmF5PFNhbGU+Oy8vXG4gICAgIHByaXZhdGUgX3JlbnRzOiBBcnJheTxSZW50PjtcbiAgICAgcHJpdmF0ZSBfYm9va1NwZWNpZmljYXRpb25zOiBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj47XG4gICAgIHByaXZhdGUgX2NhbmNlbHM6IEFycmF5PENhbmNlbD47Ly9cbiAgICAgcHJpdmF0ZSBfc2FsZUNhcnQ6IFNhbGVDYXJ0O1xuICAgICBwcml2YXRlIF9yZW50Q2FydDpSZW50Q2FydDtcblxuICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICB0aGlzLl9ib29rcyA9IG5ldyBBcnJheTxCb29rPigpO1xuICAgICAgICAgIHRoaXMuX3N0b2NrcyA9IG5ldyBBcnJheTxTdG9jaz4oKTtcbiAgICAgICAgICB0aGlzLl9jdXN0b21lcnMgPSBuZXcgQXJyYXk8Q3VzdG9tZXI+KCk7XG4gICAgICAgICAgdGhpcy5fc2FsZXMgPSBuZXcgQXJyYXk8U2FsZT4oKTtcbiAgICAgICAgICB0aGlzLl9yZW50cyA9IG5ldyBBcnJheTxSZW50PigpO1xuICAgICAgICAgIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9ucyA9IG5ldyBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj4oKTtcbiAgICAgICAgICB0aGlzLl9jYW5jZWxzID0gbmV3IEFycmF5PENhbmNlbD4oKTtcbiAgICAgICAgICB0aGlzLl9zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydDtcbiAgICAgICAgICB0aGlzLl9yZW50Q2FydCA9IG5ldyBSZW50Q2FydDtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgYm9va3NcbiAgICAgICogQHJldHVybiB7QXJyYXk8Qm9vaz59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEJvb2tzTGlzdCgpOiBBcnJheTxCb29rPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzdG9ja3NcbiAgICAgICogQHJldHVybiB7QXJyYXk8U3RvY2s+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTdG9ja3NMaXN0KCk6IEFycmF5PFN0b2NrPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3N0b2NrcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgY3VzdG9tZXJzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PEN1c3RvbWVyPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Q3VzdG9tZXJzTGlzdCgpOiBBcnJheTxDdXN0b21lcj4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lcnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTYWxlc0xpc3QoKTogQXJyYXk8U2FsZT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYWxlcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgcmVudHNcbiAgICAgICogQHJldHVybiB7QXJyYXk8UmVudD59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFJlbnRzKCk6IEFycmF5PFJlbnQ+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcmVudHM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rU3BlY2lmaWNhdGlvbj59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEJvb2tTcGVjaWZpY2F0aW9ucygpOiBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGNhbmNlbFNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PENhbmNlbFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRDYW5jYWxlZFNhbGVzKCk6IEFycmF5PENhbmNlbD4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzYWxlQ2FydFxuICAgICAgKiBAcmV0dXJuIHtBcnJheTxTYWxlQ2FydD59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFNhbGVDYXJ0KCk6IFNhbGVDYXJ0IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUNhcnQ7XG4gICAgIH1cblxuICAgICAgICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHJldHVybiB7UmVudENhcnR9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgZ2V0UmVudENhcnQoKTogUmVudENhcnQge1xuXHRcdHJldHVybiB0aGlzLl9yZW50Q2FydDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtTYWxlQ2FydH0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBzZXRTYWxlQ2FydCh2YWx1ZTogU2FsZUNhcnQpIHtcblx0XHR0aGlzLl9zYWxlQ2FydCA9IHZhbHVlO1xuXHR9XG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcGFyYW0ge1JlbnRDYXJ0fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHNldFJlbnRDYXJ0KHZhbHVlOiBSZW50Q2FydCkge1xuXHRcdHRoaXMuX3JlbnRDYXJ0ID0gdmFsdWU7XG5cdH1cbiAgICAgXG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIEJvb2tTcGVjaWZpY2F0aW9uIHtcbiAgICBwcml2YXRlIF9pc2JuOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcHJpY2U6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zdGFydERhdGU6IERhdGU7XG4gICAgcHJpdmF0ZSBfZW5kRGF0ZTogRGF0ZTtcblxuICAgIGNvbnN0cnVjdG9yKGlzYm46IHN0cmluZywgcHJpY2U6IG51bWJlciwgc3RhcnREYXRlOiBEYXRlLCBlbmREYXRlOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX2lzYm4gPSBpc2JuO1xuICAgICAgICB0aGlzLl9wcmljZSA9IHByaWNlO1xuICAgICAgICB0aGlzLl9zdGFydERhdGUgPSBzdGFydERhdGU7XG4gICAgICAgIHRoaXMuX2VuZERhdGUgPSBlbmREYXRlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlzYm5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaXNibigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9pc2JuO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcHJpY2VcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgcHJpY2UoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fcHJpY2U7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdGFydERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHN0YXJ0RGF0ZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fc3RhcnREYXRlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZW5kRGF0ZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgZW5kRGF0ZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fZW5kRGF0ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGlzYm5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpc2JuKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9pc2JuID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBwcmljZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHByaWNlKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9wcmljZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc3RhcnREYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHN0YXJ0RGF0ZSh2YWx1ZTogRGF0ZSkge1xuXHRcdHRoaXMuX3N0YXJ0RGF0ZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZW5kRGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBlbmREYXRlKHZhbHVlOiBEYXRlKSB7XG5cdFx0dGhpcy5fZW5kRGF0ZSA9IHZhbHVlO1xuXHR9XG4gICAgXG5cbiAgICBcbn0iLCJpbXBvcnQgeyBCb29rU3BlY2lmaWNhdGlvbiB9IGZyb20gXCIuL2Jvb2stc3BlY2lmaWNhdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQm9vayB7XG4gIHByaXZhdGUgX2lzYm46IHN0cmluZztcbiAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9hdXRob3I6IHN0cmluZztcbiAgcHJpdmF0ZSBfcHVibGlzaFllYXI6IHN0cmluZztcbiAgcHJpdmF0ZSBfcGFnZXM6IG51bWJlcjtcbiAgcHJpdmF0ZSBfYm9va1NwZWNpZmljYXRpb246IEJvb2tTcGVjaWZpY2F0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGlzYm46IHN0cmluZywgbmFtZTogc3RyaW5nLCBhdXRob3I6IHN0cmluZywgcHVibGlzaFllYXI6IHN0cmluZywgcGFnZXM6IG51bWJlciwgYm9va1NwZWNpZmljYXRpb246IEJvb2tTcGVjaWZpY2F0aW9uKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYXV0aG9yID0gYXV0aG9yO1xuICAgIHRoaXMuX2lzYm4gPSBpc2JuO1xuICAgIHRoaXMuX3B1Ymxpc2hZZWFyID0gcHVibGlzaFllYXI7XG4gICAgdGhpcy5fcGFnZXMgPSBwYWdlcztcbiAgICB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbiA9IGJvb2tTcGVjaWZpY2F0aW9uO1xuICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpc2JuXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlzYm4oKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5faXNibjtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIG5hbWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9uYW1lO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYXV0aG9yXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGF1dGhvcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9hdXRob3I7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBwdWJsaXNoWWVhclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblx0cHVibGljIGdldCBwdWJsaXNoWWVhcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9wdWJsaXNoWWVhcjtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHBhZ2VzXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHBhZ2VzKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3BhZ2VzO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1NwZWNpZmljYXRpb25cbiAgICAgKiBAcmV0dXJuIHtCb29rU3BlY2lmaWNhdGlvbn1cbiAgICAgKi9cblx0cHVibGljIGdldCBib29rU3BlY2lmaWNhdGlvbigpOiBCb29rU3BlY2lmaWNhdGlvbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9uO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaXNiblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlzYm4odmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX2lzYm4gPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9uYW1lID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBhdXRob3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBhdXRob3IodmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX2F1dGhvciA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcHVibGlzaFllYXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBwdWJsaXNoWWVhcih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fcHVibGlzaFllYXIgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHBhZ2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgcGFnZXModmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX3BhZ2VzID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBib29rU3BlY2lmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Qm9va1NwZWNpZmljYXRpb259IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgYm9va1NwZWNpZmljYXRpb24odmFsdWU6IEJvb2tTcGVjaWZpY2F0aW9uKSB7XG5cdFx0dGhpcy5fYm9va1NwZWNpZmljYXRpb24gPSB2YWx1ZTtcblx0fVxuICBcbiAgXG5cbn1cbiIsImltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi9zYWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBDYW5jZWwge1xuICAgIHByaXZhdGUgX2NhbmNlbFR5cGU6IFNhbGU7XG4gICAgcHJpdmF0ZSBfcmVmdW5kOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfY2FuY2VsZWREYXRlVGltZTogRGF0ZTtcblxuICAgIGNvbnN0cnVjdG9yKGNhbmNlbFR5cGU6IFNhbGUsIHJlZnVuZDogbnVtYmVyLCBjYW5jZWxlZERhdGVUaW1lOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbFR5cGUgPSBjYW5jZWxUeXBlO1xuICAgICAgICB0aGlzLl9yZWZ1bmQgPSByZWZ1bmQ7XG4gICAgICAgIHRoaXMuX2NhbmNlbGVkRGF0ZVRpbWUgPSBjYW5jZWxlZERhdGVUaW1lO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjYW5jZWxUeXBlXG4gICAgICogQHJldHVybiB7U2FsZX1cbiAgICAgKi9cblx0cHVibGljIGdldCBjYW5jZWxUeXBlKCk6IFNhbGUge1xuXHRcdHJldHVybiB0aGlzLl9jYW5jZWxUeXBlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcmVmdW5kXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHJlZnVuZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9yZWZ1bmQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjYW5jZWxlZERhdGVUaW1lXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cblx0cHVibGljIGdldCBjYW5jZWxlZERhdGVUaW1lKCk6IERhdGUge1xuXHRcdHJldHVybiB0aGlzLl9jYW5jZWxlZERhdGVUaW1lO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY2FuY2VsVHlwZVxuICAgICAqIEBwYXJhbSB7U2FsZX0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBjYW5jZWxUeXBlKHZhbHVlOiBTYWxlKSB7XG5cdFx0dGhpcy5fY2FuY2VsVHlwZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVmdW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgcmVmdW5kKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9yZWZ1bmQgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGNhbmNlbGVkRGF0ZVRpbWVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgY2FuY2VsZWREYXRlVGltZSh2YWx1ZTogRGF0ZSkge1xuXHRcdHRoaXMuX2NhbmNlbGVkRGF0ZVRpbWUgPSB2YWx1ZTtcblx0fVxuICAgIFxuICAgIFxuXG59IiwiZXhwb3J0IGNsYXNzIEN1c3RvbWVyIHtcbiAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9zdXJOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX3Bob25lTnVtYmVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nLCBzdXJOYW1lOiBzdHJpbmcsIHBob25lTnVtYmVyOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX3N1ck5hbWUgPSBzdXJOYW1lO1xuICAgIHRoaXMuX3Bob25lTnVtYmVyID0gcGhvbmVOdW1iZXI7XG4gIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgbmFtZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblx0cHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX25hbWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdXJOYW1lXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHN1ck5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fc3VyTmFtZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHBob25lTnVtYmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHBob25lTnVtYmVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX3Bob25lTnVtYmVyO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9uYW1lID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzdXJOYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgc3VyTmFtZSh2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fc3VyTmFtZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcGhvbmVOdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBwaG9uZU51bWJlcih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fcGhvbmVOdW1iZXIgPSB2YWx1ZTtcblx0fVxuXG5cbn1cbiIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW50Q2FydCB7XG4gICAgY3VzdG9tZXJJZCE6IG51bWJlcjtcbiAgICBib29rQW5kUXVhbnRpdHlNYXA6IE1hcDxCb29rLCBudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYm9va0FuZFF1YW50aXR5TWFwID0gbmV3IE1hcDxCb29rLCBudW1iZXI+KCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4vc2FsZVwiO1xuXG5leHBvcnQgY2xhc3MgUmVudCBleHRlbmRzIFNhbGUge1xuICAgIHByaXZhdGUgX3JlZnVuZERhdGU/OkRhdGU7XG4gICAgcHJpdmF0ZSBfcmVmdW5kPzpudW1iZXI7XG5cblxuXHRjb25zdHJ1Y3Rvcihib29rQW5kUXVhbnRpdHlNYXA/OiBNYXA8Qm9vaywgbnVtYmVyPiwgb3BlcmF0aW9uRGF0ZVRpbWU/OiBEYXRlLCBjdXN0b21lcklkPzogbnVtYmVyLCBvcGVyYXRpb25OdW1iZXI/OiBzdHJpbmcsIHRvdGFsPzogbnVtYmVyLHJlZnVuZERhdGU/OiBEYXRlLCByZWZ1bmQ/OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoYm9va0FuZFF1YW50aXR5TWFwLG9wZXJhdGlvbkRhdGVUaW1lLGN1c3RvbWVySWQsb3BlcmF0aW9uTnVtYmVyLHRvdGFsKVxuICAgICAgICBcblx0XHR0aGlzLl9yZWZ1bmREYXRlID0gcmVmdW5kRGF0ZTtcblx0XHR0aGlzLl9yZWZ1bmQgPSByZWZ1bmQ7XG5cdH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlZnVuZERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHJlZnVuZERhdGUoKTogRGF0ZSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlZnVuZERhdGUhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcmVmdW5kXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHJlZnVuZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9yZWZ1bmQhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVmdW5kRGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCByZWZ1bmREYXRlKHZhbHVlOiBEYXRlKSB7XG5cdFx0dGhpcy5fcmVmdW5kRGF0ZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVmdW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgcmVmdW5kKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9yZWZ1bmQgPSB2YWx1ZTtcblx0fVxuXG5cbiAgICBcblxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlQ2FydCB7XG4gICAgY3VzdG9tZXJJZCE6IG51bWJlcjtcbiAgICBib29rQW5kUXVhbnRpdHlNYXA6IE1hcDxCb29rLCBudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYm9va0FuZFF1YW50aXR5TWFwID0gbmV3IE1hcDxCb29rLCBudW1iZXI+KCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlIHtcblxuICAgIHByaXZhdGUgX2Jvb2tBbmRRdWFudGl0eU1hcD8gPSBuZXcgTWFwPEJvb2ssIG51bWJlcj4oKTtcbiAgICBwcml2YXRlIF9jdXN0b21lcklkPzogbnVtYmVyO1xuICAgIHByaXZhdGUgX29wZXJhdGlvbkRhdGVUaW1lPzogRGF0ZTtcbiAgICBwcml2YXRlIF9vcGVyYXRpb25OdW1iZXI/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfdG90YWw/OiBudW1iZXI7XG5cblxuICAgIGNvbnN0cnVjdG9yKGJvb2tBbmRRdWFudGl0eU1hcD86IE1hcDxCb29rLCBudW1iZXI+LCBvcGVyYXRpb25EYXRlVGltZT86IERhdGUsIGN1c3RvbWVySWQ/OiBudW1iZXIsIG9wZXJhdGlvbk51bWJlcj86IHN0cmluZywgdG90YWw/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fYm9va0FuZFF1YW50aXR5TWFwID0gYm9va0FuZFF1YW50aXR5TWFwO1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25EYXRlVGltZSA9IG9wZXJhdGlvbkRhdGVUaW1lO1xuICAgICAgICB0aGlzLl9jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcbiAgICAgICAgdGhpcy5fb3BlcmF0aW9uTnVtYmVyID0gb3BlcmF0aW9uTnVtYmVyO1xuICAgICAgICB0aGlzLl90b3RhbCA9IHRvdGFsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tBbmRRdWFudGl0eU1hcFxuICAgICAqIEByZXR1cm4ge01hcDxCb29rLCBudW1iZXI+KCl9XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rQW5kUXVhbnRpdHlNYXAoKTogTWFwPEJvb2ssIG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9va0FuZFF1YW50aXR5TWFwITtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcGVyYXRpb25EYXRlVGltZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG4gICAgcHVibGljIGdldCBvcGVyYXRpb25EYXRlVGltZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wZXJhdGlvbkRhdGVUaW1lITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY3VzdG9tZXJJZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGN1c3RvbWVySWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbWVySWQhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcGVyYXRpb25OdW1iZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHVibGljIGdldCBvcGVyYXRpb25OdW1iZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wZXJhdGlvbk51bWJlciE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHRvdGFsXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgdG90YWwoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsITtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tBbmRRdWFudGl0eU1hcFxuICAgICAqIEBwYXJhbSB7TWFwfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9va0FuZFF1YW50aXR5TWFwKHZhbHVlOiBNYXA8Qm9vaywgbnVtYmVyPikge1xuICAgICAgICB0aGlzLl9ib29rQW5kUXVhbnRpdHlNYXAgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgb3BlcmF0aW9uRGF0ZVRpbWVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBvcGVyYXRpb25EYXRlVGltZSh2YWx1ZTogRGF0ZSkge1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25EYXRlVGltZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBjdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBjdXN0b21lcklkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJJZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBvcGVyYXRpb25OdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IG9wZXJhdGlvbk51bWJlcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX29wZXJhdGlvbk51bWJlciA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciB0b3RhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgdG90YWwodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl90b3RhbCA9IHZhbHVlO1xuICAgIH1cblxuXG59IiwiZXhwb3J0IGNsYXNzIFN0b2NrIHtcbiAgICBwcml2YXRlIF9pc2JuOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcXVhbnRpdHk6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zaGVsZk51bWJlcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoaXNibj86IHN0cmluZywgcXVhbnRpdHk/OiBudW1iZXIsIHNoZWxmTnVtYmVyPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2lzYm4gPSBpc2JuITtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBxdWFudGl0eSE7XG4gICAgICAgIHRoaXMuX3NoZWxmTnVtYmVyID0gc2hlbGZOdW1iZXIhO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaXNiblxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGlzYm4oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzYm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHF1YW50aXR5XG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzaGVsZk51bWJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNoZWxmTnVtYmVyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGVsZk51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaXNiblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgaXNibih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2lzYm4gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2hlbGZOdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNoZWxmTnVtYmVyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hlbGZOdW1iZXIgPSB2YWx1ZTtcbiAgICB9XG5cblxufSIsIi8vIGV4cG9ydCBOT0RFX09QVElPTlM9LS1vcGVuc3NsLWxlZ2FjeS1wcm92aWRlclxuaW1wb3J0IHsgRGF0YUJhc2UgfSBmcm9tIFwiLi9kYi9kYXRhYmFzZVwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rU3BlY2lmaWNhdGlvbiB9IGZyb20gXCIuL2RvbWFpbi9ib29rLXNwZWNpZmljYXRpb25cIjtcbmltcG9ydCB7IENhbmNlbCB9IGZyb20gXCIuL2RvbWFpbi9jYW5jZWxcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4vZG9tYWluL2N1c3RvbWVyXCI7XG5pbXBvcnQgeyBSZW50IH0gZnJvbSBcIi4vZG9tYWluL3JlbnRcIjtcbmltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi9kb21haW4vc2FsZVwiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi9kb21haW4vc3RvY2tcIjtcbmltcG9ydCB7IEJvb2tTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9ib29rLXNlcnZpY2VcIjtcbmltcG9ydCB7IENhbmNlbFNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2NhbmNlbC1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBDdXN0b21lclNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2N1c3RvbWVyLXNlcnZpY2VcIjtcbmltcG9ydCB7IFJlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9yZW50LXNlcnZpY2VcIjtcbmltcG9ydCB7IFNhbGVTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9zYWxlLXNlcnZpY2VcIjtcbmltcG9ydCB7IFN0b2NrU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2Uvc3RvY2stc2VydmljZVwiO1xuXG5leHBvcnQgbGV0IGJvb2tTZXJ2aWNlOiBCb29rU2VydmljZTtcbmV4cG9ydCBsZXQgY3VzdG9tZXJTZXJ2aWNlOiBDdXN0b21lclNlcnZpY2U7XG5leHBvcnQgbGV0IGNhbmNlbFNlcnZpY2U6IENhbmNlbFNlcnZpY2U7XG5leHBvcnQgbGV0IHJlbnRTZXJ2aWNlOiBSZW50U2VydmljZTtcbmV4cG9ydCBsZXQgc2FsZVNlcnZpY2U6IFNhbGVTZXJ2aWNlO1xuZXhwb3J0IGxldCBzdG9ja1NlcnZpY2U6IFN0b2NrU2VydmljZTtcblxubGV0IGRiOiBEYXRhQmFzZSA9IG5ldyBEYXRhQmFzZSgpO1xuaW5pdGlsaWF6ZVNlcnZpY2VzKGRiKTtcbmluaXRpbGlhemVEYXRhKCk7XG5hZGRMaXN0ZW5lckZvck1lbnVJdGVtcygpO1xuXG5mdW5jdGlvbiBpbml0aWxpYXplU2VydmljZXMoZGI6IERhdGFCYXNlKSB7XG4gIGJvb2tTZXJ2aWNlID0gbmV3IEJvb2tTZXJ2aWNlKGRiLmdldEJvb2tzTGlzdCwgZGIuZ2V0Qm9va1NwZWNpZmljYXRpb25zKTtcbiAgY3VzdG9tZXJTZXJ2aWNlID0gbmV3IEN1c3RvbWVyU2VydmljZShkYi5nZXRDdXN0b21lcnNMaXN0KTtcbiAgY2FuY2VsU2VydmljZSA9IG5ldyBDYW5jZWxTZXJ2aWNlKGRiLmdldENhbmNhbGVkU2FsZXMpO1xuICByZW50U2VydmljZSA9IG5ldyBSZW50U2VydmljZShkYi5nZXRSZW50cywgZGIuZ2V0UmVudENhcnQpO1xuICBzYWxlU2VydmljZSA9IG5ldyBTYWxlU2VydmljZShkYi5nZXRTYWxlc0xpc3QsIGRiLmdldFNhbGVDYXJ0KTtcbiAgc3RvY2tTZXJ2aWNlID0gbmV3IFN0b2NrU2VydmljZShkYi5nZXRTdG9ja3NMaXN0KTtcbiAgY29uc29sZS5sb2coXCJTZXJ2aWNlcyBpbnRpbGlhemVkLlwiKTtcblxuICBjdXN0b21lclNlcnZpY2UuYWRkQ3VzdG9tZXIobmV3IEN1c3RvbWVyKDEsIFwiXCIsIFwiXCIsIFwiXCIpKTtcbiAgY3VzdG9tZXJTZXJ2aWNlLmFkZEN1c3RvbWVyKG5ldyBDdXN0b21lcigyLCBcIlwiLCBcIlwiLCBcIlwiKSk7XG5cbiAgc3RvY2tTZXJ2aWNlLmFkZFN0b2NrKFwiMTIzLTQ1XCIsIFwiQTQ1LTUyXCIsIDEwKTtcbiAgc3RvY2tTZXJ2aWNlLmFkZFN0b2NrKFwiMTIzLTQ2XCIsIFwiQTQ1LTUyXCIsIDEwKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdGlsaWF6ZURhdGEoKSB7XG4gIGF3YWl0IGJvb2tTZXJ2aWNlLmluaXRpYWxpemVEYXRhTW9jaygpO1xuXG5cbn1cblxuZnVuY3Rpb24gYWRkTGlzdGVuZXJGb3JNZW51SXRlbXMoKSB7XG4gIC8vc2FsZVNlcnZpY2UudXBkYXRlU2FsZUNhcnQoKTtcbiAgc2hvd0FuZEhpZGUoXCJhZGRCb29rTWVudUl0ZW1cIiwgXCJhZGRCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJzaG93Qm9va3NNZW51SXRlbVwiLCBcImxpc3RCb29rc1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiYWRkQ3VzdG9tZXJNZW51SXRlbVwiLCBcImFkZEN1c3RvbWVyU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJhZGRTdG9ja01lbnVJdGVtXCIsIFwiYWRkU3RvY2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInNhbGVCb29rTWVudUl0ZW1cIiwgXCJzYWxlQm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwicmVudEJvb2tNZW51SXRlbVwiLCBcInJlbnRCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJjYW5jZWxTYWxlTWVudUl0ZW1cIiwgXCJjYW5jZWxTYWxlU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJjYW5jZWxSZW50TWVudUl0ZW1cIiwgXCJjYW5jZWxSZW50U2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJyZWZ1bmRCb29rTWVudUl0ZW1cIiwgXCJyZWZ1bmRCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJyZW50Tm93XCIsIFwicmVudEJvb2tTZWN0aW9uXCIpO1xuICBcbn1cblxuZnVuY3Rpb24gc2hvd0FuZEhpZGUoYnRuSWQ6IHN0cmluZywgZWxlbWVudElkOiBzdHJpbmcpIHtcbiAgLy9zYWxlU2VydmljZS51cGRhdGVTYWxlQ2FydCgpO1xuXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidG5JZCk7XG5cbiAgaWYgKGVsZW1lbnQgJiYgYnRuKSB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhZGRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYm9vay1mb3JtXCIpO1xuaWYgKGFkZEJvb2tGb3JtICE9IG51bGwpIHtcbiAgYWRkQm9va0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGFkZEJvb2tGb3JtKTtcblxuICAgIGNvbnN0IHRpdGxlID0gZm9ybURhdGEuZ2V0KFwiYm9va1RpdGxlXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBhdXRob3IgPSBmb3JtRGF0YS5nZXQoXCJib29rQXV0aG9yXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiYm9va0lzYm5cIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHB1Ymxpc2hZZWFyID0gZm9ybURhdGEuZ2V0KFwiYm9va1B1Ymxpc2hZZWFyXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBwYWdlcyA9IGZvcm1EYXRhLmdldChcImJvb2tQYWdlc1wiKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICBjb25zdCBwcmljZSA9IGZvcm1EYXRhLmdldChcImJvb2tQcmljZVwiKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgnRGVjIDMxLCA5OTk5IDIzOjU5OjU5Jyk7XG5cbiAgICB0aXRsZS5tYXRjaChcIlwiKTtcblxuXG4gICAgY29uc3QgYm9va1NwZWMgPSBuZXcgQm9va1NwZWNpZmljYXRpb24oaXNibiwgcHJpY2UsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG4gICAgY29uc3QgYm9vayA9IG5ldyBCb29rKGlzYm4sIHRpdGxlLCBhdXRob3IsIHB1Ymxpc2hZZWFyLCBwYWdlcywgYm9va1NwZWMpO1xuICAgIC8vYm9va1NlcnZpY2UuYWRkQm9vayhib29rKTtcblxuICAgIGxldCBzdWNjZXNzID0gYXdhaXQgYm9va1NlcnZpY2UuYWRkQm9va01vY2soYm9vayk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIGFsZXJ0KGJvb2suaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCBFa2xlbWUgxLDFn2xlbWkgQmHFn2FyxLEgxLBsZSBUYW1hbWxhbm3EscWfdMSxci5cIik7XG4gICAgICBhZGRCb29rRm9ybS5yZXNldCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChib29rLmlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgRWtsZW1lIMSwxZ9sZW1pIFPEsXJhc8SxbmRhIEJpciBIYXRhIG9sdcWfdHUuXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuY29uc3QgYWRkU3RvY2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtc3RvY2stZm9ybVwiKSk7XG5pZiAoYWRkU3RvY2tGb3JtKSB7XG4gIGFkZFN0b2NrRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGFkZFN0b2NrRm9ybSk7XG5cbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiYm9va0lzYm5Gb3JBZGRTdG9ja1wiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcXVhbnR0aXkgPSBmb3JtRGF0YS5nZXQoXCJzdG9ja1F1YW50aXR5XCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHNoZWxmTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwic2hlbGZOdW1iZXJcIikgYXMgc3RyaW5nO1xuXG4gICAgY29uc3Qgc3RvY2sgPSBuZXcgU3RvY2soaXNibiwgcXVhbnR0aXksIHNoZWxmTnVtYmVyKTtcblxuICAgIGNvbnN0IGlzQ29udGFpbnNCb29rID0gYm9va1NlcnZpY2UuYm9va0xpc3Quc29tZShiID0+IGIuaXNibiA9PSBpc2JuKTtcblxuICAgIGlmICghaXNDb250YWluc0Jvb2spIHtcbiAgICAgIGFsZXJ0KFwiU3RvayBla2xlbm1leWUgw6dhbMSxxZ/EsWxhbiBraXRhcCwga2F5xLF0bMSxIGRlxJ9pbGRpci4gTMO8dGZlbiDDtm5jZSBraXRhcCBla2xleWluaXpcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGV0IGlzT2sgPSBhd2FpdCBzdG9ja1NlcnZpY2UuYWRkU3RvY2tNb2NrKHN0b2NrKTtcblxuICAgICAgaWYgKGlzT2spIHtcbiAgICAgICAgYWxlcnQoaXNibiArIFwiIGlzYm4gbnVtYXJhbMSxIGtpdGFwdGFuLCBcIiArIHF1YW50dGl5ICsgXCIga2FkYXIgc2lzdGVtZSBzdG9rIGVrbGVubWnFn3Rpci5cIik7XG4gICAgICB9XG5cblxuICAgIH1cblxuICAgIGFkZFN0b2NrRm9ybS5yZXNldCgpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqXG4gKiBNw7zFn3RlcmkgZWtsZW1lIGZvcm11IHN1Ym1pdCBvbGF5xLFuxLEgbW9jayBjdXN0b21lclNlcnZpY2UgZGVraSBtb2NrIHNlcnZpc2UgYmHEn2xhZMSxbVxuICovXG5jb25zdCBhZGRDdXN0b21lckZvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1jdXN0b21lci1mb3JtXCIpKTtcbmlmIChhZGRDdXN0b21lckZvcm0pIHtcbiAgYWRkQ3VzdG9tZXJGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQ3VzdG9tZXJGb3JtKTtcblxuICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lck5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHN1cm5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lclN1cm5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob25lTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJQaG9uZU51bWJlclwiKSBhcyBzdHJpbmc7XG5cbiAgICBjb25zdCBjdXN0b21lciA9IG5ldyBDdXN0b21lcihjdXN0b21lclNlcnZpY2UuZ2V0TmV3Q3VzdG9tZXJJZCgpLCBuYW1lLCBzdXJuYW1lLCBwaG9uZU51bWJlcik7XG4gICAgYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmFkZEN1c3RvbWVyTW9jayhjdXN0b21lcik7XG5cbiAgICBhbGVydChcIk3DvMWfdGVyaSBFa2xlbWUgxLDFn2xlbWkgQmHFn2FyxLEgxLBsZSBUYW1hbWxhbm3EscWfdMSxci4gXCIpO1xuICAgIGFkZEN1c3RvbWVyRm9ybS5yZXNldCgpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqQnVyYWRhIG1vY2sgc2VydmlzaSB5b2sgw6fDvG5rw7wgYnVyYWRhIGtpdGFwIHNhdMSxxZ/EsSB5YXDEsWzEsXJrZW4sIGtpdGFwbGFyxLEgc2VwZXRlIGVrbGl5b3J1ei5cbiAqIFNlcGV0ZSBla2xlZGlrdGVuIHNvbnJhIGJ0blNhbGUgaWRsaSBidXRvbnVuIGNsaWNrIGV2ZW50aSwgbW9jayBzZXJ2aXNpIMOnYcSfxLFyxLF5b3JcbiAqL1xuY29uc3Qgc2FsZUJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYWxlLWJvb2stZm9ybVwiKSk7XG5pZiAoc2FsZUJvb2tGb3JtKSB7XG4gIHNhbGVCb29rRm9ybS5vbnN1Ym1pdCA9ICgpID0+IHtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHNhbGVCb29rRm9ybSk7XG5cbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiaXNibkZvclNhbGVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGJvb2sgPSBib29rU2VydmljZS5nZXRCb29rKGlzYm4pO1xuICAgIGNvbnN0IGN1c3RvbWVySWQgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJjdXN0b21lcklkRm9yU2FsZVwiKSBhcyBzdHJpbmcpO1xuICAgIGNvbnN0IGlzVmFsaWRDdXN0b21lcjogYm9vbGVhbiA9IGN1c3RvbWVyU2VydmljZS5pc1ZhbGlkQ3VzdG9tZXIoY3VzdG9tZXJJZCk7XG4gICAgY29uc3QgcXVhbnRpdHkgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJxdWFudGl0eUZvclNhbGVcIikgYXMgc3RyaW5nKTtcblxuICAgIGNvbnN0IHN0b2NrID0gc3RvY2tTZXJ2aWNlLmdldFN0b2NrKGlzYm4pITtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoYm9vaykge1xuICAgICAgICBpZiAoc3RvY2spIHtcbiAgICAgICAgICBpZiAoc3RvY2sucXVhbnRpdHkgPj0gcXVhbnRpdHkpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkQ3VzdG9tZXIpIHtcbiAgICAgICAgICAgICAgc2FsZVNlcnZpY2UuYWRkQm9va1RvQ2FydChib29rLCBxdWFudGl0eSwgY3VzdG9tZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbGVydChjdXN0b21lcklkICsgXCIgbnVtYXJhbMSxIG3DvMWfdGVyaSBrYXnEsXRsxLEgZGXEn2lsZGlyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGVydChxdWFudGl0eSArIFwiIGthZGFyIGtpdGFwIGTDvGtrYW5kYSBtZXZjdXQgZGXEn2lsZGlyLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxlcnQoYETDvGtrYW5kYSAke2lzYm59IG51bWFyYWzEsSBraXRhYsSxbiBzdG/En3UgbWV2Y3V0IGRlxJ9pbGRpci5gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCB5b2t0dXIuXCIpO1xuICAgICAgfVxuXG4gICAgICBzYWxlQm9va0Zvcm0ucmVzZXQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhbGVydChlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogS2l0YXAgc2F0xLHFn8SxIGnDp2luIGnFn2xlbSB5YXDEsWzEsXJrZW4ga2l0YXBsYXIgc2VwZXRlIGVrbGVuaXlvci5cbiAqIEVrbGVtZSBpxZ9sZW1pIGJpdHRpa3RlbiBzb25yYSBzYXTEsW4gYWxtIGlpw6dpbiBidSBidXRvbmEgdMSxa2xhbmTEscSfxLFuZGEgc2VydmlzZSBnaWRpcCBzZXBldHRla2kga2l0YXBsYXLEsW4gc2F0xLHFn8SxIGdlcsOnZWtsZcWfaXlvclxuICogQnVyYWRhIGRpxJ9lciBidXRvbmxhcmRhIG9sZHXEn3UgZ2liaSBkaXJlayBtb2NrIHNlcnZpc2luZSBiYcSfbGFubWFrIHllcmluZSBzZXJ2aXNlIGdpdG1layBkdXJ1bXVuZGF5xLF6LiBcbiAqIMOHw7xua8O8IHNlcnZpc3RlIFNhbGUgbmVzbmVzaW5pIG9sdcWfdHVydXAgbW9jayBzZXJ2aXNpbmUgcGFyYW1ldHJlIG9sYXJrIGdlw6dpeW9ydXouXG4gKi9cbmNvbnN0IGJ0blNhbGUgPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuU2FsZVwiKSk7XG5idG5TYWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmIChzYWxlU2VydmljZS5zYWxlQ2FydC5ib29rQW5kUXVhbnRpdHlNYXAuc2l6ZSA9PT0gMCkge1xuICAgIGFsZXJ0KFwiU2VwZXR0ZSDDvHLDvG4geW9rLiBMw7x0ZmVuIMO2bmNlIMO8csO8biBla2xleWluaXpcIik7XG4gIH0gZWxzZSB7XG4gICAgc2FsZVNlcnZpY2UuY2FydFRvU2FsZSgpO1xuICB9XG5cbn0pO1xuXG4vKipcbiAqIEtpdGFwbGFyxLEgbGlzdGVsZW1layBpw6dpbiB0xLFrbGFuxLFsYW4gYnV0b24gY2xpY2sgZXZlbnRpXG4gKi9cbmNvbnN0IGJ0blNob3dCb29rc01lbnVJdGVtID0gPEhUTUxFbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dCb29rc01lbnVJdGVtXCIpKTtcbmJ0blNob3dCb29rc01lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGJvb2tTZXJ2aWNlLmxpc3RCb29rcygpO1xufSlcblxuY29uc3QgY2FuY2VsU2FsZUZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FuY2VsLXNhbGUtZm9ybVwiKTtcbmlmIChjYW5jZWxTYWxlRm9ybSkge1xuICBjYW5jZWxTYWxlRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbGV0IGJxID0gbmV3IE1hcDxCb29rLCBudW1iZXI+KCk7IC8vIGJxID4gYm9vayBhbmQgcXVhbnRpdHlcbiAgICBicS5zZXQoYm9va1NlcnZpY2UuZ2V0Qm9vayhcIjEyMy00NVwiKSwgMyk7XG5cbiAgICBsZXQgYSA9IG5ldyBTYWxlKGJxLCBuZXcgRGF0ZSwgMSwgXCJTMDIxMTIyMTYzMDQ1XCIsIDEyMyk7XG4gICAgc2FsZVNlcnZpY2Uuc2FsZUxpc3QucHVzaChhKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGNhbmNlbFNhbGVGb3JtKTtcbiAgICBjb25zdCBzYWxlTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwic2FsZU51bWJlcmZvckNhbmNlbFwiKSBhcyBzdHJpbmc7XG5cbiAgICBsZXQgc2FsZSA9IHNhbGVTZXJ2aWNlLmdldFNhbGUoc2FsZU51bWJlcik7XG5cbiAgICBpZiAoc2FsZSkge1xuICAgICAgbGV0IGNhbmNlbFNhbGU6IENhbmNlbCA9IG5ldyBDYW5jZWwoc2FsZSwgc2FsZS50b3RhbCwgbmV3IERhdGUpO1xuICAgICAgbGV0IHN0YXRlID0gYXdhaXQgY2FuY2VsU2VydmljZS5jYW5jZWxTYWxlTW9jayhjYW5jZWxTYWxlKTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGFsZXJ0KHNhbGUub3BlcmF0aW9uTnVtYmVyICsgXCIgbnVtYXJhbMSxIHNhdMSxxZ8gaXB0YWwgZWRpbG1pxZ90aXIuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoc2FsZS5vcGVyYXRpb25OdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBpcHRhbCBlZGlsaXJrZW4gaGF0YSBtZXlkYW5hIGdlbGRpLlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoc2FsZU51bWJlciArIFwiIG51bWFyYWzEsSBzYXTEscWfIGJ1bHVuYW1hbcSxxZ90xLFyLiBUZWtyYXIgZGVuZXlpbml6LlwiKTtcbiAgICB9XG5cbiAgfVxufVxuXG5jb25zdCBjYW5jZWxSZW50Rm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW5jZWwtcmVudC1mb3JtXCIpO1xuaWYgKGNhbmNlbFJlbnRGb3JtKSB7XG4gIGNhbmNlbFJlbnRGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBLaXJhbGFtYSBpcHRhbGluaW4gw6dhbMSxxZ9hYmlsbWVzaSBpw6dpbiDDtm5jZSB2ZXJpIGVrbGVkaW0sIHNvbnJhIGlwdGFsIGnFn2xlbWkgw6dhbMSxxZ/EsXlvclxuICAgIGxldCBicSA9IG5ldyBNYXA8Qm9vaywgbnVtYmVyPigpOyAvLyBicSA+IGJvb2sgYW5kIHF1YW50aXR5XG4gICAgYnEuc2V0KGJvb2tTZXJ2aWNlLmdldEJvb2soXCIxMjMtNDVcIiksIDMpO1xuXG4gICAgbGV0IHJEYXRlID0gbmV3IERhdGU7XG4gICAgckRhdGUuc2V0RGF0ZShyRGF0ZS5nZXREYXRlKCkgKyAxNCk7XG5cbiAgICBsZXQgYSA9IG5ldyBSZW50KGJxLCBuZXcgRGF0ZSwgMSwgXCJSMDIxMTIyMTYzMDQ1XCIsIDEyMywgckRhdGUsIDIwMCk7XG4gICAgcmVudFNlcnZpY2UucmVudExpc3QucHVzaChhKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGNhbmNlbFJlbnRGb3JtKTtcbiAgICBjb25zdCByZW50TnVtYmVyID0gZm9ybURhdGEuZ2V0KFwicmVudE51bWJlcmZvckNhbmNlbFwiKSBhcyBzdHJpbmc7XG5cbiAgICBsZXQgcmVudCA9IHJlbnRTZXJ2aWNlLmdldFJlbnQocmVudE51bWJlcik7XG5cbiAgICBpZiAocmVudCkge1xuICAgICAgbGV0IGNhbmNlbFJlbnQ6IENhbmNlbCA9IG5ldyBDYW5jZWwocmVudCwgcmVudC50b3RhbCwgbmV3IERhdGUpO1xuICAgICAgbGV0IHN0YXRlID0gYXdhaXQgY2FuY2VsU2VydmljZS5jYW5jZWxSZW50TW9jayhjYW5jZWxSZW50KTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGFsZXJ0KHJlbnQub3BlcmF0aW9uTnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGlwdGFsIGVkaWxtacWfdGlyLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KHJlbnQub3BlcmF0aW9uTnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGlwdGFsIGVkaWxpcmtlbiBoYXRhIG1leWRhbmEgZ2VsZGkuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsbWEgYnVsdW5hbWFtxLHFn3TEsXIuIFRla3JhciBkZW5leWluaXouXCIpO1xuICAgIH1cblxuICB9XG5cbn1cblxuLyoqQnVyYWRhIG1vY2sgc2VydmlzaSB5b2sgw6fDvG5rw7wgYnVyYWRhIGtpdGFwIGtpcmFsYW1hc8SxIHlhcMSxbMSxcmtlbiwga2l0YXBsYXLEsSBzZXBldGUgZWtsaXlvcnV6LlxuICogU2VwZXRlIGVrbGVkaWt0ZW4gc29ucmEgYnRuUmVudCBpZGxpIGJ1dG9udW4gY2xpY2sgZXZlbnRpLCBtb2NrIHNlcnZpc2kgw6dhxJ/EsXLEsXlvclxuICovXG5jb25zdCByZW50Qm9va0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbnQtYm9vay1mb3JtXCIpKTtcbmlmIChyZW50Qm9va0Zvcm0pIHtcbiAgcmVudEJvb2tGb3JtLm9uc3VibWl0ID0gKCkgPT4ge1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEocmVudEJvb2tGb3JtKTtcblxuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJpc2JuRm9yUmVudFwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYm9vayA9IGJvb2tTZXJ2aWNlLmdldEJvb2soaXNibik7XG4gICAgY29uc3QgY3VzdG9tZXJJZCA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcImN1c3RvbWVySWRGb3JSZW50XCIpIGFzIHN0cmluZyk7XG4gICAgY29uc3QgaXNWYWxpZEN1c3RvbWVyOiBib29sZWFuID0gY3VzdG9tZXJTZXJ2aWNlLmlzVmFsaWRDdXN0b21lcihjdXN0b21lcklkKTtcbiAgICBjb25zdCBxdWFudGl0eSA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcInF1YW50aXR5Rm9yUmVudFwiKSBhcyBzdHJpbmcpO1xuXG4gICAgY29uc3Qgc3RvY2sgPSBzdG9ja1NlcnZpY2UuZ2V0U3RvY2soaXNibikhO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChib29rKSB7XG4gICAgICAgIGlmIChzdG9jaykge1xuICAgICAgICAgIGlmIChzdG9jay5xdWFudGl0eSA+PSBxdWFudGl0eSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRDdXN0b21lcikge1xuICAgICAgICAgICAgICByZW50U2VydmljZS5hZGRCb29rVG9DYXJ0KGJvb2ssIHF1YW50aXR5LCBjdXN0b21lcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGN1c3RvbWVySWQgKyBcIiBudW1hcmFsxLEgbcO8xZ90ZXJpIGthecSxdGzEsSBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KHF1YW50aXR5ICsgXCIga2FkYXIga2l0YXAgZMO8a2thbmRhIG1ldmN1dCBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChgRMO8a2thbmRhICR7aXNibn0gbnVtYXJhbMSxIGtpdGFixLFuIHN0b8SfdSBtZXZjdXQgZGXEn2lsZGlyLmApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChpc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIHlva3R1ci5cIik7XG4gICAgICB9XG5cbiAgICAgIHJlbnRCb29rRm9ybS5yZXNldCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFsZXJ0KGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBLaXRhcCBzYXTEscWfxLEgacOnaW4gacWfbGVtIHlhcMSxbMSxcmtlbiBraXRhcGxhciBzZXBldGUgZWtsZW5peW9yLlxuICogRWtsZW1lIGnFn2xlbWkgYml0dGlrdGVuIHNvbnJhIHNhdMSxbiBhbG0gaWnDp2luIGJ1IGJ1dG9uYSB0xLFrbGFuZMSxxJ/EsW5kYSBzZXJ2aXNlIGdpZGlwIHNlcGV0dGVraSBraXRhcGxhcsSxbiBzYXTEscWfxLEgZ2Vyw6dla2xlxZ9peW9yXG4gKiBCdXJhZGEgZGnEn2VyIGJ1dG9ubGFyZGEgb2xkdcSfdSBnaWJpIGRpcmVrIG1vY2sgc2VydmlzaW5lIGJhxJ9sYW5tYWsgeWVyaW5lIHNlcnZpc2UgZ2l0bWVrIGR1cnVtdW5kYXnEsXouIFxuICogw4fDvG5rw7wgc2VydmlzdGUgU2FsZSBuZXNuZXNpbmkgb2x1xZ90dXJ1cCBtb2NrIHNlcnZpc2luZSBwYXJhbWV0cmUgb2xhcmsgZ2XDp2l5b3J1ei5cbiAqL1xuY29uc3QgYnRuUmVudCA9IDxIVE1MQnV0dG9uRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5SZW50XCIpKTtcbmJ0blJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaWYgKHJlbnRTZXJ2aWNlLnJlbnRDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcC5zaXplID09PSAwKSB7XG4gICAgYWxlcnQoXCJTZXBldHRlIMO8csO8biB5b2suIEzDvHRmZW4gw7ZuY2Ugw7xyw7xuIGVrbGV5aW5pelwiKTtcbiAgfSBlbHNlIHtcbiAgICByZW50U2VydmljZS5jYXJ0VG9SZW50KCk7XG4gIH1cblxufSk7XG5cbmNvbnN0IHJlZnVuZEJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWZ1bmQtYm9vay1mb3JtXCIpKTtcbmlmIChyZWZ1bmRCb29rRm9ybSkge1xuICByZWZ1bmRCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG5cbiAgICAvLyBLaXJhbGFtYSBpcHRhbGluaW4gw6dhbMSxxZ9hYmlsbWVzaSBpw6dpbiDDtm5jZSB2ZXJpIGVrbGVkaW0sIHNvbnJhIGlwdGFsIGnFn2xlbWkgw6dhbMSxxZ/EsXlvclxuICAgIGxldCBicSA9IG5ldyBNYXA8Qm9vaywgbnVtYmVyPigpOyAvLyBicSA+IGJvb2sgYW5kIHF1YW50aXR5XG4gICAgYnEuc2V0KGJvb2tTZXJ2aWNlLmdldEJvb2soXCIxMjMtNDVcIiksIDMpO1xuXG4gICAgbGV0IHJEYXRlID0gbmV3IERhdGU7XG4gICAgckRhdGUuc2V0RGF0ZShyRGF0ZS5nZXREYXRlKCkgKyAyMyk7XG5cbiAgICBsZXQgYSA9IG5ldyBSZW50KGJxLCBuZXcgRGF0ZSwgMSwgXCJSMDIxMTIyMTYzMDQ1XCIsIDEyMywgckRhdGUsIDApO1xuICAgIGEucmVmdW5kID0gcmVudFNlcnZpY2UuY2FsY3VsYXRlUmVmdW5kQW1vdW50KGEpO1xuXG4gICAgcmVudFNlcnZpY2UucmVudExpc3QucHVzaChhKTtcbiAgICAvL1ZlcmkgR2lyacWfaSBzb24gYWxhbsSxXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEocmVmdW5kQm9va0Zvcm0pO1xuICAgIGNvbnN0IHJlbnROdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJyZW50TnVtYmVyZm9yUmVmdW5kXCIpIGFzIHN0cmluZztcblxuICAgIGxldCByZW50ID0gcmVudFNlcnZpY2UuZ2V0UmVudChyZW50TnVtYmVyKTtcbiAgICBpZiAocmVudCkge1xuXG4gICAgICBsZXQgcmVmdW5kID0gYXdhaXQgcmVudFNlcnZpY2UucmVmdW5kUmVudE1vY2socmVudCk7XG5cbiAgICAgIGlmIChyZWZ1bmQpIHtcbiAgICAgICAgYWxlcnQocmVudC5vcGVyYXRpb25OdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgZ2VyaSBhbMSxbm3EscWfdMSxci5cIik7XG4gICAgICAgIGFsZXJ0KFwiR2VyaSDDtmRlbWUgbWlrdGFyxLE6XCIgKyByZWZ1bmQgKyBcIiDigrogLlwiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQocmVudC5vcGVyYXRpb25OdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgaXB0YWwgZWRpbGlya2VuIGhhdGEgbWV5ZGFuYSBnZWxkaS5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KHJlbnROdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgYnVsdW5hbWFtxLHFn3TEsXIuIFRla3JhciBkZW5leWluaXouXCIpO1xuICAgIH1cblxuICB9O1xufSIsIi8qKlxuICogQGF1dGhvciBNZWhtZXQgRS4gQWtjYW4gLSAyMS4xMC4yMlxuICovXG5pbXBvcnQgeyBzdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tTcGVjaWZpY2F0aW9uIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rLXNwZWNpZmljYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEJvb2tTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9ib29rTGlzdDogQXJyYXk8Qm9vaz47XG4gICAgcHJpdmF0ZSBfYm9va1NwZWNpZmljYXRpb246IEFycmF5PEJvb2tTcGVjaWZpY2F0aW9uPjtcbiAgICBib29rQXBpOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MSc7XG5cbiAgICBjb25zdHJ1Y3Rvcihib29rTGlzdDogQXJyYXk8Qm9vaz4sIGJvb2tTcGVjaWZpY2F0aW9uOiBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj4pIHtcbiAgICAgICAgdGhpcy5fYm9va0xpc3QgPSBib29rTGlzdDtcbiAgICAgICAgdGhpcy5fYm9va1NwZWNpZmljYXRpb24gPSBib29rU3BlY2lmaWNhdGlvbjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2s+fVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGJvb2tMaXN0KCk6IEFycmF5PEJvb2s+IHtcblx0XHRyZXR1cm4gdGhpcy5fYm9va0xpc3Q7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rU3BlY2lmaWNhdGlvblxuICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2tTcGVjaWZpY2F0aW9uPn1cbiAgICAgKi9cblx0cHVibGljIGdldCBib29rU3BlY2lmaWNhdGlvbigpOiBBcnJheTxCb29rU3BlY2lmaWNhdGlvbj4ge1xuXHRcdHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbjtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxCb29rPn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBib29rTGlzdCh2YWx1ZTogQXJyYXk8Qm9vaz4pIHtcblx0XHR0aGlzLl9ib29rTGlzdCA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va1NwZWNpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5PEJvb2tTcGVjaWZpY2F0aW9uPn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBib29rU3BlY2lmaWNhdGlvbih2YWx1ZTogQXJyYXk8Qm9va1NwZWNpZmljYXRpb24+KSB7XG5cdFx0dGhpcy5fYm9va1NwZWNpZmljYXRpb24gPSB2YWx1ZTtcblx0fVxuICAgXG5cbiAgICAvKipcbiAgICAgKiBwYXJhbWV0cmUgb2xhcmFrIGdlbGVuIGlzYm4gYmlsZ2lzaW5lIGfDtnJlIGlsZ2lsaSBraXRhYsSxIGJ1bHVyLlxuICAgICAqIEBwYXJhbSBpc2JuIEJ1bHVuYWNhayBvbGFuIGtpdGFixLFuIGlzYm4gbnVtYXJhc8SxXG4gICAgICogQHJldHVybnMgaXNibiBudW1hcmFzxLFuYSBnw7ZyZSBpbGdpbGkga2l0YWLEsSBCb29rIG5lc25lc2kgb2xhcmFrIGdlcmkgZMO2bmTDvHLDvHJcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Qm9vayhpc2JuOiBzdHJpbmcpOiBCb29rIHtcbiAgICAgICAgLy9CdXJhZGFuIG51bGwgYmlyIGRlxJ9lciBkZSBkw7ZuZWJpbGVjZcSfaSBpw6dpbiBoYXRhIHZlcml5b3JcbiAgICAgICAgLy9hbWEgYml6IHNvbmRha2kgISBvcGVyYXTDtnLDvCBpbGUgbnVsbCBkZcSfZXIgZMO2bm1leWVjZWsgZGl5ZSBnYXJhbnRpIHZlcml5b3J1elxuICAgICAgICByZXR1cm4gdGhpcy5ib29rTGlzdC5maW5kKGIgPT4gYi5pc2JuID09PSBpc2JuKSE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyYW1ldHJlIG9sYXJhayBnZWxlbiBCb29rIG5lc25lc2luaSBraXRhcCBuZXNuZXNpbmUgZWtsZXJcbiAgICAgKiBAcGFyYW0gbmV3Qm9vayBla2xlbmVjZWsgb2xhbiBraXRhcCBuZXNuZXNpXG4gICAgICovXG4gICAgcHVibGljIGFkZEJvb2sobmV3Qm9vazogQm9vaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5ib29rTGlzdC5wdXNoKG5ld0Jvb2spO1xuICAgICAgICAgICAgdGhpcy5ib29rU3BlY2lmaWNhdGlvbi5wdXNoKG5ld0Jvb2suYm9va1NwZWNpZmljYXRpb24pO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiS2l0YXAgZWtsZW5pcmtlbiBiaXIgaGF0YSBtZXlkYW5hIGdlbGRpLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc1ZhbGlkQm9vayhpc2JuOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuZ2V0Qm9vayhpc2JuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9va0xpc3QuaW5jbHVkZXMoYilcbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplRGF0YU1vY2soKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYm9va0FwaSsnL2Jvb2tzJywge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEJvb2tbXT5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgNCkpO1xuICAgICAgICAgICAgdGhpcy5ib29rTGlzdCA9IGdldFJlc3VsdCBhcyBBcnJheTxCb29rPjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYm9va0xpc3QpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBsaXN0Qm9va3MoKSB7XG4gICAgICAgIGNvbnN0IGxpc3RCb29rc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzdEJvb2tzXCIpO1xuXG4gICAgICAgIGlmIChsaXN0Qm9va3NEaXYpIHtcbiAgICAgICAgICAgIGxldCByb3csIGNvbHVtbjtcblxuICAgICAgICAgICAgd2hpbGUgKGxpc3RCb29rc0Rpdi5sYXN0Q2hpbGQgJiYgbGlzdEJvb2tzRGl2LmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsaXN0Qm9va3NEaXYucmVtb3ZlQ2hpbGQobGlzdEJvb2tzRGl2Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm9va0xpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSBcInJvdy1saXN0LWJvb2tcIjtcblxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuaXNibi50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5uYW1lLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcbiAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50LmF1dGhvci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gc3RvY2tTZXJ2aWNlLmdldFN0b2NrUXVhbnRpdHkoZWxlbWVudC5pc2JuKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5ib29rU3BlY2lmaWNhdGlvbi5wcmljZS50b1N0cmluZygpICsgXCIg4oK6XCI7XG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICBsaXN0Qm9va3NEaXYuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXN5bmMgYWRkQm9va01vY2soYjogQm9vaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmJvb2tBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGlzYm46IGIuaXNibixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGIuYXV0aG9yLFxuICAgICAgICAgICAgICAgICAgICBwYWdlczogYi5wYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaFllYXI6IGIucHVibGlzaFllYXJcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb2NrIHNlcnZpc2luZGVuIGTDtm5lbiBjZXZhcCA9PlwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IENhbmNlbCB9IGZyb20gXCIuLi9kb21haW4vY2FuY2VsXCI7XG5cbmV4cG9ydCBjbGFzcyBDYW5jZWxTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9jYW5jZWxsZWRMaXN0OiBBcnJheTxDYW5jZWw+O1xuICAgIGNhbmNlbFNhbGVBcGk6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL2NhbmNlbFNhbGUnO1xuICAgIGNhbmNlbFJlbnRBcGk6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL2NhbmNlbFJlbnQnO1xuXG4gICAgY29uc3RydWN0b3IoY2FuY2VsbGVkTGlzdDogQXJyYXk8Q2FuY2VsPikge1xuICAgICAgICB0aGlzLl9jYW5jZWxsZWRMaXN0ID0gY2FuY2VsbGVkTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY2FuY2VsbGVkU2FsZXNMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Q2FuY2VsU2FsZT59XG4gICAgICovXG4gICAgcHVibGljIGdldCBjYW5jZWxsZWRMaXN0KCk6IEFycmF5PENhbmNlbD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsbGVkTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY2FuY2VsbGVkU2FsZXNMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxDYW5jZWxTYWxlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGNhbmNlbGxlZExpc3QodmFsdWU6IEFycmF5PENhbmNlbD4pIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsbGVkTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaWZmSG91cnMoZDE6IERhdGUsIGQyOiBEYXRlKTogbnVtYmVyIHtcblxuICAgICAgICBsZXQgZGlmZk1pbGlzOiBudW1iZXIgPSAoZDEuZ2V0VGltZSgpIC0gZDIuZ2V0VGltZSgpKTsvLyBtaWxpIHNlY29uZHNcbiAgICAgICAgbGV0IGRpZmZIb3VyID0gTWF0aC5mbG9vcihkaWZmTWlsaXMgLyAxMDAwIC8gNjAgLyA2MCk7IC8vIC8xMDAwID4gc2Vjb25kIC8gNjAgPiBtaW4gLyA2MCA+IGhvdXJcbiAgICAgICAgcmV0dXJuIGRpZmZIb3VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxTYWxlKGNhbmNlbDogQ2FuY2VsKTogdm9pZCB7XG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlciA9IHRoaXMuY2FsY3VsYXRlQ2FuY2VsU2FsZVJlZnVuZChjYW5jZWwpO1xuICAgICAgICBjYW5jZWwucmVmdW5kID0gcmVmdW5kO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZExpc3QucHVzaChjYW5jZWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVDYW5jZWxTYWxlUmVmdW5kKGNhbmNlbFNhbGU6IENhbmNlbCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmSG91cnMoY2FuY2VsU2FsZS5jYW5jZWxlZERhdGVUaW1lLCBjYW5jZWxTYWxlLmNhbmNlbFR5cGUub3BlcmF0aW9uRGF0ZVRpbWUpXG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlcjtcblxuICAgICAgICBpZiAoZGlmZiA+IDI0KSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxTYWxlLmNhbmNlbFR5cGUudG90YWwgKiAwLjc1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVmdW5kID0gY2FuY2VsU2FsZS5jYW5jZWxUeXBlLnRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZ1bmQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY2FuY2VsU2FsZU1vY2soY2FuY2VsU2FsZTogQ2FuY2VsKSB7XG5cbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyID0gdGhpcy5jYWxjdWxhdGVDYW5jZWxTYWxlUmVmdW5kKGNhbmNlbFNhbGUpO1xuXG4gICAgICAgIGNhbmNlbFNhbGUucmVmdW5kID0gcmVmdW5kO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY2FuY2VsU2FsZUFwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgc2FsZTogY2FuY2VsU2FsZS5jYW5jZWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICByZWZ1bmQ6IGNhbmNlbFNhbGUucmVmdW5kLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZERhdGVUaW1lOiBjYW5jZWxTYWxlLmNhbmNlbGVkRGF0ZVRpbWVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9Ub2RvIHNhbGUgbW9jayBzZXJ2aXNpbmUgZGVsZXRlIGlzdGXEn2kgYXTEsXAgbyBzYWxlIG5lc25lc2luaSBzaWxlY2VrXG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxSZW50KGNhbmNlbDogQ2FuY2VsKSB7XG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlciA9IHRoaXMuY2FsY3VsYXRlQ2FuY2VsUmVudFJlZnVuZChjYW5jZWwpO1xuICAgICAgICBjYW5jZWwucmVmdW5kID0gcmVmdW5kO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZExpc3QucHVzaChjYW5jZWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVDYW5jZWxSZW50UmVmdW5kKGNhbmNlbFJlbnQ6IENhbmNlbCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmSG91cnMoY2FuY2VsUmVudC5jYW5jZWxlZERhdGVUaW1lLCBjYW5jZWxSZW50LmNhbmNlbFR5cGUub3BlcmF0aW9uRGF0ZVRpbWUpXG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlcjtcblxuICAgICAgICBpZiAoZGlmZiA+IDI0KSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxSZW50LmNhbmNlbFR5cGUudG90YWwgKiAwLjc1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVmdW5kID0gY2FuY2VsUmVudC5jYW5jZWxUeXBlLnRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZ1bmQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY2FuY2VsUmVudE1vY2soY2FuY2VsUmVudDogQ2FuY2VsKXtcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyID0gdGhpcy5jYWxjdWxhdGVDYW5jZWxSZW50UmVmdW5kKGNhbmNlbFJlbnQpO1xuXG4gICAgICAgIGNhbmNlbFJlbnQucmVmdW5kID0gcmVmdW5kO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY2FuY2VsUmVudEFwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcmVudDogY2FuY2VsUmVudC5jYW5jZWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICByZWZ1bmQ6IGNhbmNlbFJlbnQucmVmdW5kLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZERhdGVUaW1lOiBjYW5jZWxSZW50LmNhbmNlbGVkRGF0ZVRpbWVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9Ub2RvIHNhbGUgbW9jayBzZXJ2aXNpbmUgZGVsZXRlIGlzdGXEn2kgYXTEsXAgbyBzYWxlIG5lc25lc2luaSBzaWxlY2VrXG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi4vZG9tYWluL2N1c3RvbWVyXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21lclNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2N1c3RvbWVyTGlzdDogQXJyYXk8Q3VzdG9tZXI+O1xuICAgIHByaXZhdGUgY3VzdG9tZXJBcGk6IHN0cmluZyA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS9jdXN0b21lcnNcIjtcblxuICAgIGNvbnN0cnVjdG9yKGN1c3RvbWVyTGlzdDogQXJyYXk8Q3VzdG9tZXI+KSB7XG4gICAgICAgIHRoaXMuX2N1c3RvbWVyTGlzdCA9IGN1c3RvbWVyTGlzdDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjdXN0b21lckxpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxDdXN0b21lcj59XG4gICAgICovXG4gICAgcHVibGljIGdldCBjdXN0b21lckxpc3QoKTogQXJyYXk8Q3VzdG9tZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbWVyTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY3VzdG9tZXJMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxDdXN0b21lcj59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBjdXN0b21lckxpc3QodmFsdWU6IEFycmF5PEN1c3RvbWVyPikge1xuICAgICAgICB0aGlzLl9jdXN0b21lckxpc3QgPSB2YWx1ZTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBhZGRDdXN0b21lcihuZXdDdXN0b21lcjogQ3VzdG9tZXIpIHtcbiAgICAgICAgdGhpcy5jdXN0b21lckxpc3QucHVzaChuZXdDdXN0b21lcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5ld0N1c3RvbWVySWQoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGxhc3RDdXN0b21lcklkOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLmN1c3RvbWVyTGlzdC5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxhc3RDdXN0b21lcklkID0gdGhpcy5jdXN0b21lckxpc3QuYXQodGhpcy5jdXN0b21lckxpc3QubGVuZ3RoIC0gMSkhLmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdEN1c3RvbWVySWQgPSBsYXN0Q3VzdG9tZXJJZCArIDE7XG5cbiAgICAgICAgcmV0dXJuIGxhc3RDdXN0b21lcklkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDdXN0b21lckluZm8oaWQ6IG51bWJlcik6IEN1c3RvbWVyIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBsZXQgY3VzdG9tZXIgPSB0aGlzLmN1c3RvbWVyTGlzdC5maW5kKGN1c3RvbWVyID0+IGN1c3RvbWVyLmlkID09PSBpZCk7XG5cbiAgICAgICAgaWYgKGN1c3RvbWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VzdG9tZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzVmFsaWRDdXN0b21lcihjdXN0b21lcklkOiBudW1iZXIpOiBib29sZWFuIHtcblxuICAgICAgICBsZXQgaXNWYWxpZCA9IHRoaXMuY3VzdG9tZXJMaXN0LnNvbWUoY3VzdG9tZXIgPT4gY3VzdG9tZXIuaWQgPT09IGN1c3RvbWVySWQpO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGFkZEN1c3RvbWVyTW9jayhuZXdDdXN0b21lcjogQ3VzdG9tZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5jdXN0b21lckFwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG5ld0N1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuZXdDdXN0b21lci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdXJOYW1lOiBuZXdDdXN0b21lci5zdXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogbmV3Q3VzdG9tZXIucGhvbmVOdW1iZXJcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBzdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnRcIjtcbmltcG9ydCB7IFJlbnRDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50LWNhcnRcIjtcblxuZXhwb3J0IGNsYXNzIFJlbnRTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9yZW50TGlzdDogQXJyYXk8UmVudD47XG5cbiAgICBwcml2YXRlIF9yZW50Q2FydDogUmVudENhcnQ7XG4gICAgcHVibGljIHJlbnRBcGkgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS9yZW50cyc7XG4gICAgcmVmdW5kUGVyY2VudDogbnVtYmVyO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihyZW50TGlzdDogQXJyYXk8UmVudD4sIHJlbnRDYXJ0OiBSZW50Q2FydCkge1xuICAgICAgICB0aGlzLl9yZW50TGlzdCA9IHJlbnRMaXN0O1xuICAgICAgICB0aGlzLnJlZnVuZFBlcmNlbnQgPSAwLjc1O1xuICAgICAgICB0aGlzLl9yZW50Q2FydCA9IHJlbnRDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciByZW50TGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFJlbnQ+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcmVudExpc3QoKTogQXJyYXk8UmVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVudExpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlbnRMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxSZW50Pn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJlbnRMaXN0KHZhbHVlOiBBcnJheTxSZW50Pikge1xuICAgICAgICB0aGlzLl9yZW50TGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciByZW50Q2FydFxuICAgICAqIEByZXR1cm4ge1JlbnRDYXJ0fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcmVudENhcnQoKTogUmVudENhcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVudENhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHBhcmFtIHtSZW50Q2FydH0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJlbnRDYXJ0KHZhbHVlOiBSZW50Q2FydCkge1xuICAgICAgICB0aGlzLl9yZW50Q2FydCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRSZW50KHJlbnQ6IFJlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW50TGlzdC5wdXNoKHJlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtpdGFwbGFyxLFuIGhlcHNpIHNlcGV0ZSBla2xlbmRpa3RlbiBzb25yYSB0b3BsbWEgw7xjcmV0aSBoZXNhcGxhdWFuIGZvbmtzaXlvblxuICAgICAqIEBwYXJhbSByZW50IEtpdGFwbGFyxLFuIGxpc3Rlc2luaW4gYnVsdW5kdcSfdSBuZXNuZVxuICAgICAqIEByZXR1cm5zIFRvcGxhbSDDvGNyZXRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlVG90YWwocmVudDogUmVudCk6IG51bWJlciB7XG5cbiAgICAgICAgbGV0IG1hcDogTWFwPEJvb2ssIG51bWJlcj4gPSByZW50LmJvb2tBbmRRdWFudGl0eU1hcDtcblxuICAgICAgICBsZXQgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgLy9pdCBjYW4gYmUgPT4gbGV0IGVudHJ5IG9mIHJlbnQuYm9va0FuZFF1YW50aXR5TWFwLmVudHJpZXMoKVxuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiByZW50LmJvb2tBbmRRdWFudGl0eU1hcCkge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gZW50cnlbMF0uYm9va1NwZWNpZmljYXRpb24ucHJpY2UgKiBlbnRyeVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICAvLyBSMDUxMDIyMTQ1NTA5ID0+IGRvbWFpbi5SZW50IDA1LjEwLjIwMjIgMTQ6NTUuMDlcbiAgICBnZW5lcmF0ZVJlbnROdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiUlwiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcgKyB0b2RheS5nZXRNb250aCgpLnRvU3RyaW5nICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZyArIHRvZGF5LmdldEhvdXJzKCkudG9TdHJpbmcgKyB0b2RheS5nZXRNaW51dGVzKCkudG9TdHJpbmcgKyB0b2RheS5nZXRTZWNvbmRzKCkudG9TdHJpbmcgKyBjdXN0b21lcklkLnRvU3RyaW5nO1xuXG4gICAgICAgIHJldHVybiByZWNlaXB0TnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBkMSBLaXRhcGxhxLFuIGtpcmFsxLFrIG9sYXJhayBhbMSxbmTEscSfxLEgdGFyaWhcbiAgICAgKiBAcGFyYW0gZDIgS2l0YXBsYXLEsW4gZ2VyaSBnZXRpcmlsZGnEn2kgdGFyaWhcbiAgICAgKiBAcmV0dXJucyDEsGtpIHRhcmloIGFyYXPEsW5kYWtpIGZhcmsgKHNhYXQgb2xhcmFrKVxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxjdWxhdGVEaWZmSG91cnMoZDE6IERhdGUsIGQyOiBEYXRlKTogbnVtYmVyIHtcblxuICAgICAgICBsZXQgZGlmZk1pbGlzOiBudW1iZXIgPSAoZDEuZ2V0VGltZSgpIC0gZDIuZ2V0VGltZSgpKTsvLyBtaWxpIHNlY29uZHNcbiAgICAgICAgbGV0IGRpZmZIb3VyID0gTWF0aC5mbG9vcihkaWZmTWlsaXMgLyAxMDAwIC8gNjAgLyA2MCk7IC8vIC8xMDAwID4gc2Vjb25kIC8gNjAgPiBtaW4gLyA2MCA+IGhvdXJcbiAgICAgICAgcmV0dXJuIGRpZmZIb3VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtpdGFwIGlsayBraXJhbGFuZMSxxJ/EsSBhbmRhLCB6YW1hbsSxbmRhIGdldGlyaWxkacSfaSBnaWJpIGTDvMWfw7xuw7xsZXJlayB2ZXJpbGVjZWsgb2xhbiB2YXJzYXnEsWxhbiBnZXJpIMO2ZGVtZSBtaWt0YXLEsVxuICAgICAqIEBwYXJhbSByZW50IEhlc2FwbGFuYWNhayBvbGFuIGdlcmkgw7ZkZW1lIG1pa3RhcsSxbsSxbiBpw6dpbmRlIGJ1bHVuZHXEn3UgbmVzbmVcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlUmVmdW5kKHJlbnQ6IFJlbnQpOiB2b2lkIHtcbiAgICAgICAgcmVudC5yZWZ1bmQgPSByZW50LnRvdGFsICogdGhpcy5yZWZ1bmRQZXJjZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtpdGFwIGtpcmFsYW5kxLEsIG9rdW5kdSB2ZSBnZXJpIGdldGlyaWxkacSfaSB6YW1hbiBuZSBrYWRhciBnZXJpIMO2ZGVtZSB2ZXJpbGVjZcSfaW5pIGhlc2FwbGFyXG4gICAgICogQHBhcmFtIHJlbnQgSGVzYXBsYW5hY2FrIG9sYW4gZ2VyaSDDtmRlbWUgbWlrdGFyxLFuxLFuIGnDp2luZGUgYnVsdW5kdcSfdSBuZXNuZVxuICAgICAqIEByZXR1cm5zIEdlcmkgw7ZkZW1lIG1pa3RhcsSxXG4gICAgICovXG4gICAgcHVibGljIGNhbGN1bGF0ZVJlZnVuZEFtb3VudChyZW50OiBSZW50KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGRpZmYgPSB0aGlzLmNhbGN1bGF0ZURpZmZIb3VycyhyZW50LnJlZnVuZERhdGUsIHJlbnQub3BlcmF0aW9uRGF0ZVRpbWUpIC8gMjQ7XG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlcjtcblxuICAgICAgICBpZiAoZGlmZiA8PSAxNCkge1xuICAgICAgICAgICAgcmVmdW5kID0gcmVudC50b3RhbCAqIDAuNzU7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZiA8PSAyNCkge1xuICAgICAgICAgICAgbGV0IGZpbmUgPSAoMC43NSAtICgoZGlmZiAtIDE0KSAqIDAuMDUpKTtcbiAgICAgICAgICAgIHJlZnVuZCA9IHJlbnQudG90YWwgKiBmaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVmdW5kID0gcmVudC50b3RhbCAqIDAuMjU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVmdW5kO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZW50KHJlbnROdW1iZXI6IHN0cmluZyk6IFJlbnQge1xuICAgICAgICBsZXQgcmVudCA9IHRoaXMucmVudExpc3QuZmluZChzID0+IHMub3BlcmF0aW9uTnVtYmVyID09PSByZW50TnVtYmVyKTtcbiAgICAgICAgcmV0dXJuIHJlbnQhO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRCb29rVG9DYXJ0KGJvb2s6IEJvb2ssIHF1YW50aXR5OiBudW1iZXIsIGN1c3RvbWVySWQ6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5yZW50Q2FydC5ib29rQW5kUXVhbnRpdHlNYXAuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW50Q2FydC5jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbnRDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcC5zaXplID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVudENhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBraXJhbGFubWF5YSDDp2FsxLHFn8SxbMSxeW9yLiBMw7x0ZmVuIHRlayBtw7zFn3RlcmkgacOnaW4gacWfbGVtIHlhcMSxbsSxelwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbnRDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcC5zZXQoYm9vaywgcXVhbnRpdHkpO1xuICAgICAgICB0aGlzLnVwZGF0ZVJlbnRDYXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVJlbnRDYXJ0KCkge1xuICAgICAgICBjb25zdCByZW50Q2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVudENhcnRcIik7XG4gICAgICAgIGNvbnN0IHN1YlRvdGFsU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxSZW50QW1vdW50VGxcIik7XG5cbiAgICAgICAgaWYgKHJlbnRDYXJ0KSB7XG5cbiAgICAgICAgICAgIGxldCByb3csIGNvbHVtbiwgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZW50Q2FydC5sYXN0Q2hpbGQgJiYgcmVudENhcnQuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHJlbnRDYXJ0LnJlbW92ZUNoaWxkKHJlbnRDYXJ0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJUb3RhbFNwYW4hLnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucmVudENhcnQuYm9va0FuZFF1YW50aXR5TWFwLnNpemU7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcm93LmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LXJvd1wiO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5yZW50Q2FydC5ib29rQW5kUXVhbnRpdHlNYXAuZW50cmllcygpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbnRyeVswXS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJyZW50LWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVudHJ5WzFdLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gKGVudHJ5WzBdLmJvb2tTcGVjaWZpY2F0aW9uLnByaWNlICogZW50cnlbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdyAmJiBzdWJUb3RhbFNwYW4pIHtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5yZW50Q2FydC5ib29rQW5kUXVhbnRpdHlNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViVG90YWwgKz0gdFswXS5ib29rU3BlY2lmaWNhdGlvbi5wcmljZSAqIHRbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVudENhcnQuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgICAgICBzdWJUb3RhbFNwYW4udGV4dENvbnRlbnQgPSBzdWJUb3RhbC50b1N0cmluZygpICsgXCIgVExcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cblxuICAgIH1cblxuICAgIHB1YmxpYyBjYXJ0VG9SZW50KCkge1xuICAgICAgICBsZXQgcmVudENhcnQ6IFJlbnRDYXJ0ID0gdGhpcy5yZW50Q2FydDtcbiAgICAgICAgbGV0IHJlbnQgPSBuZXcgUmVudCgpO1xuXG4gICAgICAgIHJlbnQuYm9va0FuZFF1YW50aXR5TWFwID0gcmVudENhcnQuYm9va0FuZFF1YW50aXR5TWFwO1xuICAgICAgICByZW50LmN1c3RvbWVySWQgPSByZW50Q2FydC5jdXN0b21lcklkO1xuICAgICAgICByZW50Lm9wZXJhdGlvbk51bWJlciA9IHRoaXMuZ2VuZXJhdGVSZW50TnVtYmVyKHJlbnRDYXJ0LmN1c3RvbWVySWQpO1xuICAgICAgICByZW50Lm9wZXJhdGlvbkRhdGVUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmVudC50b3RhbCA9IHRoaXMuY2FsY3VsYXRlVG90YWwocmVudCk7XG5cbiAgICAgICAgZm9yIChsZXQgcSBvZiByZW50LmJvb2tBbmRRdWFudGl0eU1hcCkge1xuICAgICAgICAgICAgc3RvY2tTZXJ2aWNlLmluY3JlYXNlU3RvY2socVswXS5pc2JuLCAtcVsxXSlcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5yZW50Q2FydCA9IG5ldyBSZW50Q2FydDsgLy8gc2VwZXRpIGJvxZ9hbHRcbiAgICAgICAgdGhpcy51cGRhdGVSZW50Q2FydCgpO1xuXG4gICAgICAgIGxldCBzdWNjZXNzID0gdGhpcy5hZGRSZW50TW9jayhyZW50KTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRSZW50TW9jayhyOiBSZW50KTogUHJvbWlzZTxCb29sZWFuIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMucmVudEFwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgYm9va0FuZFF1YW50aXR5OiByLmJvb2tBbmRRdWFudGl0eU1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJJZDogci5jdXN0b21lcklkLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25EYXRlVGltZTogci5vcGVyYXRpb25EYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uTnVtYmVyOiByLm9wZXJhdGlvbk51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHIudG90YWxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQubWVzc2FnZSArIFwiIFwiICsgcmVzdWx0LnNhbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlZnVuZFJlbnRNb2NrKHI6IFJlbnQpIHtcblxuICAgICAgICAvL1BBVENIIEJlbGlybGkgYmlyIGtheW5ha3Rha2kgdmVyaWxlcmluIGJpciBrxLFzbcSxbsSxbiBkZcSfacWfdGlyaWxtZXNpIGnDp2luIGt1bGxhbsSxbGFuIG1ldG9kdHVyLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnJlbnRBcGkgKyBcIi9cIiArIHIub3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kRGF0ZTogci5yZWZ1bmREYXRlLFxuICAgICAgICAgICAgICAgICAgICByZWZ1bmQ6IHIucmVmdW5kXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIucmVmdW5kO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IHN0b2NrU2VydmljZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgU2FsZSB9IGZyb20gXCIuLi9kb21haW4vc2FsZVwiO1xuaW1wb3J0IHsgU2FsZUNhcnQgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGUtY2FydFwiO1xuXG5leHBvcnQgY2xhc3MgU2FsZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3NhbGVMaXN0OiBBcnJheTxTYWxlPjtcbiAgICBwcml2YXRlIF9zYWxlQ2FydDogU2FsZUNhcnQ7XG4gICAgcHVibGljIHNhbGVBcGkgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS9zYWxlcyc7XG5cbiAgICBjb25zdHJ1Y3RvcihzYWxlTGlzdDogQXJyYXk8U2FsZT4sIHNhbGVDYXJ0OiBTYWxlQ2FydCkge1xuICAgICAgICB0aGlzLl9zYWxlTGlzdCA9IHNhbGVMaXN0O1xuICAgICAgICB0aGlzLl9zYWxlQ2FydCA9IHNhbGVDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzYWxlTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGU+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2FsZUxpc3QoKTogQXJyYXk8U2FsZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxTYWxlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNhbGVMaXN0KHZhbHVlOiBBcnJheTxTYWxlPikge1xuICAgICAgICB0aGlzLl9zYWxlTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzYWxlQ2FydFxuICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGVDYXJ0Pn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNhbGVDYXJ0KCk6IFNhbGVDYXJ0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbGVDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzYWxlQ2FydFxuICAgICAqIEBwYXJhbSB7QXJyYXk8U2FsZUNhcnQ+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2FsZUNhcnQodmFsdWU6IFNhbGVDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFNhbGUoc2FsZTogU2FsZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnNhbGVMaXN0LnB1c2goc2FsZSk7XG5cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVUb3RhbChzYWxlOiBTYWxlKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHN1YlRvdGFsID0gMC4wO1xuXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHNhbGUuYm9va0FuZFF1YW50aXR5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gZW50cnlbMF0uYm9va1NwZWNpZmljYXRpb24ucHJpY2UgKiBlbnRyeVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbGVOdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiU1wiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1vbnRoKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEhvdXJzKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1pbnV0ZXMoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkgKyBjdXN0b21lcklkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpcHROdW1iZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNhbGUoc2FsZU51bWJlcjogc3RyaW5nKTogU2FsZSB7XG4gICAgICAgIGxldCBzYWxlID0gdGhpcy5zYWxlTGlzdC5maW5kKHMgPT4gcy5vcGVyYXRpb25OdW1iZXIgPT09IHNhbGVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gc2FsZSE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVNhbGUoc2FsZTogU2FsZSkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNhbGVMaXN0LmluZGV4T2Yoc2FsZSk7XG4gICAgICAgIHRoaXMuc2FsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5ib29rQW5kUXVhbnRpdHlNYXAuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zYWxlQ2FydC5jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNhbGVDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcC5zaXplID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBzYXTEsWxtYXlhIMOnYWzEscWfxLFsxLF5b3IuIEzDvHRmZW4gdGVrIG3DvMWfdGVyaSBpw6dpbiBpxZ9sZW0geWFwxLFuxLF6XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2FsZUNhcnQuYm9va0FuZFF1YW50aXR5TWFwLnNldChib29rLCBxdWFudGl0eSk7XG4gICAgICAgIHRoaXMudXBkYXRlU2FsZUNhcnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlU2FsZUNhcnQoKSB7XG4gICAgICAgIGNvbnN0IHNhbGVDYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYWxlQ2FydFwiKTtcbiAgICAgICAgY29uc3Qgc3ViVG90YWxTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3RhbFNhbGVBbW91bnRUbFwiKTtcblxuICAgICAgICBpZiAoc2FsZUNhcnQpIHtcblxuICAgICAgICAgICAgbGV0IHJvdywgY29sdW1uLCBzdWJUb3RhbDogbnVtYmVyID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKHNhbGVDYXJ0Lmxhc3RDaGlsZCAmJiBzYWxlQ2FydC5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc2FsZUNhcnQucmVtb3ZlQ2hpbGQoc2FsZUNhcnQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRvdGFsU3BhbiEudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zYWxlQ2FydC5ib29rQW5kUXVhbnRpdHlNYXAuc2l6ZTsgaW5kZXgrKykge1xuXG4gICAgICAgICAgICAgICAgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICByb3cuY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtcm93XCI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiB0aGlzLnNhbGVDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcC5lbnRyaWVzKCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVudHJ5WzBdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZW50cnlbMV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwic2FsZS1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSAoZW50cnlbMF0uYm9va1NwZWNpZmljYXRpb24ucHJpY2UgKiBlbnRyeVsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ICYmIHN1YlRvdGFsU3Bhbikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnNhbGVDYXJ0LmJvb2tBbmRRdWFudGl0eU1hcCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbCArPSB0WzBdLmJvb2tTcGVjaWZpY2F0aW9uLnByaWNlICogdFsxXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzYWxlQ2FydC5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgICAgIHN1YlRvdGFsU3Bhbi50ZXh0Q29udGVudCA9IHN1YlRvdGFsLnRvU3RyaW5nKCkgKyBcIiBUTFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNhcnRUb1NhbGUoKSB7XG4gICAgICAgIGxldCBzYWxlQ2FydDogU2FsZUNhcnQgPSB0aGlzLnNhbGVDYXJ0O1xuICAgICAgICBsZXQgc2FsZSA9IG5ldyBTYWxlKCk7XG5cbiAgICAgICAgc2FsZS5ib29rQW5kUXVhbnRpdHlNYXAgPSBzYWxlQ2FydC5ib29rQW5kUXVhbnRpdHlNYXA7XG4gICAgICAgIHNhbGUuY3VzdG9tZXJJZCA9IHNhbGVDYXJ0LmN1c3RvbWVySWQ7XG4gICAgICAgIHNhbGUub3BlcmF0aW9uTnVtYmVyID0gdGhpcy5nZW5lcmF0ZVNhbGVOdW1iZXIoc2FsZUNhcnQuY3VzdG9tZXJJZCk7XG4gICAgICAgIHNhbGUub3BlcmF0aW9uRGF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBzYWxlLnRvdGFsID0gdGhpcy5jYWxjdWxhdGVUb3RhbChzYWxlKTtcblxuICAgICAgICBmb3IgKGxldCBxIG9mIHNhbGUuYm9va0FuZFF1YW50aXR5TWFwKSB7XG4gICAgICAgICAgICBzdG9ja1NlcnZpY2UuaW5jcmVhc2VTdG9jayhxWzBdLmlzYm4sIC1xWzFdKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRTYWxlTW9jayhzYWxlKTtcbiAgICAgICAgdGhpcy5zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydDsgLy8gc2VwZXRpIGJvxZ9hbHRcbiAgICAgICAgdGhpcy51cGRhdGVTYWxlQ2FydCgpO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZFNhbGVNb2NrKHM6IFNhbGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHMuYm9va0FuZFF1YW50aXR5TWFwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNhbGVBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tBbmRRdWFudGl0eTogQXJyYXkuZnJvbShzLmJvb2tBbmRRdWFudGl0eU1hcC5lbnRyaWVzKCkpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkOiBzLmN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRhdGVUaW1lOiBzLm9wZXJhdGlvbkRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25OdW1iZXI6IHMub3BlcmF0aW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogcy50b3RhbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGFsZXJ0KHJlc3VsdC5tZXNzYWdlICsgXCIgXCIrIHJlc3VsdC5zYWxlTnVtYmVyKTtcblxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG4iLCJpbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuLi9kb21haW4vc3RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIFN0b2NrU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfc3RvY2tMaXN0OiBBcnJheTxTdG9jaz47XG4gICAgcHJpdmF0ZSBzdG9ja0FwaTogc3RyaW5nID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3N0b2Nrc1wiO1xuXG4gICAgY29uc3RydWN0b3Ioc3RvY2tMaXN0OiBBcnJheTxTdG9jaz4pIHtcbiAgICAgICAgdGhpcy5fc3RvY2tMaXN0ID0gc3RvY2tMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdG9ja0xpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxTdG9jaz59XG4gICAgICovXG4gICAgcHVibGljIGdldCBzdG9ja0xpc3QoKTogQXJyYXk8U3RvY2s+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b2NrTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc3RvY2tMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxTdG9jaz59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBzdG9ja0xpc3QodmFsdWU6IEFycmF5PFN0b2NrPikge1xuICAgICAgICB0aGlzLl9zdG9ja0xpc3QgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKiogIWF0dGVudGlvbiwgKmltcG9ydGFudCwgP3F1ZXN0aW9uLCBUT0RPXG4gICAgICogISDDlm5jZWxpa2xlIGluY3JlYXNlU3RvY2sgZm9ua3NpeW9udW5kYW4gZmFya2zEsSBiaXIgacWfIHlhcMSxeW9yLFxuICAgICAqICogS2l0YXAgaGVuw7x6IGVrbGVuZGlrdGVuIHNvbnJhIGhlbWVuIGdpcml5b3IsXG4gICAgICogPyBLaXRhcCBpbGsgZGVmYSBla2xlbmRpeXNlIGJ1IGZvbmtzaXlvbiBtdSDDp2FsxLHFn2FjYWsgPyBFVkVULlxuICAgICAqIFRPRE8gaW5jcmVhc2VTdG9jayBmb25rc2l5b251bnUgaW5jZWxlXG4gICAgICogRWxpbWl6ZGUgaGnDpyBzdG9jayBrYXlkxLEvbmVzbmVzaSB5b2ssIHllbmkga2F5xLF0L25lc25lIG9sdcWfdHVydXlvcnV6XG4gICAgICogWWVuaSBla2xlbmVuIGtpdGFiYSBzdG9rIGVrbGVtZSBpxZ9sZW1pXG4gICAgICogQHBhcmFtIGlzYm4gIHN0b2sgZWtsZW5lY2VrIG9sYW4ga2l0YWLEsW4gaXNibiBudW1hcmFzxLFcbiAgICAgKiBAcGFyYW0gc2hlbGZOdW1iZXIgc3RvayBla2xlbmVjZWsgb2xhbiBraXRhYsSxbiByYWYgbnVtYXJhc8SxXG4gICAgICogQHBhcmFtIHF1YW50aXR5IGtpdGFwZGFuIGthw6cgYWRldCBzdG/En2EgZWtsZW5lY2VrXG4gICAgICovXG4gICAgcHVibGljIGFkZFN0b2NrKGlzYm46IHN0cmluZywgc2hlbGZOdW1iZXI6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBsZXQgbmV3U3RvY2sgPSBuZXcgU3RvY2soaXNibiwgcXVhbnRpdHksIHNoZWxmTnVtYmVyKTtcbiAgICAgICAgICAgIHRoaXMuc3RvY2tMaXN0LnB1c2gobmV3U3RvY2spO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtpdGFwIHphdGVuIGVrbGksIGhhbGloYXrEsXJkYSB2YXIsIGRhaGEgc29ucmEgeWVuaSBraXRhcGxhciBnZWxkaSxzdG9rIGFydMSxcm1hIGnFn2xlbWksXG4gICAgICogQHBhcmFtIGlzYm4gc3RvayBla2xlbmVjZWsgb2xhbiBraXRhYsSxbiBpc2JuIG51bWFyYXPEsVxuICAgICAqIEBwYXJhbSBxdWFudGl0eSBzdG9rIGVrbGVuZWNlayBvbGFuIGtpdGFixLFuIGFkZWRpXG4gICAgICogQHJldHVybnMgacWfbGVtIGdlcsOnZWtsZcWfbWVzaSBkdXJ1bXVuZGEgdHJ1ZSwgZGnEn2VyIGR1cnVtZGEgZmFsc2UgZMO2bmVyXG4gICAgICovXG4gICAgcHVibGljIGluY3JlYXNlU3RvY2soaXNibjogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBzdG9jayA9IHRoaXMuZ2V0U3RvY2soaXNibik7XG4gICAgICAgIGlmIChzdG9jaykge1xuICAgICAgICAgICAgc3RvY2sucXVhbnRpdHkgPSAoc3RvY2sucXVhbnRpdHkgKyBxdWFudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN0b2NrIG5lc25lc2luaSBnZXJpIGTDtm5kw7xyw7xyXG4gICAgICogQHBhcmFtIGlzYm4gc3RvY2sgbmVzbmVzaSBnZXRpcmlsZWNlayBvbGFuIG5lc25lbmluIGlzYm4gbm9zdSxcbiAgICAgKiBAcmV0dXJucyBkYiBvbGFuIHN0b2NrIG5lc25lbnNpIGdlcmkgZMO2bmVyLCBkYiBkZSB5b2sgaXNlIHRocm93IGlsZSBoYXRhIGbEsXJsYXTEsXJsxLFyXG4gICAgICovXG4gICAgcHVibGljIGdldFN0b2NrKGlzYm46IHN0cmluZykge1xuICAgICAgICBsZXQgc3RvY2sgPSB0aGlzLnN0b2NrTGlzdC5maW5kKHMgPT4gcy5pc2JuID09PSBpc2JuKTtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RvY2s7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RvY2tRdWFudGl0eShpc2JuOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBsZXQgczogU3RvY2sgPSB0aGlzLmdldFN0b2NrKGlzYm4pITtcblxuICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHMucXVhbnRpdHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEXEn2VyIHN0b2sgbmVzbmVzaSB5b2sgaXNlIHN0b2sgbmVzbmVzaSwgYmVsaXJ0aWxlbiBhZGV0IGthZGFyIHN0b2sgYmlsZ2lzaSBpbGUgYmVyYWJlciBla2xlbml5b3IuXG4gICAgICogxLDFn3RlIGJ1IG9sdcWfdHVybWEvY3JlYXRlIGnFn2xlbWkgYnVyYWRhIHlhcMSxbMSxeW9yLlxuICAgICAqIEBwYXJhbSBzIGluZGV4LnRzIGRvc3lhc8SxbmRhbiBnZWxlbiBzdG9rIG5lc25lc2lcbiAgICAgKi9cbiAgICBhc3luYyBhZGRTdG9ja01vY2soczogU3RvY2spOiBQcm9taXNlPEJvb2xlYW4gfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zdG9ja0FwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgaXNibjogcy5pc2JuLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogcy5xdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgc2hlbGZOdW1iZXI6IHMuc2hlbGZOdW1iZXJcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nICsgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvayBla2xlbmlya2VuIGXEn2VyIHN0b2sgbmVzbmVzaSBkYWhhIMO2bmNlZGVuIHZhciBpc2UsIHN0b2sgYXJ0xLFyxLFtxLFuxLEgcHV0IGlsZSB5YXBhY2HEn8SxelxuICAgICAqIEBwYXJhbSBzIGluZGV4LnRzIGRvc3lhc8SxbmRhbiBnZWxlbiBzdG9rIG5lc25lc2lcbiAgICAgKi9cbiAgICBhc3luYyBpbmNyZWFzZVN0b2NrTW9jayhzOiBTdG9jaykge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc3RvY2tBcGkgKyBcIi9cIiArIHMuaXNibiwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBpc2JuOiBzLmlzYm4sXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBzLnF1YW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBzaGVsZk51bWJlcjogcy5zaGVsZk51bWJlclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwidGhpcyIsIl9ib29rcyIsIkFycmF5IiwiX3N0b2NrcyIsIl9jdXN0b21lcnMiLCJfc2FsZXMiLCJfcmVudHMiLCJfYm9va1NwZWNpZmljYXRpb25zIiwiX2NhbmNlbHMiLCJfc2FsZUNhcnQiLCJTYWxlQ2FydCIsIl9yZW50Q2FydCIsIlJlbnRDYXJ0IiwiZ2V0Qm9va3NMaXN0IiwiZ2V0U3RvY2tzTGlzdCIsImdldEN1c3RvbWVyc0xpc3QiLCJnZXRTYWxlc0xpc3QiLCJnZXRSZW50cyIsImdldEJvb2tTcGVjaWZpY2F0aW9ucyIsImdldENhbmNhbGVkU2FsZXMiLCJnZXRTYWxlQ2FydCIsImdldFJlbnRDYXJ0Iiwic2V0U2FsZUNhcnQiLCJ2YWx1ZSIsInNldFJlbnRDYXJ0IiwiaXNibiIsInByaWNlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsIl9pc2JuIiwiX3ByaWNlIiwiX3N0YXJ0RGF0ZSIsIl9lbmREYXRlIiwibmFtZSIsImF1dGhvciIsInB1Ymxpc2hZZWFyIiwicGFnZXMiLCJib29rU3BlY2lmaWNhdGlvbiIsIl9uYW1lIiwiX2F1dGhvciIsIl9wdWJsaXNoWWVhciIsIl9wYWdlcyIsIl9ib29rU3BlY2lmaWNhdGlvbiIsImNhbmNlbFR5cGUiLCJyZWZ1bmQiLCJjYW5jZWxlZERhdGVUaW1lIiwiX2NhbmNlbFR5cGUiLCJfcmVmdW5kIiwiX2NhbmNlbGVkRGF0ZVRpbWUiLCJpZCIsInN1ck5hbWUiLCJwaG9uZU51bWJlciIsIl9pZCIsIl9zdXJOYW1lIiwiX3Bob25lTnVtYmVyIiwiYm9va0FuZFF1YW50aXR5TWFwIiwiTWFwIiwiUmVudCIsIlNhbGUiLCJvcGVyYXRpb25EYXRlVGltZSIsImN1c3RvbWVySWQiLCJvcGVyYXRpb25OdW1iZXIiLCJ0b3RhbCIsInJlZnVuZERhdGUiLCJzdXBlciIsIl9yZWZ1bmREYXRlIiwiX2Jvb2tBbmRRdWFudGl0eU1hcCIsIl9vcGVyYXRpb25EYXRlVGltZSIsIl9jdXN0b21lcklkIiwiX29wZXJhdGlvbk51bWJlciIsIl90b3RhbCIsInF1YW50aXR5Iiwic2hlbGZOdW1iZXIiLCJfcXVhbnRpdHkiLCJfc2hlbGZOdW1iZXIiLCJzaG93QW5kSGlkZSIsImJ0bklkIiwiZWxlbWVudElkIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiZGIiLCJEYXRhQmFzZSIsImJvb2tTZXJ2aWNlIiwiQm9va1NlcnZpY2UiLCJjdXN0b21lclNlcnZpY2UiLCJDdXN0b21lclNlcnZpY2UiLCJjYW5jZWxTZXJ2aWNlIiwiQ2FuY2VsU2VydmljZSIsInJlbnRTZXJ2aWNlIiwiUmVudFNlcnZpY2UiLCJzYWxlU2VydmljZSIsIlNhbGVTZXJ2aWNlIiwic3RvY2tTZXJ2aWNlIiwiU3RvY2tTZXJ2aWNlIiwiY29uc29sZSIsImxvZyIsImFkZEN1c3RvbWVyIiwiQ3VzdG9tZXIiLCJhZGRTdG9jayIsImluaXRpYWxpemVEYXRhTW9jayIsImluaXRpbGlhemVEYXRhIiwiYWRkQm9va0Zvcm0iLCJvbnN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0aXRsZSIsImdldCIsIkRhdGUiLCJtYXRjaCIsImJvb2tTcGVjIiwiQm9va1NwZWNpZmljYXRpb24iLCJib29rIiwiQm9vayIsImFkZEJvb2tNb2NrIiwiYWxlcnQiLCJyZXNldCIsImFkZFN0b2NrRm9ybSIsInF1YW50dGl5Iiwic3RvY2siLCJTdG9jayIsImJvb2tMaXN0Iiwic29tZSIsImIiLCJhZGRTdG9ja01vY2siLCJhZGRDdXN0b21lckZvcm0iLCJzdXJuYW1lIiwiY3VzdG9tZXIiLCJnZXROZXdDdXN0b21lcklkIiwiYWRkQ3VzdG9tZXJNb2NrIiwic2FsZUJvb2tGb3JtIiwiZ2V0Qm9vayIsInBhcnNlSW50IiwiaXNWYWxpZEN1c3RvbWVyIiwiZ2V0U3RvY2siLCJhZGRCb29rVG9DYXJ0IiwiZXJyb3IiLCJzYWxlQ2FydCIsInNpemUiLCJjYXJ0VG9TYWxlIiwibGlzdEJvb2tzIiwiY2FuY2VsU2FsZUZvcm0iLCJicSIsInNldCIsImEiLCJzYWxlTGlzdCIsInB1c2giLCJzYWxlTnVtYmVyIiwic2FsZSIsImdldFNhbGUiLCJjYW5jZWxTYWxlIiwiQ2FuY2VsIiwiY2FuY2VsU2FsZU1vY2siLCJjYW5jZWxSZW50Rm9ybSIsInJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJyZW50TGlzdCIsInJlbnROdW1iZXIiLCJyZW50IiwiZ2V0UmVudCIsImNhbmNlbFJlbnQiLCJjYW5jZWxSZW50TW9jayIsInJlbnRCb29rRm9ybSIsInJlbnRDYXJ0IiwiY2FydFRvUmVudCIsInJlZnVuZEJvb2tGb3JtIiwiY2FsY3VsYXRlUmVmdW5kQW1vdW50IiwicmVmdW5kUmVudE1vY2siLCJib29rQXBpIiwiX2Jvb2tMaXN0IiwiZmluZCIsImFkZEJvb2siLCJuZXdCb29rIiwiRXhjZXB0aW9uIiwiaXNWYWxpZEJvb2siLCJpbmNsdWRlcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQWNjZXB0Iiwib2siLCJFcnJvciIsInN0YXR1cyIsInJlc3VsdCIsImpzb24iLCJnZXRSZXN1bHQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJsaXN0Qm9va3NEaXYiLCJyb3ciLCJjb2x1bW4iLCJsYXN0Q2hpbGQiLCJjaGlsZHJlbiIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwiZm9yRWFjaCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsInRvU3RyaW5nIiwiYXBwZW5kQ2hpbGQiLCJnZXRTdG9ja1F1YW50aXR5IiwiYm9keSIsImNhbmNlbGxlZExpc3QiLCJjYW5jZWxTYWxlQXBpIiwiY2FuY2VsUmVudEFwaSIsIl9jYW5jZWxsZWRMaXN0IiwiY2FsY3VsYXRlRGlmZkhvdXJzIiwiZDEiLCJkMiIsImRpZmZNaWxpcyIsImdldFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJjYW5jZWwiLCJjYWxjdWxhdGVDYW5jZWxTYWxlUmVmdW5kIiwiY2FsY3VsYXRlQ2FuY2VsUmVudFJlZnVuZCIsImN1c3RvbWVyTGlzdCIsImN1c3RvbWVyQXBpIiwiX2N1c3RvbWVyTGlzdCIsIm5ld0N1c3RvbWVyIiwibGFzdEN1c3RvbWVySWQiLCJhdCIsImdldEN1c3RvbWVySW5mbyIsInJlbnRBcGkiLCJfcmVudExpc3QiLCJyZWZ1bmRQZXJjZW50IiwiYWRkUmVudCIsImNhbGN1bGF0ZVRvdGFsIiwic3ViVG90YWwiLCJlbnRyeSIsImdlbmVyYXRlUmVudE51bWJlciIsInRvZGF5IiwiZ2V0RGF5IiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJjYWxjdWxhdGVSZWZ1bmQiLCJkaWZmIiwiZmluZSIsInMiLCJ1cGRhdGVSZW50Q2FydCIsInN1YlRvdGFsU3BhbiIsImluZGV4IiwiZW50cmllcyIsInQiLCJxIiwiaW5jcmVhc2VTdG9jayIsImFkZFJlbnRNb2NrIiwiciIsImJvb2tBbmRRdWFudGl0eSIsIm1lc3NhZ2UiLCJzYWxlQXBpIiwiX3NhbGVMaXN0IiwiYWRkU2FsZSIsImdlbmVyYXRlU2FsZU51bWJlciIsInJlbW92ZVNhbGUiLCJpbmRleE9mIiwic3BsaWNlIiwidXBkYXRlU2FsZUNhcnQiLCJhZGRTYWxlTW9jayIsImZyb20iLCJzdG9ja0xpc3QiLCJzdG9ja0FwaSIsIl9zdG9ja0xpc3QiLCJuZXdTdG9jayIsImluY3JlYXNlU3RvY2tNb2NrIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==