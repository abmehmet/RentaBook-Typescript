(()=>{"use strict";var t={221:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataBase=void 0;const n=o(758),r=o(51);e.DataBase=class{constructor(){this._books=new Array,this._stocks=new Array,this._customers=new Array,this._sales=new Array,this._rents=new Array,this._bookSpecifications=new Array,this._cancels=new Array,this._saleCart=new r.SaleCart,this._rentCart=new n.RentCart}get getBooksList(){return this._books}get getStocksList(){return this._stocks}get getCustomersList(){return this._customers}get getSalesList(){return this._sales}get getRents(){return this._rents}get getBookSpecifications(){return this._bookSpecifications}get getCancaledSales(){return this._cancels}get getSaleCart(){return this._saleCart}get getRentCart(){return this._rentCart}set setSaleCart(t){this._saleCart=t}set setRentCart(t){this._rentCart=t}}},333:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BookPrice=void 0,e.BookPrice=class{get id(){return this._id}set id(t){this._id=t}get price(){return this._price}get startDate(){return this._startDate}get endDate(){return this._endDate}set price(t){this._price=t}set startDate(t){this._startDate=t}set endDate(t){this._endDate=t}}},934:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Book=void 0,e.Book=class{constructor(t,e,o,n,r,i){this._name=e,this._author=o,this._isbn=t,this._publishYear=n,this._pages=r,this._bookPrice=i}get id(){return this._id}set id(t){this._id=t}get isbn(){return this._isbn}get name(){return this._name}get author(){return this._author}get publishYear(){return this._publishYear}get pages(){return this._pages}get bookPrice(){return this._bookPrice}set isbn(t){this._isbn=t}set name(t){this._name=t}set author(t){this._author=t}set publishYear(t){this._publishYear=t}set pages(t){this._pages=t}set bookPrice(t){this._bookPrice=t}}},916:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Customer=void 0,e.Customer=class{constructor(t,e,o){this._name=t,this._surName=e,this._phoneNumber=o}get name(){return this._name}get surName(){return this._surName}get phoneNumber(){return this._phoneNumber}set name(t){this._name=t}set surName(t){this._surName=t}set phoneNumber(t){this._phoneNumber=t}}},767:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OrderBookItems=void 0,e.OrderBookItems=class{constructor(t,e){this._book=t,this._quantity=e}get book(){return this._book}get quantity(){return this._quantity}set book(t){this._book=t}set quantity(t){this._quantity=t}toJSON(){return{book:this._book,quantity:this._quantity}}}},758:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RentCart=void 0,e.RentCart=class{constructor(){this.orderBookItems=new Array}}},961:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rent=void 0;const n=o(354);class r extends n.Sale{constructor(t,e,o,n,r,i,a){super(t,o,e,n,r),this._refundDate=i,this._refund=a}get refundDate(){return this._refundDate}get refund(){return this._refund}set refundDate(t){this._refundDate=t}set refund(t){this._refund=t}}e.Rent=r},51:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaleCart=void 0,e.SaleCart=class{constructor(){this.orderBookItems=new Array}}},354:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sale=void 0,e.Sale=class{constructor(t,e,o,n,r){this._orderBookItems=t,this._customerId=e,this._operationDateTime=o,this._operationNumber=n,this._total=r}get orderBookItems(){return this._orderBookItems}get customerId(){return this._customerId}get operationDateTime(){return this._operationDateTime}get operationNumber(){return this._operationNumber}get total(){return this._total}set orderBookItems(t){this._orderBookItems=t}set customerId(t){this._customerId=t}set operationDateTime(t){this._operationDateTime=t}set operationNumber(t){this._operationNumber=t}set total(t){this._total=t}}},72:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stock=void 0,e.Stock=class{constructor(t,e,o){this._isbn=t,this._quantity=e,this._shelfNumber=o}get id(){return this._id}set id(t){this._id=t}get book(){return this._book}set book(t){this._book=t}get isbn(){return this._isbn}get quantity(){return this._quantity}get shelfNumber(){return this._shelfNumber}set isbn(t){this._isbn=t}set quantity(t){this._quantity=t}set shelfNumber(t){this._shelfNumber=t}}},607:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.stockService=e.saleService=e.rentService=e.cancelService=e.customerService=e.bookService=void 0;const r=o(221),i=o(934),a=o(333),s=o(916),c=o(961),l=o(767),u=o(72),d=o(946),h=o(943),m=o(709),k=o(148),p=o(478),f=o(214);function g(){return n(this,void 0,void 0,(function*(){e.bookService.bookList=yield e.bookService.getAllBooksData(),e.stockService.stockList=yield e.stockService.getAllStocksData(),console.log(e.bookService.bookList),console.log(e.stockService.stockList)}))}function v(t,e){const o=document.getElementById(e),n=document.getElementById(t);o&&n&&n.addEventListener("click",(()=>{"none"===o.style.display?o.style.display="block":o.style.display="none"}))}var b;b=new r.DataBase,e.bookService=new d.BookService(b.getBooksList,b.getBookSpecifications),e.customerService=new m.CustomerService(b.getCustomersList),e.cancelService=new h.CancelService(b.getCancaledSales),e.rentService=new k.RentService(b.getRents,b.getRentCart),e.saleService=new p.SaleService(b.getSalesList,b.getSaleCart),e.stockService=new f.StockService(b.getStocksList),console.log("Services intiliazed."),e.customerService.addCustomer(new s.Customer("","","")),e.customerService.addCustomer(new s.Customer("","","")),g(),v("addBookMenuItem","addBookSection"),v("showBooksMenuItem","listBooksSection"),v("addCustomerMenuItem","addCustomerSection"),v("addStockMenuItem","addStockSection"),v("saleBookMenuItem","saleBookSection"),v("rentBookMenuItem","rentBookSection"),v("cancelSaleMenuItem","cancelSaleSection"),v("cancelRentMenuItem","cancelRentSection"),v("refundBookMenuItem","refundBookSection"),v("rentNow","rentBookSection");const y=document.getElementById("add-book-form");null!=y&&(y.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(y),n=o.get("bookTitle"),r=o.get("bookAuthor"),s=o.get("bookIsbn"),c=o.get("bookPublishYear"),l=o.get("bookPages"),u=o.get("bookPrice"),d=new a.BookPrice;d.price=u;const h=new i.Book(s,n,r,c,l,d);if(!1===e.bookService.bookList.some((t=>t.isbn===h.isbn)))return(yield e.bookService.createBook(h))?(alert(h.isbn+" numaralı kitap Ekleme İşlemi Başarı İle Tamamlanmıştır."),y.reset(),D()):alert(h.isbn+" numaralı kitap Ekleme İşlemi Sırasında Bir Hata oluştu."),!1;alert("Aynı ISBN numrasına sahip ikinci bir kitap eklenemz.")})));const S=document.getElementById("add-stock-form");S&&(S.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(S),n=o.get("bookIsbnForAddStock"),r=o.get("stockQuantity"),i=o.get("shelfNumber"),a=new u.Stock(n,r,i);if(!0!==e.bookService.bookList.some((t=>t.isbn===n)))alert("Stok eklenmeye çalışılan kitap, kayıtlı değildir. Lütfen önce kitap ekleyiniz");else{const t=e.bookService.getBook(n);(yield e.stockService.createStock(a,t))&&(alert(n+" isbn numaralı kitaptan, "+r+" kadar sisteme stok eklenmiştir."),yield g(),D())}return S.reset(),!1})));const _=document.getElementById("add-customer-form");_&&(_.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(_),n=o.get("customerName"),r=o.get("customerSurname"),i=o.get("customerPhoneNumber"),a=new s.Customer(n,r,i);return(yield e.customerService.addCustomerMock(a))?(alert("Müşteri Ekleme İşlemi Başarı İle Tamamlanmıştır. "),_.reset()):alert("Müşteri Ekleme İşlemi Sırasında bir hata ile karşılıldı. "),!1})));const C=document.getElementById("sale-book-form");C&&(C.onsubmit=()=>{const t=new FormData(C),o=t.get("isbnForSale"),n=e.bookService.getBook(o),r=parseInt(t.get("customerIdForSale")),i=parseInt(t.get("quantityForSale")),a=e.stockService.getStock(o);try{return n?a?a.quantity>=i?e.saleService.addBookToCart(n,i,r):alert(i+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${o} numaralı kitabın stoğu mevcut değildir.`):alert(o+" numaralı kitap yoktur."),C.reset(),!1}catch(t){alert(t)}}),document.getElementById("btnSale").addEventListener("click",(()=>{0===e.saleService.saleCart.orderBookItems.length?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):e.saleService.cartToSale()})),document.getElementById("showBooksMenuItem").addEventListener("click",(()=>{D()}));const w=document.getElementById("cancel-sale-form");w&&(w.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(w).get("saleNumberforCancel");!0===(yield e.saleService.isExistSale(o))?(yield e.cancelService.cancelSaleMock(o))?alert(o+" numaralı satış iptal edilmiştir."):alert(o+" numaralı satış iptal edilirken hata meydana geldi."):alert(o+" numaralı satış bulunamamıştır. Tekrar deneyiniz.")})));const B=document.getElementById("cancel-rent-form");B&&(B.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(B).get("rentNumberforCancel");(yield e.cancelService.cancelRentMock(o))?alert(o+" numaralı kiralama iptal edilmiştir."):alert(o+" numaralı kiralma bulunamamıştır. Tekrar deneyiniz.")})));const I=document.getElementById("rent-book-form");I&&(I.onsubmit=()=>{const t=new FormData(I),o=t.get("isbnForRent"),n=e.bookService.getBook(o),r=parseInt(t.get("customerIdForRent")),i=parseInt(t.get("quantityForRent")),a=e.stockService.getStock(o);try{return n?a?a.quantity>=i?e.rentService.addBookToCart(n,i,r):alert(i+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${o} numaralı kitabın stoğu mevcut değildir.`):alert(o+" numaralı kitap yoktur."),I.reset(),!1}catch(t){alert(t)}}),document.getElementById("btnRent").addEventListener("click",(()=>{0===e.rentService.rentCart.orderBookItems.length?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):e.rentService.cartToRent()}));const N=document.getElementById("refund-book-form");function D(){const t=document.getElementById("listBooks");if(t){let o,n;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.bookService.bookList.forEach((r=>{o=document.createElement("div"),o.className="row-list-book",n=document.createElement("div"),n.className="column-list-book",n.textContent=r.isbn.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=r.name.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=r.author.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=e.stockService.getStockQuantity(r.isbn).toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=r.bookPrice.price.toString()+" ₺",o.appendChild(n),t.appendChild(o)}))}}N&&(N.onsubmit=t=>n(void 0,void 0,void 0,(function*(){let o=new Array;o.push(new l.OrderBookItems(e.bookService.getBook("123-45"),3));let n=new Date;n.setDate(n.getDate()+23);let r=new c.Rent(o,new Date,1,"R021122163045",123,n,0);r.refund=e.rentService.calculateRefundAmount(r),e.rentService.rentList.push(r),t.preventDefault();const i=new FormData(N).get("rentNumberforRefund");let a=e.rentService.getRent(i);if(a){let t=yield e.rentService.refundRentMock(a);t?(alert(a.operationNumber+" numaralı kiralama geri alınmıştır."),alert("Geri ödeme miktarı:"+t+" ₺ .")):alert(a.operationNumber+" numaralı kiralama iptal edilirken hata meydana geldi.")}else alert(i+" numaralı kiralama bulunamamıştır. Tekrar deneyiniz.")})))},946:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BookService=void 0,e.BookService=class{constructor(t,e){this.bookApi="http://localhost:3002/api/v1/books",this._bookList=t,this._bookSpecification=e}get bookList(){return this._bookList}get bookSpecification(){return this._bookSpecification}set bookList(t){this._bookList=t}set bookSpecification(t){this._bookSpecification=t}getBook(t){return this.bookList.find((e=>e.isbn===t))}getAllBooksData(){return o(this,void 0,void 0,(function*(){const t=yield fetch(this.bookApi,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);const e=yield t.json();return JSON.parse(JSON.stringify(e,null,4))}))}createBook(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.bookApi,{method:"POST",body:JSON.stringify({isbn:t.isbn,name:t.name,author:t.author,pages:t.pages,publishYear:t.publishYear,bookPriceCreateDto:{price:t.bookPrice.price}}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log("Rest servisinden dönen cevap =>"),console.log(t),this.bookList=yield this.getAllBooksData(),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},943:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CancelService=void 0,e.CancelService=class{constructor(t){this.cancelSaleApi="http://localhost:3002/api/v1/sales",this.cancelRentApi="http://localhost:3002/api/v1/rents",this._cancelledList=t}get cancelledList(){return this._cancelledList}set cancelledList(t){this._cancelledList=t}calculateDiffHours(t,e){let o=t.getTime()-e.getTime();return Math.floor(o/1e3/60/60)}cancelSale(t){let e=this.calculateCancelSaleRefund(t);t.refund=e,this.cancelledList.push(t)}calculateCancelSaleRefund(t){let e;return e=this.calculateDiffHours(t.canceledDateTime,t.cancelType.operationDateTime)>24?.75*t.cancelType.total:t.cancelType.total,e}cancelSaleMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.cancelSaleApi+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok)return console.log(e),!0;throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}cancelRent(t){let e=this.calculateCancelRentRefund(t);t.refund=e,this.cancelledList.push(t)}calculateCancelRentRefund(t){let e;return e=this.calculateDiffHours(t.canceledDateTime,t.cancelType.operationDateTime)>24?.75*t.cancelType.total:t.cancelType.total,e}cancelRentMock(t){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.cancelRentApi+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});return!!e.ok&&(console.log(e),!0)}))}}},709:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomerService=void 0,e.CustomerService=class{constructor(t){this.customerApi="http://localhost:3002/api/v1/customers",this._customerList=t}get customerList(){return this._customerList}set customerList(t){this._customerList=t}addCustomer(t){this.customerList.push(t)}addCustomerMock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(this.customerApi,{method:"POST",body:JSON.stringify({name:t.name,surName:t.surName,phoneNumber:t.phoneNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log("Rest servisinden dönen cevap =>"),console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},148:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.RentService=void 0;const r=o(607),i=o(961),a=o(758),s=o(767);e.RentService=class{constructor(t,e){this.rentApi="http://localhost:3002/api/v1/rents",this._rentList=t,this.refundPercent=.75,this._rentCart=e}get rentList(){return this._rentList}set rentList(t){this._rentList=t}get rentCart(){return this._rentCart}set rentCart(t){this._rentCart=t}addRent(t){this.rentList.push(t)}calculateTotal(t){let e=0;for(let o of t.orderBookItems)e+=o.book.bookPrice.price*o.quantity;return e}generateRentNumber(t){let e=new Date;return"R"+e.getDay().toString()+e.getMonth().toString()+e.getFullYear().toString()+e.getHours().toString()+e.getMinutes().toString()+e.getSeconds().toString()+t.toString()}calculateDiffHours(t,e){let o=t.getTime()-e.getTime();return Math.floor(o/1e3/60/60)}calculateRefund(t){t.refund=t.total*this.refundPercent}calculateRefundAmount(t){let e,o=this.calculateDiffHours(t.refundDate,t.operationDateTime)/24;if(o<=14)e=.75*t.total;else if(o<=24){let n=.75-.05*(o-14);e=t.total*n}else e=.25*t.total;return e}getRent(t){return this.rentList.find((e=>e.operationNumber===t))}addBookToCart(t,e,o){if(0===this.rentCart.orderBookItems.length)this.rentCart.customerId=o;else if(this.rentCart.orderBookItems.length>0&&this.rentCart.customerId!==o)return alert("Farklı müşteriye kitap kiralanmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;this.rentCart.orderBookItems.push(new s.OrderBookItems(t,e)),this.updateRentCart()}updateRentCart(){const t=document.getElementById("rentCart"),e=document.getElementById("totalRentAmountTl");if(t){let o,n,r=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.textContent="";for(let t=0;t<this.rentCart.orderBookItems.length;t++){o=document.createElement("div"),o.className="rent-cart-row";for(let t of this.rentCart.orderBookItems)n=document.createElement("div"),n.className="rent-cart-column",n.textContent=this.rentCart.customerId.toString(),o.appendChild(n),n=document.createElement("div"),n.className="rent-cart-column",n.textContent=t.book.name,o.appendChild(n),n=document.createElement("div"),n.className="rent-cart-column",n.textContent=t.quantity.toString(),o.appendChild(n),n=document.createElement("div"),n.className="rent-cart-column",n.textContent=(t.book.bookPrice.price*t.quantity).toString(),o.appendChild(n)}if(o&&e){for(let t of this.rentCart.orderBookItems)r+=t.book.bookPrice.price*t.quantity;t.appendChild(o),e.textContent=r.toString()+" TL"}}}cartToRent(){let t=this.rentCart,e=new i.Rent;e.orderBookItems=t.orderBookItems,e.customerId=t.customerId,e.operationNumber=this.generateRentNumber(t.customerId),e.operationDateTime=new Date,e.total=this.calculateTotal(e);let o=new Date;o.setDate(o.getDate()+14),e.refundDate=o,this.calculateRefund(e);for(let t of e.orderBookItems)r.stockService.increaseStock(t.book.isbn,-t.quantity);this.rentCart=new a.RentCart,this.updateRentCart(),this.addRentMock(e)}addRentMock(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(this.rentApi,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(t.orderBookItems),customerId:t.customerId,operationDateTime:t.operationDateTime,operationNumber:t.operationNumber,total:t.total,refundDate:t.refundDate,refund:t.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);{const o=yield e.json();console.log("Rest apidan dönen cevap:\n"),console.log(o),alert("Kitap kiralama işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetneyiniz. Fiş numaranız: "+t.operationNumber)}}catch(t){console.log("Hata Oluştu."),alert("Kitap kiralama işlemi sırasında bir hata oluştu. Lütfen tekrar deneyiniz.")}}))}refundRentMock(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(this.rentApi+"/"+t.operationNumber,{method:"PATCH",body:JSON.stringify({refundDate:t.refundDate,refund:t.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const o=yield e.json();return console.log(o),t.refund}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},478:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SaleService=void 0;const r=o(607),i=o(354),a=o(767),s=o(51);e.SaleService=class{constructor(t,e){this.saleApi="http://localhost:3002/api/v1/sales",this._saleList=t,this._saleCart=e}get saleList(){return this._saleList}set saleList(t){this._saleList=t}get saleCart(){return this._saleCart}set saleCart(t){this._saleCart=t}addSale(t){this.saleList.push(t)}calculateTotal(t){let e=0;for(let o of t.orderBookItems)e+=o.book.bookPrice.price*o.quantity;return e}generateSaleNumber(t){let e=new Date;return"S"+e.getDay().toString()+e.getMonth().toString()+e.getFullYear().toString()+e.getHours().toString()+e.getMinutes().toString()+e.getSeconds().toString()+t.toString()}getSale(t){return this.saleList.find((e=>e.operationNumber===t))}removeSale(t){let e=this.saleList.indexOf(t);this.saleList.splice(e,1)}addBookToCart(t,e,o){if(0===this.saleCart.orderBookItems.length)this.saleCart.customerId=o;else if(this.saleCart.orderBookItems.length>0&&this.saleCart.customerId!==o)return alert("Farklı müşteriye kitap satılmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let n=new a.OrderBookItems(t,e);this.saleCart.orderBookItems.push(n),this.updateSaleCart()}updateSaleCart(){const t=document.getElementById("saleCart"),e=document.getElementById("totalSaleAmountTl");if(t){let o,n,r=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.textContent="";for(let t=0;t<this.saleCart.orderBookItems.length;t++){o=document.createElement("div"),o.className="sale-cart-row";for(let t of this.saleCart.orderBookItems)n=document.createElement("div"),n.className="sale-cart-column",n.textContent=this.saleCart.customerId.toString(),o.appendChild(n),n=document.createElement("div"),n.className="sale-cart-column",n.textContent=t.book.name,o.appendChild(n),n=document.createElement("div"),n.className="sale-cart-column",n.textContent=t.quantity.toString(),o.appendChild(n),n=document.createElement("div"),n.className="sale-cart-column",n.textContent=(t.book.bookPrice.price*t.quantity).toString(),o.appendChild(n)}if(o&&e){for(let t of this.saleCart.orderBookItems)r+=t.book.bookPrice.price*t.quantity;t.appendChild(o),e.textContent=r.toString()+" TL"}}}cartToSale(){let t=this.saleCart,e=new i.Sale;e.orderBookItems=t.orderBookItems,e.customerId=t.customerId,e.operationNumber=this.generateSaleNumber(t.customerId),e.operationDateTime=new Date,e.total=this.calculateTotal(e);for(let t of e.orderBookItems)r.stockService.increaseStock(t.book.isbn,-t.quantity);let o=this.createSale(e);return this.saleCart=new s.SaleCart,this.updateSaleCart(),o}createSale(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(this.saleApi,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(t.orderBookItems),customerId:t.customerId,operationDateTime:t.operationDateTime,operationNumber:t.operationNumber,total:t.total}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(e),e.ok){const o=yield e.json();return console.log("Rest apidan dönen cevap:\n"),console.log(o),alert("Kitap satış işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetmeyiniz. Fiş Numarası: "+t.operationNumber),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}isExistSale(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(this.saleApi+"/"+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(e),e.ok){const t=yield e.json();return console.log("Rest apidan dönen cevap:\n"),console.log(t),!0}return!1}))}}},214:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.StockService=void 0;const r=o(72);e.StockService=class{constructor(t){this.stockApi="http://localhost:3002/api/v1/stocks",this._stockList=t}get stockList(){return this._stockList}set stockList(t){this._stockList=t}addStock(t,e,o){try{let n=new r.Stock(t,o,e);return this.stockList.push(n),!0}catch(t){return console.error(t),!1}}increaseStock(t,e){let o=this.getStock(t);return!!o&&(o.quantity=o.quantity+e,!0)}getStock(t){let e=this.stockList.find((e=>e.isbn===t));if(e)return e}getStockQuantity(t){let e=this.stockList.find((e=>e.isbn===t));return console.log(e),void 0!==e?e.quantity:0}createStock(t,e){return n(this,void 0,void 0,(function*(){try{const o=yield fetch(this.stockApi+"/"+e.id,{method:"POST",body:JSON.stringify({id:e.id,isbn:t.isbn,quantity:t.quantity,shelfNumber:t.shelfNumber,book:e}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const t=yield o.json();return console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${o.status} `)}catch(t){console.log("Hata Oluştu."+t)}}))}getAllStocksData(){return n(this,void 0,void 0,(function*(){const t=yield fetch(this.stockApi,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);const e=yield t.json();return JSON.parse(JSON.stringify(e,null,4))}))}increaseStockMock(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(this.stockApi+"/"+t.isbn,{method:"PUT",body:JSON.stringify({isbn:t.isbn,quantity:t.quantity,shelfNumber:t.shelfNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const o=yield e.json();console.log(o),console.log(e.status)}catch(t){console.log("Hata Oluştu.")}}))}}}},e={};!function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CSixHQUFVSyxLQUFLRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSCxHQUdwRUksRUFBT0QsT0FDZixDQ25CMEJILENBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kYi9kYXRhYmFzZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vYm9vay1wcmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vYm9vay50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vY3VzdG9tZXIudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL29yZGVyLWJvb2staXRlbS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vcmVudC1jYXJ0LnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9yZW50LnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9zYWxlLWNhcnQudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3NhbGUudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3N0b2NrLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvYm9vay1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvY2FuY2VsLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9jdXN0b21lci1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvcmVudC1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2Uvc2FsZS1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2Uvc3RvY2stc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgQm9va1ByaWNlIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rLXByaWNlXCI7XG5pbXBvcnQgeyBDYW5jZWwgfSBmcm9tIFwiLi4vZG9tYWluL2NhbmNlbFwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi4vZG9tYWluL2N1c3RvbWVyXCI7XG5pbXBvcnQgeyBSZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50XCI7XG5pbXBvcnQgeyBSZW50Q2FydCB9IGZyb20gXCIuLi9kb21haW4vcmVudC1jYXJ0XCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlXCI7XG5pbXBvcnQgeyBTYWxlQ2FydCB9IGZyb20gXCIuLi9kb21haW4vc2FsZS1jYXJ0XCI7XG5pbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuLi9kb21haW4vc3RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFCYXNlIHtcblxuICAgICBwcml2YXRlIF9ib29rczogQXJyYXk8Qm9vaz47Ly9cbiAgICAgcHJpdmF0ZSBfc3RvY2tzOiBBcnJheTxTdG9jaz47XG4gICAgIHByaXZhdGUgX2N1c3RvbWVyczogQXJyYXk8Q3VzdG9tZXI+Oy8vXG4gICAgIHByaXZhdGUgX3NhbGVzOiBBcnJheTxTYWxlPjsvL1xuICAgICBwcml2YXRlIF9yZW50czogQXJyYXk8UmVudD47XG4gICAgIHByaXZhdGUgX2Jvb2tTcGVjaWZpY2F0aW9uczogQXJyYXk8Qm9va1ByaWNlPjtcbiAgICAgcHJpdmF0ZSBfY2FuY2VsczogQXJyYXk8Q2FuY2VsPjsvL1xuICAgICBwcml2YXRlIF9zYWxlQ2FydDogU2FsZUNhcnQ7XG4gICAgIHByaXZhdGUgX3JlbnRDYXJ0OlJlbnRDYXJ0O1xuXG4gICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgIHRoaXMuX2Jvb2tzID0gbmV3IEFycmF5PEJvb2s+KCk7XG4gICAgICAgICAgdGhpcy5fc3RvY2tzID0gbmV3IEFycmF5PFN0b2NrPigpO1xuICAgICAgICAgIHRoaXMuX2N1c3RvbWVycyA9IG5ldyBBcnJheTxDdXN0b21lcj4oKTtcbiAgICAgICAgICB0aGlzLl9zYWxlcyA9IG5ldyBBcnJheTxTYWxlPigpO1xuICAgICAgICAgIHRoaXMuX3JlbnRzID0gbmV3IEFycmF5PFJlbnQ+KCk7XG4gICAgICAgICAgdGhpcy5fYm9va1NwZWNpZmljYXRpb25zID0gbmV3IEFycmF5PEJvb2tQcmljZT4oKTtcbiAgICAgICAgICB0aGlzLl9jYW5jZWxzID0gbmV3IEFycmF5PENhbmNlbD4oKTtcbiAgICAgICAgICB0aGlzLl9zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydCgpO1xuICAgICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gbmV3IFJlbnRDYXJ0O1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBib29rc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Qm9va3NMaXN0KCk6IEFycmF5PEJvb2s+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYm9va3M7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHN0b2Nrc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxTdG9jaz59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFN0b2Nrc0xpc3QoKTogQXJyYXk8U3RvY2s+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvY2tzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBjdXN0b21lcnNcbiAgICAgICogQHJldHVybiB7QXJyYXk8Q3VzdG9tZXI+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRDdXN0b21lcnNMaXN0KCk6IEFycmF5PEN1c3RvbWVyPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbWVycztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgc2FsZXNcbiAgICAgICogQHJldHVybiB7QXJyYXk8U2FsZT59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFNhbGVzTGlzdCgpOiBBcnJheTxTYWxlPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NhbGVzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciByZW50c1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxSZW50Pn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0UmVudHMoKTogQXJyYXk8UmVudD4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9yZW50cztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgYm9va1NwZWNpZmljYXRpb25zXG4gICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2tQcmljZT59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEJvb2tTcGVjaWZpY2F0aW9ucygpOiBBcnJheTxCb29rUHJpY2U+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYm9va1NwZWNpZmljYXRpb25zO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBjYW5jZWxTYWxlc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxDYW5jZWxTYWxlPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Q2FuY2FsZWRTYWxlcygpOiBBcnJheTxDYW5jZWw+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VscztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgc2FsZUNhcnRcbiAgICAgICogQHJldHVybiB7QXJyYXk8U2FsZUNhcnQ+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTYWxlQ2FydCgpOiBTYWxlQ2FydCB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NhbGVDYXJ0O1xuICAgICB9XG5cbiAgICAgICAgIC8qKlxuICAgICAqIEdldHRlciByZW50Q2FydFxuICAgICAqIEByZXR1cm4ge1JlbnRDYXJ0fVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGdldFJlbnRDYXJ0KCk6IFJlbnRDYXJ0IHtcblx0XHRyZXR1cm4gdGhpcy5fcmVudENhcnQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzYWxlQ2FydFxuICAgICAqIEBwYXJhbSB7U2FsZUNhcnR9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgc2V0U2FsZUNhcnQodmFsdWU6IFNhbGVDYXJ0KSB7XG5cdFx0dGhpcy5fc2FsZUNhcnQgPSB2YWx1ZTtcblx0fVxuXG5cblxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHBhcmFtIHtSZW50Q2FydH0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBzZXRSZW50Q2FydCh2YWx1ZTogUmVudENhcnQpIHtcblx0XHR0aGlzLl9yZW50Q2FydCA9IHZhbHVlO1xuXHR9XG4gICAgIFxuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBCb29rUHJpY2Uge1xuICAgIHByaXZhdGUgX2lkOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfcHJpY2U6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zdGFydERhdGU6IERhdGU7XG4gICAgcHJpdmF0ZSBfZW5kRGF0ZTogRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblx0cHVibGljIGdldCBpZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9pZDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgaWQodmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX2lkID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBwcmljZVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHByaWNlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmljZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgc3RhcnREYXRlXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHN0YXJ0RGF0ZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0RGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZW5kRGF0ZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG4gICAgcHVibGljIGdldCBlbmREYXRlKCk6IERhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kRGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcHJpY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHByaWNlKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcHJpY2UgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc3RhcnREYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc3RhcnREYXRlKHZhbHVlOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBlbmREYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgZW5kRGF0ZSh2YWx1ZTogRGF0ZSkge1xuICAgICAgICB0aGlzLl9lbmREYXRlID0gdmFsdWU7XG4gICAgfVxuXG5cblxufSIsImltcG9ydCB7IEJvb2tQcmljZSB9IGZyb20gXCIuL2Jvb2stcHJpY2VcIjtcblxuZXhwb3J0IGNsYXNzIEJvb2sge1xuICAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgICBwcml2YXRlIF9pc2JuOiBzdHJpbmc7XG4gICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfYXV0aG9yOiBzdHJpbmc7XG4gICAgIHByaXZhdGUgX3B1Ymxpc2hZZWFyOiBzdHJpbmc7XG4gICAgIHByaXZhdGUgX3BhZ2VzOiBudW1iZXI7XG4gICAgIHByaXZhdGUgX2Jvb2tQcmljZTogQm9va1ByaWNlO1xuXG4gICAgIGNvbnN0cnVjdG9yKGlzYm46IHN0cmluZywgbmFtZTogc3RyaW5nLCBhdXRob3I6IHN0cmluZywgcHVibGlzaFllYXI6IHN0cmluZywgcGFnZXM6IG51bWJlciwgYm9va1ByaWNlOiBCb29rUHJpY2UpIHtcbiAgICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgICB0aGlzLl9hdXRob3IgPSBhdXRob3I7XG4gICAgICAgICAgdGhpcy5faXNibiA9IGlzYm47XG4gICAgICAgICAgdGhpcy5fcHVibGlzaFllYXIgPSBwdWJsaXNoWWVhcjtcbiAgICAgICAgICB0aGlzLl9wYWdlcyA9IHBhZ2VzO1xuICAgICAgICAgIHRoaXMuX2Jvb2tQcmljZSA9IGJvb2tQcmljZTtcbiAgICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5faWQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9pZCA9IHZhbHVlO1xuXHR9XG4gICAgIFxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgaXNiblxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGlzYm4oKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5faXNibjtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgbmFtZVxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgYXV0aG9yXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgYXV0aG9yKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dGhvcjtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgcHVibGlzaFllYXJcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBwdWJsaXNoWWVhcigpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9wdWJsaXNoWWVhcjtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgcGFnZXNcbiAgICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBwYWdlcygpOiBudW1iZXIge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9wYWdlcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgYm9va1ByaWNlXG4gICAgICAqIEByZXR1cm4ge0Jvb2tQcmljZX1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgYm9va1ByaWNlKCk6IEJvb2tQcmljZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tQcmljZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgaXNiblxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgaXNibih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5faXNibiA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBuYW1lXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIGF1dGhvclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgYXV0aG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLl9hdXRob3IgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgcHVibGlzaFllYXJcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IHB1Ymxpc2hZZWFyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLl9wdWJsaXNoWWVhciA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBwYWdlc1xuICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgcGFnZXModmFsdWU6IG51bWJlcikge1xuICAgICAgICAgIHRoaXMuX3BhZ2VzID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIGJvb2tQcmljZVxuICAgICAgKiBAcGFyYW0ge0Jvb2tQcmljZX0gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgYm9va1ByaWNlKHZhbHVlOiBCb29rUHJpY2UpIHtcbiAgICAgICAgICB0aGlzLl9ib29rUHJpY2UgPSB2YWx1ZTtcbiAgICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEN1c3RvbWVyIHtcbiAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9zdXJOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX3Bob25lTnVtYmVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBzdXJOYW1lOiBzdHJpbmcsIHBob25lTnVtYmVyOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9zdXJOYW1lID0gc3VyTmFtZTtcbiAgICB0aGlzLl9waG9uZU51bWJlciA9IHBob25lTnVtYmVyO1xuICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgbmFtZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblx0cHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX25hbWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdXJOYW1lXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHN1ck5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fc3VyTmFtZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHBob25lTnVtYmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHBob25lTnVtYmVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX3Bob25lTnVtYmVyO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX25hbWUgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHN1ck5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBzdXJOYW1lKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9zdXJOYW1lID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBwaG9uZU51bWJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHBob25lTnVtYmVyKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9waG9uZU51bWJlciA9IHZhbHVlO1xuXHR9XG5cblxufVxuIiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIjtcblxuZXhwb3J0IGNsYXNzIE9yZGVyQm9va0l0ZW1zIHtcbiAgICBwcml2YXRlIF9ib29rOiBCb29rO1xuICAgIHByaXZhdGUgX3F1YW50aXR5OiBudW1iZXI7XG5cblxuICAgIGNvbnN0cnVjdG9yKGJvb2s6IEJvb2ssIHF1YW50aXR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fYm9vayA9IGJvb2s7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tcbiAgICAgKiBAcmV0dXJuIHtCb29rfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgYm9vaygpOiBCb29rIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2s7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHF1YW50aXR5XG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBib29rXG4gICAgICogQHBhcmFtIHtCb29rfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9vayh2YWx1ZTogQm9vaykge1xuICAgICAgICB0aGlzLl9ib29rID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHF1YW50aXR5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBxdWFudGl0eSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvb2s6IHRoaXMuX2Jvb2ssXG4gICAgICAgICAgICBxdWFudGl0eTogdGhpcy5fcXVhbnRpdHksXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgTGlzdEZvcm1hdCB9IGZyb20gXCJ0eXBlc2NyaXB0XCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi9vcmRlci1ib29rLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFJlbnRDYXJ0IHtcbiAgICBjdXN0b21lcklkITogbnVtYmVyO1xuICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheTxPcmRlckJvb2tJdGVtcz47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5vcmRlckJvb2tJdGVtcyA9IG5ldyBBcnJheTxPcmRlckJvb2tJdGVtcz4oKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgU2FsZSB9IGZyb20gXCIuL3NhbGVcIjtcbmltcG9ydCB7IE9yZGVyQm9va0l0ZW1zIH0gZnJvbSBcIi4vb3JkZXItYm9vay1pdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW50IGV4dGVuZHMgU2FsZSB7XG4gICAgcHJpdmF0ZSBfcmVmdW5kRGF0ZT86IERhdGU7XG4gICAgcHJpdmF0ZSBfcmVmdW5kPzogbnVtYmVyO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihzYWxlQm9va0l0ZW1zPzogQXJyYXk8T3JkZXJCb29rSXRlbXM+LCBvcGVyYXRpb25EYXRlVGltZT86IERhdGUsIGN1c3RvbWVySWQ/OiBudW1iZXIsIG9wZXJhdGlvbk51bWJlcj86IHN0cmluZywgdG90YWw/OiBudW1iZXIsIHJlZnVuZERhdGU/OiBEYXRlLCByZWZ1bmQ/OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoc2FsZUJvb2tJdGVtcywgY3VzdG9tZXJJZCwgb3BlcmF0aW9uRGF0ZVRpbWUsIG9wZXJhdGlvbk51bWJlciwgdG90YWwpXG5cbiAgICAgICAgdGhpcy5fcmVmdW5kRGF0ZSA9IHJlZnVuZERhdGU7XG4gICAgICAgIHRoaXMuX3JlZnVuZCA9IHJlZnVuZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciByZWZ1bmREYXRlXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHJlZnVuZERhdGUoKTogRGF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZ1bmREYXRlITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcmVmdW5kXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcmVmdW5kKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZ1bmQhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciByZWZ1bmREYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVmdW5kRGF0ZSh2YWx1ZTogRGF0ZSkge1xuICAgICAgICB0aGlzLl9yZWZ1bmREYXRlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlZnVuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVmdW5kKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcmVmdW5kID0gdmFsdWU7XG4gICAgfVxuXG5cblxuXG59IiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIjtcbmltcG9ydCB7IE9yZGVyQm9va0l0ZW1zIH0gZnJvbSBcIi4vb3JkZXItYm9vay1pdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlQ2FydCB7XG4gICAgY3VzdG9tZXJJZCE6IG51bWJlcjtcbiAgICBvcmRlckJvb2tJdGVtczogQXJyYXk8T3JkZXJCb29rSXRlbXM+O1xuXG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5vcmRlckJvb2tJdGVtcyA9IG5ldyBBcnJheTxPcmRlckJvb2tJdGVtcz47XG5cdH1cblxuXG5cblxuXG59IiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIjtcbmltcG9ydCB7IE9yZGVyQm9va0l0ZW1zIH0gZnJvbSBcIi4vb3JkZXItYm9vay1pdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlIHtcbiAgICBwcml2YXRlIF9vcmRlckJvb2tJdGVtcz86IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcbiAgICBwcml2YXRlIF9jdXN0b21lcklkPzogbnVtYmVyO1xuICAgIHByaXZhdGUgX29wZXJhdGlvbkRhdGVUaW1lPzogRGF0ZTtcbiAgICBwcml2YXRlIF9vcGVyYXRpb25OdW1iZXI/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfdG90YWw/OiBudW1iZXI7XG5cblxuXHRjb25zdHJ1Y3RvcihvcmRlckJvb2tJdGVtcz86IEFycmF5PE9yZGVyQm9va0l0ZW1zPiwgY3VzdG9tZXJJZD86IG51bWJlciwgb3BlcmF0aW9uRGF0ZVRpbWU/OiBEYXRlLCBvcGVyYXRpb25OdW1iZXI/OiBzdHJpbmcsIHRvdGFsPzogbnVtYmVyKSB7XG5cdFx0dGhpcy5fb3JkZXJCb29rSXRlbXMgPSBvcmRlckJvb2tJdGVtcztcblx0XHR0aGlzLl9jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcblx0XHR0aGlzLl9vcGVyYXRpb25EYXRlVGltZSA9IG9wZXJhdGlvbkRhdGVUaW1lO1xuXHRcdHRoaXMuX29wZXJhdGlvbk51bWJlciA9IG9wZXJhdGlvbk51bWJlcjtcblx0XHR0aGlzLl90b3RhbCA9IHRvdGFsO1xuXHR9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcmRlckJvb2tJdGVtc1xuICAgICAqIEByZXR1cm4ge0FycmF5PE9yZGVyQm9va0l0ZW1zPn1cbiAgICAgKi9cblx0cHVibGljIGdldCBvcmRlckJvb2tJdGVtcygpOiBBcnJheTxPcmRlckJvb2tJdGVtcz4ge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlckJvb2tJdGVtcyE7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjdXN0b21lcklkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGN1c3RvbWVySWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fY3VzdG9tZXJJZCE7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcGVyYXRpb25EYXRlVGltZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgb3BlcmF0aW9uRGF0ZVRpbWUoKTogRGF0ZSB7XG5cdFx0cmV0dXJuIHRoaXMuX29wZXJhdGlvbkRhdGVUaW1lITtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIG9wZXJhdGlvbk51bWJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblx0cHVibGljIGdldCBvcGVyYXRpb25OdW1iZXIoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fb3BlcmF0aW9uTnVtYmVyITtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHRvdGFsXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3RvdGFsITtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG9yZGVyQm9va0l0ZW1zXG4gICAgICogQHBhcmFtIHtBcnJheTxPcmRlckJvb2tJdGVtcz59IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgb3JkZXJCb29rSXRlbXModmFsdWU6IEFycmF5PE9yZGVyQm9va0l0ZW1zPikge1xuXHRcdHRoaXMuX29yZGVyQm9va0l0ZW1zID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBjdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgY3VzdG9tZXJJZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5fY3VzdG9tZXJJZCA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgb3BlcmF0aW9uRGF0ZVRpbWVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgb3BlcmF0aW9uRGF0ZVRpbWUodmFsdWU6IERhdGUpIHtcblx0XHR0aGlzLl9vcGVyYXRpb25EYXRlVGltZSA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgb3BlcmF0aW9uTnVtYmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgb3BlcmF0aW9uTnVtYmVyKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9vcGVyYXRpb25OdW1iZXIgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHRvdGFsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgdG90YWwodmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX3RvdGFsID0gdmFsdWU7XG5cdH1cblx0XG4gICAgXG59IiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIjtcblxuZXhwb3J0IGNsYXNzIFN0b2NrIHtcbiAgICBwcml2YXRlIF9pZDpudW1iZXI7XG4gICAgcHJpdmF0ZSBfaXNibjogc3RyaW5nO1xuICAgIHByaXZhdGUgX3F1YW50aXR5OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfc2hlbGZOdW1iZXI6IHN0cmluZztcbiAgICBwcml2YXRlIF9ib29rOkJvb2s7XG5cbiAgICBjb25zdHJ1Y3Rvcihpc2JuPzogc3RyaW5nLCBxdWFudGl0eT86IG51bWJlciwgc2hlbGZOdW1iZXI/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5faXNibiA9IGlzYm4hO1xuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IHF1YW50aXR5ITtcbiAgICAgICAgdGhpcy5fc2hlbGZOdW1iZXIgPSBzaGVsZk51bWJlciE7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5faWQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9pZCA9IHZhbHVlO1xuXHR9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rXG4gICAgICogQHJldHVybiB7Qm9va31cbiAgICAgKi9cblx0cHVibGljIGdldCBib29rKCk6IEJvb2sge1xuXHRcdHJldHVybiB0aGlzLl9ib29rO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va1xuICAgICAqIEBwYXJhbSB7Qm9va30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBib29rKHZhbHVlOiBCb29rKSB7XG5cdFx0dGhpcy5fYm9vayA9IHZhbHVlO1xuXHR9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpc2JuXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgaXNibigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNibjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNoZWxmTnVtYmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2hlbGZOdW1iZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoZWxmTnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpc2JuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBpc2JuKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5faXNibiA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBxdWFudGl0eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcXVhbnRpdHkodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzaGVsZk51bWJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2hlbGZOdW1iZXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zaGVsZk51bWJlciA9IHZhbHVlO1xuICAgIH1cblxuXG59IiwiLy8gZXhwb3J0IE5PREVfT1BUSU9OUz0tLW9wZW5zc2wtbGVnYWN5LXByb3ZpZGVyXG5pbXBvcnQgeyBEYXRhQmFzZSB9IGZyb20gXCIuL2RiL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tQcmljZSB9IGZyb20gXCIuL2RvbWFpbi9ib29rLXByaWNlXCI7XG5pbXBvcnQgeyBDYW5jZWwgfSBmcm9tIFwiLi9kb21haW4vY2FuY2VsXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL2RvbWFpbi9jdXN0b21lclwiO1xuaW1wb3J0IHsgUmVudCB9IGZyb20gXCIuL2RvbWFpbi9yZW50XCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4vZG9tYWluL3NhbGVcIjtcbmltcG9ydCB7IE9yZGVyQm9va0l0ZW1zIH0gZnJvbSBcIi4vZG9tYWluL29yZGVyLWJvb2staXRlbVwiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi9kb21haW4vc3RvY2tcIjtcbmltcG9ydCB7IEJvb2tTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9ib29rLXNlcnZpY2VcIjtcbmltcG9ydCB7IENhbmNlbFNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2NhbmNlbC1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBDdXN0b21lclNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2N1c3RvbWVyLXNlcnZpY2VcIjtcbmltcG9ydCB7IFJlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9yZW50LXNlcnZpY2VcIjtcbmltcG9ydCB7IFNhbGVTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9zYWxlLXNlcnZpY2VcIjtcbmltcG9ydCB7IFN0b2NrU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2Uvc3RvY2stc2VydmljZVwiO1xuXG5leHBvcnQgbGV0IGJvb2tTZXJ2aWNlOiBCb29rU2VydmljZTtcbmV4cG9ydCBsZXQgY3VzdG9tZXJTZXJ2aWNlOiBDdXN0b21lclNlcnZpY2U7XG5leHBvcnQgbGV0IGNhbmNlbFNlcnZpY2U6IENhbmNlbFNlcnZpY2U7XG5leHBvcnQgbGV0IHJlbnRTZXJ2aWNlOiBSZW50U2VydmljZTtcbmV4cG9ydCBsZXQgc2FsZVNlcnZpY2U6IFNhbGVTZXJ2aWNlO1xuZXhwb3J0IGxldCBzdG9ja1NlcnZpY2U6IFN0b2NrU2VydmljZTtcblxubGV0IGRiOiBEYXRhQmFzZSA9IG5ldyBEYXRhQmFzZSgpO1xuaW5pdGlsaWF6ZVNlcnZpY2VzKGRiKTtcbmluaXRpbGlhemVEYXRhKCk7XG5hZGRMaXN0ZW5lckZvck1lbnVJdGVtcygpO1xuXG5mdW5jdGlvbiBpbml0aWxpYXplU2VydmljZXMoZGI6IERhdGFCYXNlKSB7XG4gIGJvb2tTZXJ2aWNlID0gbmV3IEJvb2tTZXJ2aWNlKGRiLmdldEJvb2tzTGlzdCwgZGIuZ2V0Qm9va1NwZWNpZmljYXRpb25zKTtcbiAgY3VzdG9tZXJTZXJ2aWNlID0gbmV3IEN1c3RvbWVyU2VydmljZShkYi5nZXRDdXN0b21lcnNMaXN0KTtcbiAgY2FuY2VsU2VydmljZSA9IG5ldyBDYW5jZWxTZXJ2aWNlKGRiLmdldENhbmNhbGVkU2FsZXMpO1xuICByZW50U2VydmljZSA9IG5ldyBSZW50U2VydmljZShkYi5nZXRSZW50cywgZGIuZ2V0UmVudENhcnQpO1xuICBzYWxlU2VydmljZSA9IG5ldyBTYWxlU2VydmljZShkYi5nZXRTYWxlc0xpc3QsIGRiLmdldFNhbGVDYXJ0KTtcbiAgc3RvY2tTZXJ2aWNlID0gbmV3IFN0b2NrU2VydmljZShkYi5nZXRTdG9ja3NMaXN0KTtcbiAgY29uc29sZS5sb2coXCJTZXJ2aWNlcyBpbnRpbGlhemVkLlwiKTtcblxuICBjdXN0b21lclNlcnZpY2UuYWRkQ3VzdG9tZXIobmV3IEN1c3RvbWVyKFwiXCIsIFwiXCIsIFwiXCIpKTtcbiAgY3VzdG9tZXJTZXJ2aWNlLmFkZEN1c3RvbWVyKG5ldyBDdXN0b21lcihcIlwiLCBcIlwiLCBcIlwiKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRpbGlhemVEYXRhKCkge1xuICBib29rU2VydmljZS5ib29rTGlzdCA9IGF3YWl0IGJvb2tTZXJ2aWNlLmdldEFsbEJvb2tzRGF0YSgpO1xuICBzdG9ja1NlcnZpY2Uuc3RvY2tMaXN0ID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldEFsbFN0b2Nrc0RhdGEoKTtcblxuICBjb25zb2xlLmxvZyhib29rU2VydmljZS5ib29rTGlzdCk7XG4gIGNvbnNvbGUubG9nKHN0b2NrU2VydmljZS5zdG9ja0xpc3QpO1xuXG4gIGxpc3RCb29rcztcblxufVxuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lckZvck1lbnVJdGVtcygpIHtcbiAgLy9zYWxlU2VydmljZS51cGRhdGVTYWxlQ2FydCgpO1xuICBzaG93QW5kSGlkZShcImFkZEJvb2tNZW51SXRlbVwiLCBcImFkZEJvb2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInNob3dCb29rc01lbnVJdGVtXCIsIFwibGlzdEJvb2tzU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJhZGRDdXN0b21lck1lbnVJdGVtXCIsIFwiYWRkQ3VzdG9tZXJTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcImFkZFN0b2NrTWVudUl0ZW1cIiwgXCJhZGRTdG9ja1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwic2FsZUJvb2tNZW51SXRlbVwiLCBcInNhbGVCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJyZW50Qm9va01lbnVJdGVtXCIsIFwicmVudEJvb2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcImNhbmNlbFNhbGVNZW51SXRlbVwiLCBcImNhbmNlbFNhbGVTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcImNhbmNlbFJlbnRNZW51SXRlbVwiLCBcImNhbmNlbFJlbnRTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInJlZnVuZEJvb2tNZW51SXRlbVwiLCBcInJlZnVuZEJvb2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInJlbnROb3dcIiwgXCJyZW50Qm9va1NlY3Rpb25cIik7XG5cbn1cblxuZnVuY3Rpb24gc2hvd0FuZEhpZGUoYnRuSWQ6IHN0cmluZywgZWxlbWVudElkOiBzdHJpbmcpIHtcbiAgLy9zYWxlU2VydmljZS51cGRhdGVTYWxlQ2FydCgpO1xuXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidG5JZCk7XG5cbiAgaWYgKGVsZW1lbnQgJiYgYnRuKSB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhZGRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYm9vay1mb3JtXCIpO1xuaWYgKGFkZEJvb2tGb3JtICE9IG51bGwpIHtcbiAgYWRkQm9va0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGFkZEJvb2tGb3JtKTtcblxuICAgIGNvbnN0IHRpdGxlID0gZm9ybURhdGEuZ2V0KFwiYm9va1RpdGxlXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBhdXRob3IgPSBmb3JtRGF0YS5nZXQoXCJib29rQXV0aG9yXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiYm9va0lzYm5cIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHB1Ymxpc2hZZWFyID0gZm9ybURhdGEuZ2V0KFwiYm9va1B1Ymxpc2hZZWFyXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBwYWdlcyA9IGZvcm1EYXRhLmdldChcImJvb2tQYWdlc1wiKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICBjb25zdCBwcmljZSA9IGZvcm1EYXRhLmdldChcImJvb2tQcmljZVwiKSBhcyB1bmtub3duIGFzIG51bWJlcjtcblxuICAgIGNvbnN0IGJvb2tQcmljZSA9IG5ldyBCb29rUHJpY2UoKTtcbiAgICBib29rUHJpY2UucHJpY2UgPSBwcmljZTtcblxuICAgIGNvbnN0IGJvb2sgPSBuZXcgQm9vayhpc2JuLCB0aXRsZSwgYXV0aG9yLCBwdWJsaXNoWWVhciwgcGFnZXMsIGJvb2tQcmljZSk7XG4gICAgbGV0IGlzU2FtZUlzYm46IGJvb2xlYW4gPSBib29rU2VydmljZS5ib29rTGlzdC5zb21lKChvYmopID0+IHtcbiAgICAgIHJldHVybiBvYmouaXNibiA9PT0gYm9vay5pc2JuO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzU2FtZUlzYm4gPT09IGZhbHNlKSB7XG4gICAgICBsZXQgc3VjY2VzcyA9IGF3YWl0IGJvb2tTZXJ2aWNlLmNyZWF0ZUJvb2soYm9vayk7XG5cbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIGFsZXJ0KGJvb2suaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCBFa2xlbWUgxLDFn2xlbWkgQmHFn2FyxLEgxLBsZSBUYW1hbWxhbm3EscWfdMSxci5cIik7XG4gICAgICAgIGFkZEJvb2tGb3JtLnJlc2V0KCk7XG4gICAgICAgIGxpc3RCb29rcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoYm9vay5pc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIEVrbGVtZSDEsMWfbGVtaSBTxLFyYXPEsW5kYSBCaXIgSGF0YSBvbHXFn3R1LlwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBwcmV2ZW50IHJlbG9hZCBwYWdlXG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KFwiQXluxLEgSVNCTiBudW1yYXPEsW5hIHNhaGlwIGlraW5jaSBiaXIga2l0YXAgZWtsZW5lbXouXCIpO1xuICAgIH1cblxuXG4gIH07XG59XG5cbmNvbnN0IGFkZFN0b2NrRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXN0b2NrLWZvcm1cIikpO1xuaWYgKGFkZFN0b2NrRm9ybSkge1xuICBhZGRTdG9ja0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShhZGRTdG9ja0Zvcm0pO1xuXG4gICAgY29uc3QgaXNibiA9IGZvcm1EYXRhLmdldChcImJvb2tJc2JuRm9yQWRkU3RvY2tcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHF1YW50dGl5ID0gZm9ybURhdGEuZ2V0KFwic3RvY2tRdWFudGl0eVwiKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICBjb25zdCBzaGVsZk51bWJlciA9IGZvcm1EYXRhLmdldChcInNoZWxmTnVtYmVyXCIpIGFzIHN0cmluZztcblxuICAgIGNvbnN0IHN0b2NrID0gbmV3IFN0b2NrKGlzYm4sIHF1YW50dGl5LCBzaGVsZk51bWJlcik7XG4gICAgY29uc3QgaXNDb250YWluc0Jvb2s6IGJvb2xlYW4gPSBib29rU2VydmljZS5ib29rTGlzdC5zb21lKGIgPT4gYi5pc2JuID09PSBpc2JuKTtcblxuICAgIGlmIChpc0NvbnRhaW5zQm9vayAhPT0gdHJ1ZSkge1xuICAgICAgYWxlcnQoXCJTdG9rIGVrbGVubWV5ZSDDp2FsxLHFn8SxbGFuIGtpdGFwLCBrYXnEsXRsxLEgZGXEn2lsZGlyLiBMw7x0ZmVuIMO2bmNlIGtpdGFwIGVrbGV5aW5pelwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBib29rID0gYm9va1NlcnZpY2UuZ2V0Qm9vayhpc2JuKTtcbiAgICAgIGxldCBpc09rID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmNyZWF0ZVN0b2NrKHN0b2NrLCBib29rKTtcblxuICAgICAgaWYgKGlzT2spIHtcbiAgICAgICAgYWxlcnQoaXNibiArIFwiIGlzYm4gbnVtYXJhbMSxIGtpdGFwdGFuLCBcIiArIHF1YW50dGl5ICsgXCIga2FkYXIgc2lzdGVtZSBzdG9rIGVrbGVubWnFn3Rpci5cIik7XG4gICAgICAgIGF3YWl0IGluaXRpbGlhemVEYXRhKCk7XG4gICAgICAgIGxpc3RCb29rcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFkZFN0b2NrRm9ybS5yZXNldCgpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqXG4gKiBNw7zFn3RlcmkgZWtsZW1lIGZvcm11IHN1Ym1pdCBvbGF5xLFuxLEgbW9jayBjdXN0b21lclNlcnZpY2UgZGVraSBtb2NrIHNlcnZpc2UgYmHEn2xhZMSxbVxuICovXG5jb25zdCBhZGRDdXN0b21lckZvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1jdXN0b21lci1mb3JtXCIpKTtcbmlmIChhZGRDdXN0b21lckZvcm0pIHtcbiAgYWRkQ3VzdG9tZXJGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQ3VzdG9tZXJGb3JtKTtcblxuICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lck5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHN1cm5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lclN1cm5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob25lTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJQaG9uZU51bWJlclwiKSBhcyBzdHJpbmc7XG5cbiAgICBjb25zdCBjdXN0b21lciA9IG5ldyBDdXN0b21lcihuYW1lLCBzdXJuYW1lLCBwaG9uZU51bWJlcik7XG4gICAgbGV0IHN1Y2Nlc3MgPSBhd2FpdCBjdXN0b21lclNlcnZpY2UuYWRkQ3VzdG9tZXJNb2NrKGN1c3RvbWVyKTtcblxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBhbGVydChcIk3DvMWfdGVyaSBFa2xlbWUgxLDFn2xlbWkgQmHFn2FyxLEgxLBsZSBUYW1hbWxhbm3EscWfdMSxci4gXCIpO1xuICAgICAgYWRkQ3VzdG9tZXJGb3JtLnJlc2V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KFwiTcO8xZ90ZXJpIEVrbGVtZSDEsMWfbGVtaSBTxLFyYXPEsW5kYSBiaXIgaGF0YSBpbGUga2FyxZ/EsWzEsWxkxLEuIFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7IC8vIHByZXZlbnQgcmVsb2FkXG4gIH07XG59XG5cbi8qKkJ1cmFkYSBtb2NrIHNlcnZpc2kgeW9rIMOnw7xua8O8IGJ1cmFkYSBraXRhcCBzYXTEscWfxLEgeWFwxLFsxLFya2VuLCBraXRhcGxhcsSxIHNlcGV0ZSBla2xpeW9ydXouXG4gKiBTZXBldGUgZWtsZWRpa3RlbiBzb25yYSBidG5TYWxlIGlkbGkgYnV0b251biBjbGljayBldmVudGksIG1vY2sgc2VydmlzaSDDp2HEn8SxcsSxeW9yXG4gKi9cbmNvbnN0IHNhbGVCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2FsZS1ib29rLWZvcm1cIikpO1xuaWYgKHNhbGVCb29rRm9ybSkge1xuICBzYWxlQm9va0Zvcm0ub25zdWJtaXQgPSAoKSA9PiB7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShzYWxlQm9va0Zvcm0pO1xuXG4gICAgY29uc3QgaXNibiA9IGZvcm1EYXRhLmdldChcImlzYm5Gb3JTYWxlXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBib29rID0gYm9va1NlcnZpY2UuZ2V0Qm9vayhpc2JuKTtcbiAgICBjb25zdCBjdXN0b21lcklkID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJJZEZvclNhbGVcIikgYXMgc3RyaW5nKTtcbiAgICAvL2lzVmFsaWRDdXN0b21lciByZXN0IHNlcnZpc3RlbiBkw7ZlbmVuIHZlcml5ZSBnw7ZyZSDFn2VraWxsZW5lY2VrXG4gICAgY29uc3QgaXNWYWxpZEN1c3RvbWVyOiBib29sZWFuID0gdHJ1ZTsgLy9jdXN0b21lclNlcnZpY2UuaXNWYWxpZEN1c3RvbWVyKGN1c3RvbWVySWQpO1xuICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwicXVhbnRpdHlGb3JTYWxlXCIpIGFzIHN0cmluZyk7XG5cbiAgICBjb25zdCBzdG9jayA9IHN0b2NrU2VydmljZS5nZXRTdG9jayhpc2JuKSE7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGJvb2spIHtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgaWYgKHN0b2NrLnF1YW50aXR5ID49IHF1YW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgIHNhbGVTZXJ2aWNlLmFkZEJvb2tUb0NhcnQoYm9vaywgcXVhbnRpdHksIGN1c3RvbWVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxlcnQoY3VzdG9tZXJJZCArIFwiIG51bWFyYWzEsSBtw7zFn3Rlcmkga2F5xLF0bMSxIGRlxJ9pbGRpci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQocXVhbnRpdHkgKyBcIiBrYWRhciBraXRhcCBkw7xra2FuZGEgbWV2Y3V0IGRlxJ9pbGRpci5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KGBEw7xra2FuZGEgJHtpc2JufSBudW1hcmFsxLEga2l0YWLEsW4gc3RvxJ91IG1ldmN1dCBkZcSfaWxkaXIuYCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KGlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgeW9rdHVyLlwiKTtcbiAgICAgIH1cblxuICAgICAgc2FsZUJvb2tGb3JtLnJlc2V0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWxlcnQoZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEtpdGFwIHNhdMSxxZ/EsSBpw6dpbiBpxZ9sZW0geWFwxLFsxLFya2VuIGtpdGFwbGFyIHNlcGV0ZSBla2xlbml5b3IuXG4gKiBFa2xlbWUgacWfbGVtaSBiaXR0aWt0ZW4gc29ucmEgc2F0xLFuIGFsbSBpw6dpbiBidSBidXRvbmEgdMSxa2xhbmTEscSfxLFuZGEgc2VydmlzZSBnaWRpcCBzZXBldHRla2kga2l0YXBsYXLEsW4gc2F0xLHFn8SxIGdlcsOnZWtsZcWfaXlvclxuICogQnVyYWRhIGRpxJ9lciBidXRvbmxhcmRhIG9sZHXEn3UgZ2liaSBkaXJlayBtb2NrIHNlcnZpc2luZSBiYcSfbGFubWFrIHllcmluZSBzZXJ2aXNlIGdpdG1layBkdXJ1bXVuZGF5xLF6LiBcbiAqIMOHw7xua8O8IHNlcnZpc3RlIFNhbGUgbmVzbmVzaW5pIG9sdcWfdHVydXAgbW9jayBzZXJ2aXNpbmUgcGFyYW1ldHJlIG9sYXJhayBnZcOnaXlvcnV6LlxuICovXG5jb25zdCBidG5TYWxlID0gPEhUTUxCdXR0b25FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blNhbGVcIikpO1xuYnRuU2FsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBpZiAoc2FsZVNlcnZpY2Uuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG5cbiAgICBhbGVydChcIlNlcGV0dGUgw7xyw7xuIHlvay4gTMO8dGZlbiDDtm5jZSDDvHLDvG4gZWtsZXlpbml6XCIpO1xuICB9IGVsc2Uge1xuICAgIHNhbGVTZXJ2aWNlLmNhcnRUb1NhbGUoKTtcbiAgfVxuXG59KTtcblxuLyoqXG4gKiBLaXRhcGxhcsSxIGxpc3RlbGVtZWsgacOnaW4gdMSxa2xhbsSxbGFuIGJ1dG9uIGNsaWNrIGV2ZW50aVxuICovXG5jb25zdCBidG5TaG93Qm9va3NNZW51SXRlbSA9IDxIVE1MRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93Qm9va3NNZW51SXRlbVwiKSk7XG5idG5TaG93Qm9va3NNZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXG4gIGxpc3RCb29rcygpO1xufSlcblxuY29uc3QgY2FuY2VsU2FsZUZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FuY2VsLXNhbGUtZm9ybVwiKTtcbmlmIChjYW5jZWxTYWxlRm9ybSkge1xuICBjYW5jZWxTYWxlRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoY2FuY2VsU2FsZUZvcm0pO1xuICAgIGNvbnN0IHNhbGVOdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJzYWxlTnVtYmVyZm9yQ2FuY2VsXCIpIGFzIHN0cmluZztcblxuXG4gICAgbGV0IGlzRXhpc3RTYWxlID0gYXdhaXQgc2FsZVNlcnZpY2UuaXNFeGlzdFNhbGUoc2FsZU51bWJlcik7XG5cbiAgICBpZiAoaXNFeGlzdFNhbGUgPT09IHRydWUpIHtcblxuICAgICAgbGV0IHN0YXRlID0gYXdhaXQgY2FuY2VsU2VydmljZS5jYW5jZWxTYWxlTW9jayhzYWxlTnVtYmVyKTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBpcHRhbCBlZGlsbWnFn3Rpci5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChzYWxlTnVtYmVyICsgXCIgbnVtYXJhbMSxIHNhdMSxxZ8gaXB0YWwgZWRpbGlya2VuIGhhdGEgbWV5ZGFuYSBnZWxkaS5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBidWx1bmFtYW3EscWfdMSxci4gVGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgfVxuXG4gIH1cbn1cblxuY29uc3QgY2FuY2VsUmVudEZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FuY2VsLXJlbnQtZm9ybVwiKTtcbmlmIChjYW5jZWxSZW50Rm9ybSkge1xuICBjYW5jZWxSZW50Rm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoY2FuY2VsUmVudEZvcm0pO1xuICAgIGNvbnN0IHJlbnROdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJyZW50TnVtYmVyZm9yQ2FuY2VsXCIpIGFzIHN0cmluZztcblxuICAgIGxldCBzdGF0ZSA9IGF3YWl0IGNhbmNlbFNlcnZpY2UuY2FuY2VsUmVudE1vY2socmVudE51bWJlcik7XG5cbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIGFsZXJ0KHJlbnROdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgaXB0YWwgZWRpbG1pxZ90aXIuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsbWEgYnVsdW5hbWFtxLHFn3TEsXIuIFRla3JhciBkZW5leWluaXouXCIpO1xuICAgIH1cbiAgfVxufVxuXG4vKipCdXJhZGEgbW9jayBzZXJ2aXNpIHlvayDDp8O8bmvDvCBidXJhZGEga2l0YXAga2lyYWxhbWFzxLEgeWFwxLFsxLFya2VuLCBraXRhcGxhcsSxIHNlcGV0ZSBla2xpeW9ydXouXG4gKiBTZXBldGUgZWtsZWRpa3RlbiBzb25yYSBidG5SZW50IGlkbGkgYnV0b251biBjbGljayBldmVudGksIG1vY2sgc2VydmlzaSDDp2HEn8SxcsSxeW9yXG4gKi9cbmNvbnN0IHJlbnRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVudC1ib29rLWZvcm1cIikpO1xuaWYgKHJlbnRCb29rRm9ybSkge1xuICByZW50Qm9va0Zvcm0ub25zdWJtaXQgPSAoKSA9PiB7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShyZW50Qm9va0Zvcm0pO1xuXG4gICAgY29uc3QgaXNibiA9IGZvcm1EYXRhLmdldChcImlzYm5Gb3JSZW50XCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBib29rID0gYm9va1NlcnZpY2UuZ2V0Qm9vayhpc2JuKTtcbiAgICBjb25zdCBjdXN0b21lcklkID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJJZEZvclJlbnRcIikgYXMgc3RyaW5nKTtcbiAgICAvL2lzVmFsaWRDdXN0b21lciByZXN0IHNlcnZpc3RlbiBkw7ZlbmVuIHZlcml5ZSBnw7ZyZSDFn2VraWxsZW5lY2VrXG4gICAgY29uc3QgaXNWYWxpZEN1c3RvbWVyOiBib29sZWFuID0gdHJ1ZTsgLy9jdXN0b21lclNlcnZpY2UuaXNWYWxpZEN1c3RvbWVyKGN1c3RvbWVySWQpO1xuICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwicXVhbnRpdHlGb3JSZW50XCIpIGFzIHN0cmluZyk7XG4gICAgY29uc3Qgc3RvY2sgPSBzdG9ja1NlcnZpY2UuZ2V0U3RvY2soaXNibikhO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChib29rKSB7XG4gICAgICAgIGlmIChzdG9jaykge1xuICAgICAgICAgIGlmIChzdG9jay5xdWFudGl0eSA+PSBxdWFudGl0eSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRDdXN0b21lcikge1xuICAgICAgICAgICAgICByZW50U2VydmljZS5hZGRCb29rVG9DYXJ0KGJvb2ssIHF1YW50aXR5LCBjdXN0b21lcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGN1c3RvbWVySWQgKyBcIiBudW1hcmFsxLEgbcO8xZ90ZXJpIGthecSxdGzEsSBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KHF1YW50aXR5ICsgXCIga2FkYXIga2l0YXAgZMO8a2thbmRhIG1ldmN1dCBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChgRMO8a2thbmRhICR7aXNibn0gbnVtYXJhbMSxIGtpdGFixLFuIHN0b8SfdSBtZXZjdXQgZGXEn2lsZGlyLmApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChpc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIHlva3R1ci5cIik7XG4gICAgICB9XG5cbiAgICAgIHJlbnRCb29rRm9ybS5yZXNldCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFsZXJ0KGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBLaXRhcCBzYXTEscWfxLEgacOnaW4gacWfbGVtIHlhcMSxbMSxcmtlbiBraXRhcGxhciBzZXBldGUgZWtsZW5peW9yLlxuICogRWtsZW1lIGnFn2xlbWkgYml0dGlrdGVuIHNvbnJhIHNhdMSxbiBhbG0gaWnDp2luIGJ1IGJ1dG9uYSB0xLFrbGFuZMSxxJ/EsW5kYSBzZXJ2aXNlIGdpZGlwIHNlcGV0dGVraSBraXRhcGxhcsSxbiBzYXTEscWfxLEgZ2Vyw6dla2xlxZ9peW9yXG4gKiBCdXJhZGEgZGnEn2VyIGJ1dG9ubGFyZGEgb2xkdcSfdSBnaWJpIGRpcmVrIG1vY2sgc2VydmlzaW5lIGJhxJ9sYW5tYWsgeWVyaW5lIHNlcnZpc2UgZ2l0bWVrIGR1cnVtdW5kYXnEsXouIFxuICogw4fDvG5rw7wgc2VydmlzdGUgU2FsZSBuZXNuZXNpbmkgb2x1xZ90dXJ1cCBtb2NrIHNlcnZpc2luZSBwYXJhbWV0cmUgb2xhcmsgZ2XDp2l5b3J1ei5cbiAqL1xuY29uc3QgYnRuUmVudCA9IDxIVE1MQnV0dG9uRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5SZW50XCIpKTtcbmJ0blJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaWYgKHJlbnRTZXJ2aWNlLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIGFsZXJ0KFwiU2VwZXR0ZSDDvHLDvG4geW9rLiBMw7x0ZmVuIMO2bmNlIMO8csO8biBla2xleWluaXpcIik7XG4gIH0gZWxzZSB7XG4gICAgcmVudFNlcnZpY2UuY2FydFRvUmVudCgpO1xuICB9XG5cbn0pO1xuXG5jb25zdCByZWZ1bmRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVmdW5kLWJvb2stZm9ybVwiKSk7XG5pZiAocmVmdW5kQm9va0Zvcm0pIHtcbiAgcmVmdW5kQm9va0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuXG4gICAgLy8gS2lyYWxhbWEgacWfbGVtaW5kZW4gZ2VyaSDDtmRlbWUgacWfbGVtaSDDp2FsxLHFn2FiaWxtZXNpIGnDp2luIMO2bmNlIGtpcmFsYW1hIHZlcmlzaSBla2xlZGltLCBcbiAgICAvLyBTb25yYSBnZXJpIMO2ZGVtZSBpxZ9sZW1pIMOnYWzEscWfxLF5b3JcbiAgICBsZXQgc2JpID0gbmV3IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcbiAgICBzYmkucHVzaChuZXcgT3JkZXJCb29rSXRlbXMoYm9va1NlcnZpY2UuZ2V0Qm9vayhcIjEyMy00NVwiKSwgMykpXG5cbiAgICBsZXQgckRhdGUgPSBuZXcgRGF0ZTtcbiAgICByRGF0ZS5zZXREYXRlKHJEYXRlLmdldERhdGUoKSArIDIzKTtcblxuICAgIGxldCBhID0gbmV3IFJlbnQoc2JpLCBuZXcgRGF0ZSwgMSwgXCJSMDIxMTIyMTYzMDQ1XCIsIDEyMywgckRhdGUsIDApO1xuICAgIGEucmVmdW5kID0gcmVudFNlcnZpY2UuY2FsY3VsYXRlUmVmdW5kQW1vdW50KGEpO1xuXG4gICAgcmVudFNlcnZpY2UucmVudExpc3QucHVzaChhKTtcbiAgICAvL1ZlcmkgR2lyacWfaSBzb24gYWxhbsSxXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEocmVmdW5kQm9va0Zvcm0pO1xuICAgIGNvbnN0IHJlbnROdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJyZW50TnVtYmVyZm9yUmVmdW5kXCIpIGFzIHN0cmluZztcblxuICAgIGxldCByZW50ID0gcmVudFNlcnZpY2UuZ2V0UmVudChyZW50TnVtYmVyKTtcbiAgICBpZiAocmVudCkge1xuXG4gICAgICBsZXQgcmVmdW5kID0gYXdhaXQgcmVudFNlcnZpY2UucmVmdW5kUmVudE1vY2socmVudCk7XG5cbiAgICAgIGlmIChyZWZ1bmQpIHtcbiAgICAgICAgYWxlcnQocmVudC5vcGVyYXRpb25OdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgZ2VyaSBhbMSxbm3EscWfdMSxci5cIik7XG4gICAgICAgIGFsZXJ0KFwiR2VyaSDDtmRlbWUgbWlrdGFyxLE6XCIgKyByZWZ1bmQgKyBcIiDigrogLlwiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQocmVudC5vcGVyYXRpb25OdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgaXB0YWwgZWRpbGlya2VuIGhhdGEgbWV5ZGFuYSBnZWxkaS5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KHJlbnROdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgYnVsdW5hbWFtxLHFn3TEsXIuIFRla3JhciBkZW5leWluaXouXCIpO1xuICAgIH1cblxuICB9O1xufVxuXG5mdW5jdGlvbiBsaXN0Qm9va3MoKSB7XG4gIGNvbnN0IGxpc3RCb29rc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzdEJvb2tzXCIpO1xuXG4gIGlmIChsaXN0Qm9va3NEaXYpIHtcbiAgICBsZXQgcm93LCBjb2x1bW47XG5cblxuICAgIHdoaWxlIChsaXN0Qm9va3NEaXYubGFzdENoaWxkICYmIGxpc3RCb29rc0Rpdi5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICBsaXN0Qm9va3NEaXYucmVtb3ZlQ2hpbGQobGlzdEJvb2tzRGl2Lmxhc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgYm9va1NlcnZpY2UuYm9va0xpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcblxuICAgICAgLy9hbGVydChzdG9ja1NlcnZpY2UuZ2V0U3RvY2tRdWFudGl0eShlbGVtZW50LmlzYm4pKTtcblxuICAgICAgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJvdy5jbGFzc05hbWUgPSBcInJvdy1saXN0LWJvb2tcIjtcblxuICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcbiAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuaXNibi50b1N0cmluZygpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50Lm5hbWUudG9TdHJpbmcoKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5hdXRob3IudG9TdHJpbmcoKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gc3RvY2tTZXJ2aWNlLmdldFN0b2NrUXVhbnRpdHkoZWxlbWVudC5pc2JuKS50b1N0cmluZygpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50LmJvb2tQcmljZS5wcmljZS50b1N0cmluZygpICsgXCIg4oK6XCI7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgbGlzdEJvb2tzRGl2LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfSk7XG4gIH1cblxufSIsIi8qKlxuICogQGF1dGhvciBNZWhtZXQgRS4gQWtjYW4gLSAyMS4xMC4yMlxuICovXG5pbXBvcnQgeyBzdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tQcmljZSB9IGZyb20gXCIuLi9kb21haW4vYm9vay1wcmljZVwiO1xuXG5leHBvcnQgY2xhc3MgQm9va1NlcnZpY2Uge1xuICAgIHByaXZhdGUgX2Jvb2tMaXN0OiBBcnJheTxCb29rPjtcbiAgICBwcml2YXRlIF9ib29rU3BlY2lmaWNhdGlvbjogQXJyYXk8Qm9va1ByaWNlPjtcbiAgICBib29rQXBpOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9ib29rcyc7XG5cbiAgICBjb25zdHJ1Y3Rvcihib29rTGlzdDogQXJyYXk8Qm9vaz4sIGJvb2tTcGVjaWZpY2F0aW9uOiBBcnJheTxCb29rUHJpY2U+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tMaXN0ID0gYm9va0xpc3Q7XG4gICAgICAgIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9uID0gYm9va1NwZWNpZmljYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Qm9vaz59XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rTGlzdCgpOiBBcnJheTxCb29rPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib29rTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1NwZWNpZmljYXRpb25cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rUHJpY2U+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgYm9va1NwZWNpZmljYXRpb24oKTogQXJyYXk8Qm9va1ByaWNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va0xpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PEJvb2s+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9va0xpc3QodmFsdWU6IEFycmF5PEJvb2s+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheTxCb29rUHJpY2U+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9va1NwZWNpZmljYXRpb24odmFsdWU6IEFycmF5PEJvb2tQcmljZT4pIHtcbiAgICAgICAgdGhpcy5fYm9va1NwZWNpZmljYXRpb24gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwYXJhbWV0cmUgb2xhcmFrIGdlbGVuIGlzYm4gYmlsZ2lzaW5lIGfDtnJlIGlsZ2lsaSBraXRhYsSxIGJ1bHVyLlxuICAgICAqIEBwYXJhbSBpc2JuIEJ1bHVuYWNhayBvbGFuIGtpdGFixLFuIGlzYm4gbnVtYXJhc8SxXG4gICAgICogQHJldHVybnMgaXNibiBudW1hcmFzxLFuYSBnw7ZyZSBpbGdpbGkga2l0YWLEsSBCb29rIG5lc25lc2kgb2xhcmFrIGdlcmkgZMO2bmTDvHLDvHJcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Qm9vayhpc2JuOiBzdHJpbmcpOiBCb29rIHtcbiAgICAgICAgLy9CdXJhZGFuIG51bGwgYmlyIGRlxJ9lciBkZSBkw7ZuZWJpbGVjZcSfaSBpw6dpbiBoYXRhIHZlcml5b3JcbiAgICAgICAgLy9hbWEgYml6IHNvbmRha2kgISBvcGVyYXTDtnLDvCBpbGUgbnVsbCBkZcSfZXIgZMO2bm1leWVjZWsgZGl5ZSBnYXJhbnRpIHZlcml5b3J1elxuICAgICAgICByZXR1cm4gdGhpcy5ib29rTGlzdC5maW5kKGIgPT4gYi5pc2JuID09PSBpc2JuKSE7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QWxsQm9va3NEYXRhKCk6IFByb21pc2U8QXJyYXk8Qm9vaz4+IHtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYm9va0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zdCBnZXRSZXN1bHQgPSA8QXJyYXk8Qm9vaz4+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDQpKTtcbiAgICAgICAgcmV0dXJuIGdldFJlc3VsdDtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVCb29rKGI6IEJvb2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5ib29rQXBpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBpc2JuOiBiLmlzYm4sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBiLmF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgcGFnZXM6IGIucGFnZXMsXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hZZWFyOiBiLnB1Ymxpc2hZZWFyLFxuICAgICAgICAgICAgICAgICAgICBib29rUHJpY2VDcmVhdGVEdG86e1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6Yi5ib29rUHJpY2UucHJpY2UgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN0IHNlcnZpc2luZGVuIGTDtm5lbiBjZXZhcCA9PlwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5ib29rTGlzdCA9IGF3YWl0IHRoaXMuZ2V0QWxsQm9va3NEYXRhKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IENhbmNlbCB9IGZyb20gXCIuLi9kb21haW4vY2FuY2VsXCI7XG5cbmV4cG9ydCBjbGFzcyBDYW5jZWxTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9jYW5jZWxsZWRMaXN0OiBBcnJheTxDYW5jZWw+O1xuICAgIGNhbmNlbFNhbGVBcGk6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3NhbGVzJztcbiAgICBjYW5jZWxSZW50QXBpOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9yZW50cyc7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW5jZWxsZWRMaXN0OiBBcnJheTxDYW5jZWw+KSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZExpc3QgPSBjYW5jZWxsZWRMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjYW5jZWxsZWRTYWxlc0xpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxDYW5jZWxTYWxlPn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGNhbmNlbGxlZExpc3QoKTogQXJyYXk8Q2FuY2VsPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxsZWRMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBjYW5jZWxsZWRTYWxlc0xpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PENhbmNlbFNhbGU+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgY2FuY2VsbGVkTGlzdCh2YWx1ZTogQXJyYXk8Q2FuY2VsPikge1xuICAgICAgICB0aGlzLl9jYW5jZWxsZWRMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGN1bGF0ZURpZmZIb3VycyhkMTogRGF0ZSwgZDI6IERhdGUpOiBudW1iZXIge1xuXG4gICAgICAgIGxldCBkaWZmTWlsaXM6IG51bWJlciA9IChkMS5nZXRUaW1lKCkgLSBkMi5nZXRUaW1lKCkpOy8vIG1pbGkgc2Vjb25kc1xuICAgICAgICBsZXQgZGlmZkhvdXIgPSBNYXRoLmZsb29yKGRpZmZNaWxpcyAvIDEwMDAgLyA2MCAvIDYwKTsgLy8gLzEwMDAgPiBzZWNvbmQgLyA2MCA+IG1pbiAvIDYwID4gaG91clxuICAgICAgICByZXR1cm4gZGlmZkhvdXI7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbmNlbFNhbGUoY2FuY2VsOiBDYW5jZWwpOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyID0gdGhpcy5jYWxjdWxhdGVDYW5jZWxTYWxlUmVmdW5kKGNhbmNlbCk7XG4gICAgICAgIGNhbmNlbC5yZWZ1bmQgPSByZWZ1bmQ7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkTGlzdC5wdXNoKGNhbmNlbCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGN1bGF0ZUNhbmNlbFNhbGVSZWZ1bmQoY2FuY2VsU2FsZTogQ2FuY2VsKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGRpZmYgPSB0aGlzLmNhbGN1bGF0ZURpZmZIb3VycyhjYW5jZWxTYWxlLmNhbmNlbGVkRGF0ZVRpbWUsIGNhbmNlbFNhbGUuY2FuY2VsVHlwZS5vcGVyYXRpb25EYXRlVGltZSlcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyO1xuXG4gICAgICAgIGlmIChkaWZmID4gMjQpIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IGNhbmNlbFNhbGUuY2FuY2VsVHlwZS50b3RhbCAqIDAuNzU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxTYWxlLmNhbmNlbFR5cGUudG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZnVuZDtcbiAgICB9XG5cbiAgICBhc3luYyBjYW5jZWxTYWxlTW9jayhvcGVyYXRpb25OdW1iZXI6IHN0cmluZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmNhbmNlbFNhbGVBcGkgKyBcIi9cIiArIG9wZXJhdGlvbk51bWJlciwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vVG9kbyBzYWxlIG1vY2sgc2VydmlzaW5lIGRlbGV0ZSBpc3RlxJ9pIGF0xLFwIG8gc2FsZSBuZXNuZXNpbmkgc2lsZWNla1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAvLyBEZWxldGUgacWfbGVtbmRlIC5qc29uIMWfZWtsxZ9uZGUgc2VyaWxpemUgeWFwxLFsYW1heiwgaGF0YSB2ZXJpclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgcHVibGljIGNhbmNlbFJlbnQoY2FuY2VsOiBDYW5jZWwpIHtcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyID0gdGhpcy5jYWxjdWxhdGVDYW5jZWxSZW50UmVmdW5kKGNhbmNlbCk7XG4gICAgICAgIGNhbmNlbC5yZWZ1bmQgPSByZWZ1bmQ7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkTGlzdC5wdXNoKGNhbmNlbCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGN1bGF0ZUNhbmNlbFJlbnRSZWZ1bmQoY2FuY2VsUmVudDogQ2FuY2VsKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGRpZmYgPSB0aGlzLmNhbGN1bGF0ZURpZmZIb3VycyhjYW5jZWxSZW50LmNhbmNlbGVkRGF0ZVRpbWUsIGNhbmNlbFJlbnQuY2FuY2VsVHlwZS5vcGVyYXRpb25EYXRlVGltZSlcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyO1xuXG4gICAgICAgIGlmIChkaWZmID4gMjQpIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IGNhbmNlbFJlbnQuY2FuY2VsVHlwZS50b3RhbCAqIDAuNzU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxSZW50LmNhbmNlbFR5cGUudG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZnVuZDtcbiAgICB9XG5cbiAgICBhc3luYyBjYW5jZWxSZW50TW9jayhvcGVyYXRpb25OdW1iZXI6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5jYW5jZWxSZW50QXBpICsgXCIvXCIgKyBvcGVyYXRpb25OdW1iZXIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuLi9kb21haW4vY3VzdG9tZXJcIjtcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfY3VzdG9tZXJMaXN0OiBBcnJheTxDdXN0b21lcj47XG4gICAgcHJpdmF0ZSBjdXN0b21lckFwaTogc3RyaW5nID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL2N1c3RvbWVyc1wiO1xuXG4gICAgY29uc3RydWN0b3IoY3VzdG9tZXJMaXN0OiBBcnJheTxDdXN0b21lcj4pIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJMaXN0ID0gY3VzdG9tZXJMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjdXN0b21lckxpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxDdXN0b21lcj59XG4gICAgICovXG4gICAgcHVibGljIGdldCBjdXN0b21lckxpc3QoKTogQXJyYXk8Q3VzdG9tZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbWVyTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY3VzdG9tZXJMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxDdXN0b21lcj59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBjdXN0b21lckxpc3QodmFsdWU6IEFycmF5PEN1c3RvbWVyPikge1xuICAgICAgICB0aGlzLl9jdXN0b21lckxpc3QgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ3VzdG9tZXIobmV3Q3VzdG9tZXI6IEN1c3RvbWVyKSB7XG4gICAgICAgIHRoaXMuY3VzdG9tZXJMaXN0LnB1c2gobmV3Q3VzdG9tZXIpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIHB1YmxpYyBnZXRDdXN0b21lckluZm8oaWQ6IG51bWJlcik6IEN1c3RvbWVyIHwgdW5kZWZpbmVkIHtcbiAgICBcbiAgICAgICAgICAgIGxldCBjdXN0b21lciA9IHRoaXMuY3VzdG9tZXJMaXN0LmZpbmQoY3VzdG9tZXIgPT4gY3VzdG9tZXIuaWQgPT09IGlkKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChjdXN0b21lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b21lcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBwdWJsaWMgaXNWYWxpZEN1c3RvbWVyKGN1c3RvbWVySWQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIFxuICAgICAgICAgICAgbGV0IGlzVmFsaWQgPSB0aGlzLmN1c3RvbWVyTGlzdC5zb21lKGN1c3RvbWVyID0+IGN1c3RvbWVyLmlkID09PSBjdXN0b21lcklkKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICovXG5cbiAgICBhc3luYyBhZGRDdXN0b21lck1vY2sobmV3Q3VzdG9tZXI6IEN1c3RvbWVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY3VzdG9tZXJBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ld0N1c3RvbWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN1ck5hbWU6IG5ld0N1c3RvbWVyLnN1ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBuZXdDdXN0b21lci5waG9uZU51bWJlclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3Qgc2VydmlzaW5kZW4gZMO2bmVuIGNldmFwID0+XCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IHN0b2NrU2VydmljZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgUmVudCB9IGZyb20gXCIuLi9kb21haW4vcmVudFwiO1xuaW1wb3J0IHsgUmVudENhcnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnQtY2FydFwiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi4vZG9tYWluL29yZGVyLWJvb2staXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgUmVudFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3JlbnRMaXN0OiBBcnJheTxSZW50PjtcblxuICAgIHByaXZhdGUgX3JlbnRDYXJ0OiBSZW50Q2FydDtcbiAgICBwdWJsaWMgcmVudEFwaSA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3JlbnRzJztcbiAgICByZWZ1bmRQZXJjZW50OiBudW1iZXI7XG5cblxuICAgIGNvbnN0cnVjdG9yKHJlbnRMaXN0OiBBcnJheTxSZW50PiwgcmVudENhcnQ6IFJlbnRDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gcmVudExpc3Q7XG4gICAgICAgIHRoaXMucmVmdW5kUGVyY2VudCA9IDAuNzU7XG4gICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gcmVudENhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8UmVudD59XG4gICAgICovXG4gICAgcHVibGljIGdldCByZW50TGlzdCgpOiBBcnJheTxSZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW50TGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudExpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJlbnQ+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVudExpc3QodmFsdWU6IEFycmF5PFJlbnQ+KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHJldHVybiB7UmVudENhcnR9XG4gICAgICovXG4gICAgcHVibGljIGdldCByZW50Q2FydCgpOiBSZW50Q2FydCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW50Q2FydDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcGFyYW0ge1JlbnRDYXJ0fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVudENhcnQodmFsdWU6IFJlbnRDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFJlbnQocmVudDogUmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbnRMaXN0LnB1c2gocmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2l0YXBsYXLEsW4gaGVwc2kgc2VwZXRlIGVrbGVuZGlrdGVuIHNvbnJhIHRvcGxtYSDDvGNyZXRpIGhlc2FwbGF1YW4gZm9ua3NpeW9uXG4gICAgICogQHBhcmFtIHJlbnQgS2l0YXBsYXLEsW4gbGlzdGVzaW5pbiBidWx1bmR1xJ91IG5lc25lXG4gICAgICogQHJldHVybnMgVG9wbGFtIMO8Y3JldFxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxjdWxhdGVUb3RhbChyZW50OiBSZW50KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHN1YlRvdGFsOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIC8vaXQgY2FuIGJlID0+IGxldCBlbnRyeSBvZiByZW50LmJvb2tBbmRRdWFudGl0eU1hcC5lbnRyaWVzKClcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiByZW50Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICBzdWJUb3RhbCArPSBpdGVtLmJvb2suYm9va1ByaWNlLnByaWNlICogaXRlbS5xdWFudGl0eVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1YlRvdGFsO1xuICAgIH1cblxuICAgIC8vIFIwNTEwMjIxNDU1MDkgPT4gZG9tYWluLlJlbnQgMDUuMTAuMjAyMiAxNDo1NS4wOVxuICAgIGdlbmVyYXRlUmVudE51bWJlcihjdXN0b21lcklkOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsZXQgcmVjZWlwdE51bWJlcjogc3RyaW5nID0gXCJSXCIgKyB0b2RheS5nZXREYXkoKS50b1N0cmluZygpICtcbiAgICAgICAgICAgIHRvZGF5LmdldE1vbnRoKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArXG4gICAgICAgICAgICB0b2RheS5nZXRIb3VycygpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSArXG4gICAgICAgICAgICB0b2RheS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSArIGN1c3RvbWVySWQudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVjZWlwdE51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZDEgS2l0YXBsYcSxbiBraXJhbMSxayBvbGFyYWsgYWzEsW5kxLHEn8SxIHRhcmloXG4gICAgICogQHBhcmFtIGQyIEtpdGFwbGFyxLFuIGdlcmkgZ2V0aXJpbGRpxJ9pIHRhcmloXG4gICAgICogQHJldHVybnMgxLBraSB0YXJpaCBhcmFzxLFuZGFraSBmYXJrIChzYWF0IG9sYXJhaylcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlRGlmZkhvdXJzKGQxOiBEYXRlLCBkMjogRGF0ZSk6IG51bWJlciB7XG5cbiAgICAgICAgbGV0IGRpZmZNaWxpczogbnVtYmVyID0gKGQxLmdldFRpbWUoKSAtIGQyLmdldFRpbWUoKSk7Ly8gbWlsaSBzZWNvbmRzXG4gICAgICAgIGxldCBkaWZmSG91ciA9IE1hdGguZmxvb3IoZGlmZk1pbGlzIC8gMTAwMCAvIDYwIC8gNjApOyAvLyAvMTAwMCA+IHNlY29uZCAvIDYwID4gbWluIC8gNjAgPiBob3VyXG4gICAgICAgIHJldHVybiBkaWZmSG91cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBLaXRhcCBpbGsga2lyYWxhbmTEscSfxLEgYW5kYSwgemFtYW7EsW5kYSBnZXRpcmlsZGnEn2kgZ2liaSBkw7zFn8O8bsO8bGVyZWsgdmVyaWxlY2VrIG9sYW4gdmFyc2F5xLFsYW4gZ2VyaSDDtmRlbWUgbWlrdGFyxLFcbiAgICAgKiBAcGFyYW0gcmVudCBIZXNhcGxhbmFjYWsgb2xhbiBnZXJpIMO2ZGVtZSBtaWt0YXLEsW7EsW4gacOnaW5kZSBidWx1bmR1xJ91IG5lc25lXG4gICAgICovXG4gICAgcHVibGljIGNhbGN1bGF0ZVJlZnVuZChyZW50OiBSZW50KTogdm9pZCB7XG4gICAgICAgIHJlbnQucmVmdW5kID0gcmVudC50b3RhbCAqIHRoaXMucmVmdW5kUGVyY2VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBLaXRhcCBraXJhbGFuZMSxLCBva3VuZHUgdmUgZ2VyaSBnZXRpcmlsZGnEn2kgemFtYW4gbmUga2FkYXIgZ2VyaSDDtmRlbWUgdmVyaWxlY2XEn2luaSBoZXNhcGxhclxuICAgICAqIEBwYXJhbSByZW50IEhlc2FwbGFuYWNhayBvbGFuIGdlcmkgw7ZkZW1lIG1pa3RhcsSxbsSxbiBpw6dpbmRlIGJ1bHVuZHXEn3UgbmVzbmVcbiAgICAgKiBAcmV0dXJucyBHZXJpIMO2ZGVtZSBtaWt0YXLEsVxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxjdWxhdGVSZWZ1bmRBbW91bnQocmVudDogUmVudCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmSG91cnMocmVudC5yZWZ1bmREYXRlLCByZW50Lm9wZXJhdGlvbkRhdGVUaW1lKSAvIDI0O1xuICAgICAgICBsZXQgcmVmdW5kOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKGRpZmYgPD0gMTQpIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IHJlbnQudG90YWwgKiAwLjc1O1xuICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPD0gMjQpIHtcbiAgICAgICAgICAgIGxldCBmaW5lID0gKDAuNzUgLSAoKGRpZmYgLSAxNCkgKiAwLjA1KSk7XG4gICAgICAgICAgICByZWZ1bmQgPSByZW50LnRvdGFsICogZmluZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IHJlbnQudG90YWwgKiAwLjI1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZnVuZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVudChyZW50TnVtYmVyOiBzdHJpbmcpOiBSZW50IHtcbiAgICAgICAgbGV0IHJlbnQgPSB0aGlzLnJlbnRMaXN0LmZpbmQocyA9PiBzLm9wZXJhdGlvbk51bWJlciA9PT0gcmVudE51bWJlcik7XG4gICAgICAgIHJldHVybiByZW50ITtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQgPSBjdXN0b21lcklkO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVudENhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBraXJhbGFubWF5YSDDp2FsxLHFn8SxbMSxeW9yLiBMw7x0ZmVuIHRlayBtw7zFn3RlcmkgacOnaW4gacWfbGVtIHlhcMSxbsSxelwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLnB1c2gobmV3IE9yZGVyQm9va0l0ZW1zKGJvb2ssIHF1YW50aXR5KSlcbiAgICAgICAgdGhpcy51cGRhdGVSZW50Q2FydCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVSZW50Q2FydCgpIHtcbiAgICAgICAgY29uc3QgcmVudENhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbnRDYXJ0XCIpO1xuICAgICAgICBjb25zdCBzdWJUb3RhbFNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsUmVudEFtb3VudFRsXCIpO1xuXG4gICAgICAgIGlmIChyZW50Q2FydCkge1xuXG4gICAgICAgICAgICBsZXQgcm93LCBjb2x1bW4sIHN1YlRvdGFsOiBudW1iZXIgPSAwO1xuXG4gICAgICAgICAgICB3aGlsZSAocmVudENhcnQubGFzdENoaWxkICYmIHJlbnRDYXJ0LmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICByZW50Q2FydC5yZW1vdmVDaGlsZChyZW50Q2FydC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVG90YWxTcGFuIS50ZXh0Q29udGVudCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xuXG4gICAgICAgICAgICAgICAgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICByb3cuY2xhc3NOYW1lID0gXCJyZW50LWNhcnQtcm93XCI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJyZW50LWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IHRoaXMucmVudENhcnQuY3VzdG9tZXJJZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJyZW50LWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGl0ZW0uYm9vay5uYW1lO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJyZW50LWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGl0ZW0ucXVhbnRpdHkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSAoaXRlbS5ib29rLmJvb2tQcmljZS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdyAmJiBzdWJUb3RhbFNwYW4pIHtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbCArPSB0LmJvb2suYm9va1ByaWNlLnByaWNlICogdC5xdWFudGl0eTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW50Q2FydC5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgICAgIHN1YlRvdGFsU3Bhbi50ZXh0Q29udGVudCA9IHN1YlRvdGFsLnRvU3RyaW5nKCkgKyBcIiBUTFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuXG4gICAgfVxuXG4gICAgcHVibGljIGNhcnRUb1JlbnQoKSB7XG4gICAgICAgIGxldCByZW50Q2FydDogUmVudENhcnQgPSB0aGlzLnJlbnRDYXJ0O1xuICAgICAgICBsZXQgcmVudCA9IG5ldyBSZW50KCk7XG5cbiAgICAgICAgcmVudC5vcmRlckJvb2tJdGVtcyA9IHJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zO1xuICAgICAgICByZW50LmN1c3RvbWVySWQgPSByZW50Q2FydC5jdXN0b21lcklkO1xuICAgICAgICByZW50Lm9wZXJhdGlvbk51bWJlciA9IHRoaXMuZ2VuZXJhdGVSZW50TnVtYmVyKHJlbnRDYXJ0LmN1c3RvbWVySWQpO1xuICAgICAgICByZW50Lm9wZXJhdGlvbkRhdGVUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmVudC50b3RhbCA9IHRoaXMuY2FsY3VsYXRlVG90YWwocmVudCk7XG4gICAgICAgIGxldCByRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJEYXRlLnNldERhdGUockRhdGUuZ2V0RGF0ZSgpICsgMTQpO1xuICAgICAgICByZW50LnJlZnVuZERhdGUgPSByRGF0ZTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVSZWZ1bmQocmVudCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSBvZiByZW50Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICBzdG9ja1NlcnZpY2UuaW5jcmVhc2VTdG9jayhpLmJvb2suaXNibiwgLWkucXVhbnRpdHkpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbnRDYXJ0ID0gbmV3IFJlbnRDYXJ0OyAvLyBzZXBldGkgYm/Fn2FsdFxuICAgICAgICB0aGlzLnVwZGF0ZVJlbnRDYXJ0KCk7XG4gICAgICAgIHRoaXMuYWRkUmVudE1vY2socmVudCk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkUmVudE1vY2socjogUmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnJlbnRBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheS5mcm9tKHIub3JkZXJCb29rSXRlbXMpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkOiByLmN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRhdGVUaW1lOiByLm9wZXJhdGlvbkRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25OdW1iZXI6IHIub3BlcmF0aW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogci50b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kRGF0ZTogci5yZWZ1bmREYXRlLFxuICAgICAgICAgICAgICAgICAgICByZWZ1bmQ6IHIucmVmdW5kXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBhcGlkYW4gZMO2bmVuIGNldmFwOlxcblwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiS2l0YXAga2lyYWxhbWEgacWfbGVtaSBiYcWfYXLEsXlsYSBnZXLDp2VrbGXFn21pxZ90aXIuXCIpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmnFn2luaXppIGtheWJldG5leWluaXouIEZpxZ8gbnVtYXJhbsSxejogXCIgKyByLm9wZXJhdGlvbk51bWJlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICAgICAgYWxlcnQoXCJLaXRhcCBraXJhbGFtYSBpxZ9sZW1pIHPEsXJhc8SxbmRhIGJpciBoYXRhIG9sdcWfdHUuIEzDvHRmZW4gdGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZWZ1bmRSZW50TW9jayhyOiBSZW50KSB7XG4gICAgICAgIC8vUEFUQ0ggQmVsaXJsaSBiaXIga2F5bmFrdGFraSB2ZXJpbGVyaW4gYmlyIGvEsXNtxLFuxLFuIGRlxJ9pxZ90aXJpbG1lc2kgacOnaW4ga3VsbGFuxLFsYW4gbWV0b2R0dXIuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMucmVudEFwaSArIFwiL1wiICsgci5vcGVyYXRpb25OdW1iZXIsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICByZWZ1bmREYXRlOiByLnJlZnVuZERhdGUsXG4gICAgICAgICAgICAgICAgICAgIHJlZnVuZDogci5yZWZ1bmRcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gci5yZWZ1bmQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgc3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuLi9kb21haW4vb3JkZXItYm9vay1pdGVtXCI7XG5pbXBvcnQgeyBTYWxlQ2FydCB9IGZyb20gXCIuLi9kb21haW4vc2FsZS1jYXJ0XCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfc2FsZUxpc3Q6IEFycmF5PFNhbGU+O1xuICAgIHByaXZhdGUgX3NhbGVDYXJ0OiBTYWxlQ2FydDtcbiAgICBwdWJsaWMgc2FsZUFwaSA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3NhbGVzJztcblxuICAgIGNvbnN0cnVjdG9yKHNhbGVMaXN0OiBBcnJheTxTYWxlPiwgc2FsZUNhcnQ6IFNhbGVDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3NhbGVMaXN0ID0gc2FsZUxpc3Q7XG4gICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gc2FsZUNhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNhbGVMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8U2FsZT59XG4gICAgICovXG4gICAgcHVibGljIGdldCBzYWxlTGlzdCgpOiBBcnJheTxTYWxlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYWxlTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2FsZUxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFNhbGU+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2FsZUxpc3QodmFsdWU6IEFycmF5PFNhbGU+KSB7XG4gICAgICAgIHRoaXMuX3NhbGVMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHJldHVybiB7QXJyYXk8U2FsZUNhcnQ+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2FsZUNhcnQoKTogU2FsZUNhcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUNhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtBcnJheTxTYWxlQ2FydD59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBzYWxlQ2FydCh2YWx1ZTogU2FsZUNhcnQpIHtcbiAgICAgICAgdGhpcy5fc2FsZUNhcnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU2FsZShzYWxlOiBTYWxlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2FsZUxpc3QucHVzaChzYWxlKTtcblxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvdGFsKHNhbGU6IFNhbGUpOiBudW1iZXIge1xuICAgICAgICBsZXQgc3ViVG90YWwgPSAwLjA7XG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2Ygc2FsZS5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gZW50cnkuYm9vay5ib29rUHJpY2UucHJpY2UgKiBlbnRyeS5xdWFudGl0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbGVOdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiU1wiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1vbnRoKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEhvdXJzKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1pbnV0ZXMoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkgKyBjdXN0b21lcklkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpcHROdW1iZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNhbGUoc2FsZU51bWJlcjogc3RyaW5nKTogU2FsZSB7XG4gICAgICAgIGxldCBzYWxlID0gdGhpcy5zYWxlTGlzdC5maW5kKHMgPT4gcy5vcGVyYXRpb25OdW1iZXIgPT09IHNhbGVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gc2FsZSE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVNhbGUoc2FsZTogU2FsZSkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNhbGVMaXN0LmluZGV4T2Yoc2FsZSk7XG4gICAgICAgIHRoaXMuc2FsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5jdXN0b21lcklkICE9PSBjdXN0b21lcklkKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJGYXJrbMSxIG3DvMWfdGVyaXllIGtpdGFwIHNhdMSxbG1heWEgw6dhbMSxxZ/EsWzEsXlvci4gTMO8dGZlbiB0ZWsgbcO8xZ90ZXJpIGnDp2luIGnFn2xlbSB5YXDEsW7EsXpcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcmRlckJvb2tJdGVtczogT3JkZXJCb29rSXRlbXMgPSBuZXcgT3JkZXJCb29rSXRlbXMoYm9vaywgcXVhbnRpdHkpO1xuICAgICAgICB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zLnB1c2gob3JkZXJCb29rSXRlbXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVNhbGVDYXJ0KCkge1xuICAgICAgICBjb25zdCBzYWxlQ2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2FsZUNhcnRcIik7XG4gICAgICAgIGNvbnN0IHN1YlRvdGFsU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxTYWxlQW1vdW50VGxcIik7XG5cbiAgICAgICAgaWYgKHNhbGVDYXJ0KSB7XG5cbiAgICAgICAgICAgIGxldCByb3csIGNvbHVtbiwgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChzYWxlQ2FydC5sYXN0Q2hpbGQgJiYgc2FsZUNhcnQuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHNhbGVDYXJ0LnJlbW92ZUNoaWxkKHNhbGVDYXJ0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJUb3RhbFNwYW4hLnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1yb3dcIjtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gdGhpcy5zYWxlQ2FydC5jdXN0b21lcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5ib29rLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5xdWFudGl0eS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IChpdGVtLmJvb2suYm9va1ByaWNlLnByaWNlICogaXRlbS5xdWFudGl0eSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ICYmIHN1YlRvdGFsU3Bhbikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsICs9IHQuYm9vay5ib29rUHJpY2UucHJpY2UgKiB0LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNhbGVDYXJ0LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICAgICAgc3ViVG90YWxTcGFuLnRleHRDb250ZW50ID0gc3ViVG90YWwudG9TdHJpbmcoKSArIFwiIFRMXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY2FydFRvU2FsZSgpOiBhbnkge1xuICAgICAgICBsZXQgc2FsZUNhcnQ6IFNhbGVDYXJ0ID0gdGhpcy5zYWxlQ2FydDtcbiAgICAgICAgbGV0IHNhbGUgPSBuZXcgU2FsZSgpO1xuXG4gICAgICAgIHNhbGUub3JkZXJCb29rSXRlbXMgPSBzYWxlQ2FydC5vcmRlckJvb2tJdGVtcztcbiAgICAgICAgc2FsZS5jdXN0b21lcklkID0gc2FsZUNhcnQuY3VzdG9tZXJJZDtcbiAgICAgICAgc2FsZS5vcGVyYXRpb25OdW1iZXIgPSB0aGlzLmdlbmVyYXRlU2FsZU51bWJlcihzYWxlQ2FydC5jdXN0b21lcklkKTtcbiAgICAgICAgc2FsZS5vcGVyYXRpb25EYXRlVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHNhbGUudG90YWwgPSB0aGlzLmNhbGN1bGF0ZVRvdGFsKHNhbGUpO1xuXG4gICAgICAgIGZvciAobGV0IHEgb2Ygc2FsZS5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgc3RvY2tTZXJ2aWNlLmluY3JlYXNlU3RvY2socS5ib29rLmlzYm4sIC0gcS5xdWFudGl0eSlcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdWNjZXNzID0gdGhpcy5jcmVhdGVTYWxlKHNhbGUpO1xuICAgICAgICB0aGlzLnNhbGVDYXJ0ID0gbmV3IFNhbGVDYXJ0KCk7IC8vIHNlcGV0aSBib8WfYWx0XG4gICAgICAgIHRoaXMudXBkYXRlU2FsZUNhcnQoKTtcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlU2FsZShzOiBTYWxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc2FsZUFwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJCb29rSXRlbXM6IEFycmF5LmZyb20ocy5vcmRlckJvb2tJdGVtcyksXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IHMuY3VzdG9tZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uRGF0ZVRpbWU6IHMub3BlcmF0aW9uRGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbk51bWJlcjogcy5vcGVyYXRpb25OdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBzLnRvdGFsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN0IGFwaWRhbiBkw7ZuZW4gY2V2YXA6XFxuXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJLaXRhcCBzYXTEscWfIGnFn2xlbWkgYmHFn2FyxLF5bGEgZ2Vyw6dla2xlxZ9tacWfdGlyLlwiKTtcbiAgICAgICAgICAgICAgICBhbGVydChcIkZpxZ9pbml6aSBrYXliZXRtZXlpbml6LiBGacWfIE51bWFyYXPEsTogXCIgKyBzLm9wZXJhdGlvbk51bWJlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBpc0V4aXN0U2FsZShvcGVyYXRpb25OdW1iZXI6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc2FsZUFwaSArIFwiL1wiICsgb3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBhcGlkYW4gZMO2bmVuIGNldmFwOlxcblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi4vZG9tYWluL3N0b2NrXCI7XG5cbmV4cG9ydCBjbGFzcyBTdG9ja1NlcnZpY2Uge1xuICAgIHByaXZhdGUgX3N0b2NrTGlzdDogQXJyYXk8U3RvY2s+O1xuICAgIHByaXZhdGUgc3RvY2tBcGk6IHN0cmluZyA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9zdG9ja3NcIjtcblxuICAgIGNvbnN0cnVjdG9yKHN0b2NrTGlzdDogQXJyYXk8U3RvY2s+KSB7XG4gICAgICAgIHRoaXMuX3N0b2NrTGlzdCA9IHN0b2NrTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgc3RvY2tMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8U3RvY2s+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3RvY2tMaXN0KCk6IEFycmF5PFN0b2NrPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9ja0xpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHN0b2NrTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8U3RvY2s+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc3RvY2tMaXN0KHZhbHVlOiBBcnJheTxTdG9jaz4pIHtcbiAgICAgICAgdGhpcy5fc3RvY2tMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqICFhdHRlbnRpb24sICppbXBvcnRhbnQsID9xdWVzdGlvbiwgVE9ET1xuICAgICAqICEgw5ZuY2VsaWtsZSBpbmNyZWFzZVN0b2NrIGZvbmtzaXlvbnVuZGFuIGZhcmtsxLEgYmlyIGnFnyB5YXDEsXlvcixcbiAgICAgKiAqIEtpdGFwIGhlbsO8eiBla2xlbmRpa3RlbiBzb25yYSBoZW1lbiBnaXJpeW9yLFxuICAgICAqID8gS2l0YXAgaWxrIGRlZmEgZWtsZW5kaXlzZSBidSBmb25rc2l5b24gbXUgw6dhbMSxxZ9hY2FrID8gRVZFVC5cbiAgICAgKiBUT0RPIGluY3JlYXNlU3RvY2sgZm9ua3NpeW9udW51IGluY2VsZVxuICAgICAqIEVsaW1pemRlIGhpw6cgc3RvY2sga2F5ZMSxL25lc25lc2kgeW9rLCB5ZW5pIGthecSxdC9uZXNuZSBvbHXFn3R1cnV5b3J1elxuICAgICAqIFllbmkgZWtsZW5lbiBraXRhYmEgc3RvayBla2xlbWUgacWfbGVtaVxuICAgICAqIEBwYXJhbSBpc2JuICBzdG9rIGVrbGVuZWNlayBvbGFuIGtpdGFixLFuIGlzYm4gbnVtYXJhc8SxXG4gICAgICogQHBhcmFtIHNoZWxmTnVtYmVyIHN0b2sgZWtsZW5lY2VrIG9sYW4ga2l0YWLEsW4gcmFmIG51bWFyYXPEsVxuICAgICAqIEBwYXJhbSBxdWFudGl0eSBraXRhcGRhbiBrYcOnIGFkZXQgc3RvxJ9hIGVrbGVuZWNla1xuICAgICAqL1xuICAgIHB1YmxpYyBhZGRTdG9jayhpc2JuOiBzdHJpbmcsIHNoZWxmTnVtYmVyOiBzdHJpbmcsIHF1YW50aXR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgbGV0IG5ld1N0b2NrID0gbmV3IFN0b2NrKGlzYm4sIHF1YW50aXR5LCBzaGVsZk51bWJlcik7XG4gICAgICAgICAgICB0aGlzLnN0b2NrTGlzdC5wdXNoKG5ld1N0b2NrKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBLaXRhcCB6YXRlbiBla2xpLCBoYWxpaGF6xLFyZGEgdmFyLCBkYWhhIHNvbnJhIHllbmkga2l0YXBsYXIgZ2VsZGksc3RvayBhcnTEsXJtYSBpxZ9sZW1pLFxuICAgICAqIEBwYXJhbSBpc2JuIHN0b2sgZWtsZW5lY2VrIG9sYW4ga2l0YWLEsW4gaXNibiBudW1hcmFzxLFcbiAgICAgKiBAcGFyYW0gcXVhbnRpdHkgc3RvayBla2xlbmVjZWsgb2xhbiBraXRhYsSxbiBhZGVkaVxuICAgICAqIEByZXR1cm5zIGnFn2xlbSBnZXLDp2VrbGXFn21lc2kgZHVydW11bmRhIHRydWUsIGRpxJ9lciBkdXJ1bWRhIGZhbHNlIGTDtm5lclxuICAgICAqL1xuICAgIHB1YmxpYyBpbmNyZWFzZVN0b2NrKGlzYm46IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgc3RvY2sgPSB0aGlzLmdldFN0b2NrKGlzYm4pO1xuICAgICAgICBpZiAoc3RvY2spIHtcbiAgICAgICAgICAgIHN0b2NrLnF1YW50aXR5ID0gKHN0b2NrLnF1YW50aXR5ICsgcXVhbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzdG9jayBuZXNuZXNpbmkgZ2VyaSBkw7ZuZMO8csO8clxuICAgICAqIEBwYXJhbSBpc2JuIHN0b2NrIG5lc25lc2kgZ2V0aXJpbGVjZWsgb2xhbiBuZXNuZW5pbiBpc2JuIG5vc3UsXG4gICAgICogQHJldHVybnMgZGIgb2xhbiBzdG9jayBuZXNuZW5zaSBnZXJpIGTDtm5lciwgZGIgZGUgeW9rIGlzZSB0aHJvdyBpbGUgaGF0YSBmxLFybGF0xLFybMSxclxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdG9jayhpc2JuOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHN0b2NrID0gdGhpcy5zdG9ja0xpc3QuZmluZChzID0+IHMuaXNibiA9PT0gaXNibik7XG4gICAgICAgIGlmIChzdG9jaykge1xuICAgICAgICAgICAgcmV0dXJuIHN0b2NrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN0b2NrUXVhbnRpdHkoaXNibjogc3RyaW5nKTogTnVtYmVyIHtcbiAgICAgICAgbGV0IHM6IFN0b2NrIHwgdW5kZWZpbmVkID0gdGhpcy5zdG9ja0xpc3QuZmluZChzdCA9PiBzdC5pc2JuID09PSBpc2JuKTtcbiAgICAgICAgY29uc29sZS5sb2cocyk7XG5cbiAgICAgICAgaWYgKHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHMucXVhbnRpdHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEXEn2VyIHN0b2sgbmVzbmVzaSB5b2sgaXNlIHN0b2sgbmVzbmVzaSwgYmVsaXJ0aWxlbiBhZGV0IGthZGFyIHN0b2sgYmlsZ2lzaSBpbGUgYmVyYWJlciBla2xlbml5b3IuXG4gICAgICogxLDFn3RlIGJ1IG9sdcWfdHVybWEvY3JlYXRlIGnFn2xlbWkgYnVyYWRhIHlhcMSxbMSxeW9yLlxuICAgICAqIEBwYXJhbSBzIGluZGV4LnRzIGRvc3lhc8SxbmRhbiBnZWxlbiBzdG9rIG5lc25lc2lcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVTdG9jayhzOiBTdG9jaywgYjogQm9vayk6IFByb21pc2U8Qm9vbGVhbiB8IHVuZGVmaW5lZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnN0b2NrQXBpICsgXCIvXCIgKyBiLmlkLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBpZDogYi5pZCxcbiAgICAgICAgICAgICAgICAgICAgaXNibjogcy5pc2JuLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogcy5xdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgc2hlbGZOdW1iZXI6IHMuc2hlbGZOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGJvb2s6IGJcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVidWdnZXI7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicgKyBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRBbGxTdG9ja3NEYXRhKCk6IFByb21pc2U8QXJyYXk8U3RvY2s+PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zdG9ja0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zdCBnZXRSZXN1bHQgPSA8QXJyYXk8U3RvY2s+PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCA0KSk7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvayBla2xlbmlya2VuIGXEn2VyIHN0b2sgbmVzbmVzaSBkYWhhIMO2bmNlZGVuIHZhciBpc2UsIHN0b2sgYXJ0xLFyxLFtxLFuxLEgcHV0IGlsZSB5YXBhY2HEn8SxelxuICAgICAqIEBwYXJhbSBzIGluZGV4LnRzIGRvc3lhc8SxbmRhbiBnZWxlbiBzdG9rIG5lc25lc2lcbiAgICAgKi9cbiAgICBhc3luYyBpbmNyZWFzZVN0b2NrTW9jayhzOiBTdG9jaykge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc3RvY2tBcGkgKyBcIi9cIiArIHMuaXNibiwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBpc2JuOiBzLmlzYm4sXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBzLnF1YW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBzaGVsZk51bWJlcjogcy5zaGVsZk51bWJlclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwidGhpcyIsIl9ib29rcyIsIkFycmF5IiwiX3N0b2NrcyIsIl9jdXN0b21lcnMiLCJfc2FsZXMiLCJfcmVudHMiLCJfYm9va1NwZWNpZmljYXRpb25zIiwiX2NhbmNlbHMiLCJfc2FsZUNhcnQiLCJTYWxlQ2FydCIsIl9yZW50Q2FydCIsIlJlbnRDYXJ0IiwiZ2V0Qm9va3NMaXN0IiwiZ2V0U3RvY2tzTGlzdCIsImdldEN1c3RvbWVyc0xpc3QiLCJnZXRTYWxlc0xpc3QiLCJnZXRSZW50cyIsImdldEJvb2tTcGVjaWZpY2F0aW9ucyIsImdldENhbmNhbGVkU2FsZXMiLCJnZXRTYWxlQ2FydCIsImdldFJlbnRDYXJ0Iiwic2V0U2FsZUNhcnQiLCJ2YWx1ZSIsInNldFJlbnRDYXJ0IiwiaWQiLCJfaWQiLCJwcmljZSIsIl9wcmljZSIsInN0YXJ0RGF0ZSIsIl9zdGFydERhdGUiLCJlbmREYXRlIiwiX2VuZERhdGUiLCJpc2JuIiwibmFtZSIsImF1dGhvciIsInB1Ymxpc2hZZWFyIiwicGFnZXMiLCJib29rUHJpY2UiLCJfbmFtZSIsIl9hdXRob3IiLCJfaXNibiIsIl9wdWJsaXNoWWVhciIsIl9wYWdlcyIsIl9ib29rUHJpY2UiLCJzdXJOYW1lIiwicGhvbmVOdW1iZXIiLCJfc3VyTmFtZSIsIl9waG9uZU51bWJlciIsImJvb2siLCJxdWFudGl0eSIsIl9ib29rIiwiX3F1YW50aXR5IiwidG9KU09OIiwib3JkZXJCb29rSXRlbXMiLCJSZW50IiwiU2FsZSIsInNhbGVCb29rSXRlbXMiLCJvcGVyYXRpb25EYXRlVGltZSIsImN1c3RvbWVySWQiLCJvcGVyYXRpb25OdW1iZXIiLCJ0b3RhbCIsInJlZnVuZERhdGUiLCJyZWZ1bmQiLCJzdXBlciIsIl9yZWZ1bmREYXRlIiwiX3JlZnVuZCIsIl9vcmRlckJvb2tJdGVtcyIsIl9jdXN0b21lcklkIiwiX29wZXJhdGlvbkRhdGVUaW1lIiwiX29wZXJhdGlvbk51bWJlciIsIl90b3RhbCIsInNoZWxmTnVtYmVyIiwiX3NoZWxmTnVtYmVyIiwiaW5pdGlsaWF6ZURhdGEiLCJib29rU2VydmljZSIsImdldEFsbEJvb2tzRGF0YSIsInN0b2NrU2VydmljZSIsImdldEFsbFN0b2Nrc0RhdGEiLCJjb25zb2xlIiwibG9nIiwiYm9va0xpc3QiLCJzdG9ja0xpc3QiLCJzaG93QW5kSGlkZSIsImJ0bklkIiwiZWxlbWVudElkIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiZGIiLCJEYXRhQmFzZSIsIkJvb2tTZXJ2aWNlIiwiY3VzdG9tZXJTZXJ2aWNlIiwiQ3VzdG9tZXJTZXJ2aWNlIiwiY2FuY2VsU2VydmljZSIsIkNhbmNlbFNlcnZpY2UiLCJyZW50U2VydmljZSIsIlJlbnRTZXJ2aWNlIiwic2FsZVNlcnZpY2UiLCJTYWxlU2VydmljZSIsIlN0b2NrU2VydmljZSIsImFkZEN1c3RvbWVyIiwiQ3VzdG9tZXIiLCJhZGRCb29rRm9ybSIsIm9uc3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRpdGxlIiwiZ2V0IiwiQm9va1ByaWNlIiwiQm9vayIsInNvbWUiLCJvYmoiLCJjcmVhdGVCb29rIiwiYWxlcnQiLCJyZXNldCIsImxpc3RCb29rcyIsImFkZFN0b2NrRm9ybSIsInF1YW50dGl5Iiwic3RvY2siLCJTdG9jayIsImIiLCJnZXRCb29rIiwiY3JlYXRlU3RvY2siLCJhZGRDdXN0b21lckZvcm0iLCJzdXJuYW1lIiwiY3VzdG9tZXIiLCJhZGRDdXN0b21lck1vY2siLCJzYWxlQm9va0Zvcm0iLCJwYXJzZUludCIsImdldFN0b2NrIiwiYWRkQm9va1RvQ2FydCIsImVycm9yIiwic2FsZUNhcnQiLCJsZW5ndGgiLCJjYXJ0VG9TYWxlIiwiY2FuY2VsU2FsZUZvcm0iLCJzYWxlTnVtYmVyIiwiaXNFeGlzdFNhbGUiLCJjYW5jZWxTYWxlTW9jayIsImNhbmNlbFJlbnRGb3JtIiwicmVudE51bWJlciIsImNhbmNlbFJlbnRNb2NrIiwicmVudEJvb2tGb3JtIiwicmVudENhcnQiLCJjYXJ0VG9SZW50IiwicmVmdW5kQm9va0Zvcm0iLCJsaXN0Qm9va3NEaXYiLCJyb3ciLCJjb2x1bW4iLCJsYXN0Q2hpbGQiLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwiZm9yRWFjaCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsInRvU3RyaW5nIiwiYXBwZW5kQ2hpbGQiLCJnZXRTdG9ja1F1YW50aXR5Iiwic2JpIiwicHVzaCIsIk9yZGVyQm9va0l0ZW1zIiwickRhdGUiLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJhIiwiY2FsY3VsYXRlUmVmdW5kQW1vdW50IiwicmVudExpc3QiLCJyZW50IiwiZ2V0UmVudCIsInJlZnVuZFJlbnRNb2NrIiwiYm9va1NwZWNpZmljYXRpb24iLCJib29rQXBpIiwiX2Jvb2tMaXN0IiwiX2Jvb2tTcGVjaWZpY2F0aW9uIiwiZmluZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQWNjZXB0Iiwib2siLCJFcnJvciIsInN0YXR1cyIsInJlc3VsdCIsImpzb24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJib2R5IiwiYm9va1ByaWNlQ3JlYXRlRHRvIiwiRXhjZXB0aW9uIiwiY2FuY2VsbGVkTGlzdCIsImNhbmNlbFNhbGVBcGkiLCJjYW5jZWxSZW50QXBpIiwiX2NhbmNlbGxlZExpc3QiLCJjYWxjdWxhdGVEaWZmSG91cnMiLCJkMSIsImQyIiwiZGlmZk1pbGlzIiwiZ2V0VGltZSIsIk1hdGgiLCJmbG9vciIsImNhbmNlbFNhbGUiLCJjYW5jZWwiLCJjYWxjdWxhdGVDYW5jZWxTYWxlUmVmdW5kIiwiY2FuY2VsZWREYXRlVGltZSIsImNhbmNlbFR5cGUiLCJjYW5jZWxSZW50IiwiY2FsY3VsYXRlQ2FuY2VsUmVudFJlZnVuZCIsImN1c3RvbWVyTGlzdCIsImN1c3RvbWVyQXBpIiwiX2N1c3RvbWVyTGlzdCIsIm5ld0N1c3RvbWVyIiwicmVudEFwaSIsIl9yZW50TGlzdCIsInJlZnVuZFBlcmNlbnQiLCJhZGRSZW50IiwiY2FsY3VsYXRlVG90YWwiLCJzdWJUb3RhbCIsIml0ZW0iLCJnZW5lcmF0ZVJlbnROdW1iZXIiLCJ0b2RheSIsImdldERheSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiY2FsY3VsYXRlUmVmdW5kIiwiZGlmZiIsImZpbmUiLCJzIiwidXBkYXRlUmVudENhcnQiLCJzdWJUb3RhbFNwYW4iLCJpbmRleCIsInQiLCJpIiwiaW5jcmVhc2VTdG9jayIsImFkZFJlbnRNb2NrIiwiciIsImZyb20iLCJzYWxlTGlzdCIsInNhbGVBcGkiLCJfc2FsZUxpc3QiLCJhZGRTYWxlIiwic2FsZSIsImVudHJ5IiwiZ2VuZXJhdGVTYWxlTnVtYmVyIiwiZ2V0U2FsZSIsInJlbW92ZVNhbGUiLCJpbmRleE9mIiwic3BsaWNlIiwidXBkYXRlU2FsZUNhcnQiLCJxIiwic3VjY2VzcyIsImNyZWF0ZVNhbGUiLCJzdG9ja0FwaSIsIl9zdG9ja0xpc3QiLCJhZGRTdG9jayIsIm5ld1N0b2NrIiwic3QiLCJ1bmRlZmluZWQiLCJpbmNyZWFzZVN0b2NrTW9jayIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=