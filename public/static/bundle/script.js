(()=>{"use strict";var e={221:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataBase=void 0;const r=o(758),n=o(51);t.DataBase=class{constructor(){this._books=new Array,this._stocks=new Array,this._customers=new Array,this._sales=new Array,this._rents=new Array,this._bookSpecifications=new Array,this._cancels=new Array,this._saleCart=new n.SaleCart,this._rentCart=new r.RentCart}get getBooksList(){return this._books}get getStocksList(){return this._stocks}get getCustomersList(){return this._customers}get getSalesList(){return this._sales}get getRents(){return this._rents}get getBookSpecifications(){return this._bookSpecifications}get getCancaledSales(){return this._cancels}get getSaleCart(){return this._saleCart}get getRentCart(){return this._rentCart}set setSaleCart(e){this._saleCart=e}set setRentCart(e){this._rentCart=e}}},333:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BookPrice=void 0,t.BookPrice=class{get id(){return this._id}set id(e){this._id=e}get price(){return this._price}get startDate(){return this._startDate}get endDate(){return this._endDate}set price(e){this._price=e}set startDate(e){this._startDate=e}set endDate(e){this._endDate=e}}},934:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Book=void 0,t.Book=class{constructor(e,t,o,r,n,i){this._name=t,this._author=o,this._isbn=e,this._publishYear=r,this._pages=n,this._bookPrice=i}get id(){return this._id}set id(e){this._id=e}get isbn(){return this._isbn}get name(){return this._name}get author(){return this._author}get publishYear(){return this._publishYear}get pages(){return this._pages}get bookPrice(){return this._bookPrice}set isbn(e){this._isbn=e}set name(e){this._name=e}set author(e){this._author=e}set publishYear(e){this._publishYear=e}set pages(e){this._pages=e}set bookPrice(e){this._bookPrice=e}}},916:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Customer=void 0,t.Customer=class{constructor(e,t,o){this._name=e,this._surName=t,this._phoneNumber=o}get id(){return this._id}set id(e){this._id=e}get name(){return this._name}get surName(){return this._surName}get phoneNumber(){return this._phoneNumber}set name(e){this._name=e}set surName(e){this._surName=e}set phoneNumber(e){this._phoneNumber=e}}},767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OrderBookItems=void 0,t.OrderBookItems=class{constructor(e,t){this._book=e,this._quantity=t}get book(){return this._book}get quantity(){return this._quantity}set book(e){this._book=e}set quantity(e){this._quantity=e}toJSON(){return{book:this._book,quantity:this._quantity}}}},758:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RentCart=void 0,t.RentCart=class{constructor(){this.orderBookItems=new Array}}},961:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Rent=void 0;const r=o(354);class n extends r.Sale{constructor(e,t,o,r,n,i,a){super(e,o,t,r,n),this._refundDate=i,this._refund=a}get refundDate(){return this._refundDate}get refund(){return this._refund}set refundDate(e){this._refundDate=e}set refund(e){this._refund=e}}t.Rent=n},51:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SaleCart=void 0,t.SaleCart=class{constructor(){this.orderBookItems=new Array}}},354:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sale=void 0,t.Sale=class{constructor(e,t,o,r,n){this._orderBookItems=e,this._customerId=t,this._operationDateTime=o,this._operationNumber=r,this._total=n}get orderBookItems(){return this._orderBookItems}get customerId(){return this._customerId}get operationDateTime(){return this._operationDateTime}get operationNumber(){return this._operationNumber}get total(){return this._total}set orderBookItems(e){this._orderBookItems=e}set customerId(e){this._customerId=e}set operationDateTime(e){this._operationDateTime=e}set operationNumber(e){this._operationNumber=e}set total(e){this._total=e}}},72:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stock=void 0,t.Stock=class{constructor(e,t,o){this._quantity=e,this._shelfNumber=t,this._book=o}get id(){return this._id}set id(e){this._id=e}get book(){return this._book}set book(e){this._book=e}get quantity(){return this._quantity}get shelfNumber(){return this._shelfNumber}set quantity(e){this._quantity=e}set shelfNumber(e){this._shelfNumber=e}}},607:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.stockService=t.saleService=t.rentService=t.cancelService=t.customerService=t.bookService=void 0;const n=o(221),i=o(934),a=o(333),s=o(916),c=o(961),l=o(767),u=o(72),d=o(946),h=o(943),m=o(709),k=o(148),p=o(478),f=o(214);function v(){return r(this,void 0,void 0,(function*(){t.bookService.bookList=yield t.bookService.getAllBooksData(),t.stockService.stockList=yield t.stockService.getAllStocksData(),t.customerService.customerList=yield t.customerService.getAllCustomersData(),console.log(t.bookService.bookList),console.log(t.stockService.stockList),console.log(t.customerService.customerList),console.log("Data intiliazed.")}))}function y(e,t){const o=document.getElementById(t),r=document.getElementById(e);o&&r&&r.addEventListener("click",(()=>{"none"===o.style.display?o.style.display="block":o.style.display="none"}))}var g;g=new n.DataBase,t.bookService=new d.BookService(g.getBooksList,g.getBookSpecifications),t.customerService=new m.CustomerService(g.getCustomersList),t.cancelService=new h.CancelService(g.getCancaledSales),t.rentService=new k.RentService(g.getRents,g.getRentCart),t.saleService=new p.SaleService(g.getSalesList,g.getSaleCart),t.stockService=new f.StockService(g.getStocksList),console.log("Services intiliazed."),v(),y("addBookMenuItem","addBookSection"),y("showBooksMenuItem","listBooksSection"),y("addCustomerMenuItem","addCustomerSection"),y("addStockMenuItem","addStockSection"),y("saleBookMenuItem","saleBookSection"),y("rentBookMenuItem","rentBookSection"),y("cancelSaleMenuItem","cancelSaleSection"),y("cancelRentMenuItem","cancelRentSection"),y("refundBookMenuItem","refundBookSection"),y("rentNow","rentBookSection");const b=document.getElementById("add-book-form");null!=b&&(b.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(b),r=o.get("bookTitle"),n=o.get("bookAuthor"),s=o.get("bookIsbn"),c=o.get("bookPublishYear"),l=o.get("bookPages"),u=o.get("bookPrice"),d=new a.BookPrice;d.price=u;const h=new i.Book(s,r,n,c,l,d);if(!1===t.bookService.bookList.some((e=>e.isbn===h.isbn)))return(yield t.bookService.createBook(h))?(alert(h.isbn+" numaralı kitap Ekleme İşlemi Başarı İle Tamamlanmıştır."),b.reset(),E()):alert(h.isbn+" numaralı kitap Ekleme İşlemi Sırasında Bir Hata oluştu."),!1;alert("Aynı ISBN numrasına sahip ikinci bir kitap eklenemz.")})));const S=document.getElementById("add-stock-form");S&&(S.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(S),r=o.get("bookIsbnForAddStock"),n=o.get("stockQuantity"),i=o.get("shelfNumber"),a=t.bookService.bookList.find((e=>e.isbn===r));if(a){const e=new u.Stock(n,i,a);(yield t.stockService.createStock(e))&&(alert(r+" isbn numaralı kitaptan, "+n+" kadar sisteme stok eklenmiştir."),yield v(),yield E())}else alert("Stok eklenmeye çalışılan kitaba ait isbn numarası hatalıdır.");return S.reset(),!1})));const _=document.getElementById("add-customer-form");_&&(_.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(_),r=o.get("customerName"),n=o.get("customerSurname"),i=o.get("customerPhoneNumber"),a=new s.Customer(r,n,i);return(yield t.customerService.createCustomer(a))?(alert("Müşteri Ekleme İşlemi Başarı İle Tamamlanmıştır. "),_.reset()):alert("Müşteri Ekleme İşlemi Sırasında bir hata ile karşılıldı. "),!1})));const C=document.getElementById("sale-book-form");C&&(C.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(C),r=o.get("isbnForSale"),n=yield t.bookService.getBook(r),i=parseInt(o.get("customerIdForSale")),a=yield t.customerService.getCustomer(i),s=parseInt(o.get("quantityForSale"));try{if(n){let e=yield t.stockService.getStockByBookId(n.id);e?e.quantity>=s?a?t.saleService.addBookToCart(n,s,i):alert(i+" numaralı müşteri kayıtlı değildir."):alert(s+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${r} numaralı kitabın stoğu mevcut değildir.`)}else alert(r+" numaralı kitap yoktur.");return C.reset(),!1}catch(e){alert(e)}}))),document.getElementById("btnSale").addEventListener("click",(()=>{0===t.saleService.saleCart.orderBookItems.length?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):t.saleService.cartToSale()})),document.getElementById("showBooksMenuItem").addEventListener("click",(()=>{E()}));const B=document.getElementById("cancel-sale-form");B&&(B.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(B).get("saleNumberforCancel");!0===(yield t.saleService.isExistSale(o))?(yield t.cancelService.cancelSaleMock(o))?alert(o+" numaralı satış iptal edilmiştir."):alert(o+" numaralı satış iptal edilirken hata meydana geldi."):alert(o+" numaralı satış bulunamamıştır. Tekrar deneyiniz.")})));const I=document.getElementById("cancel-rent-form");I&&(I.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(I).get("rentNumberforCancel");(yield t.cancelService.cancelRentMock(o))?alert(o+" numaralı kiralama iptal edilmiştir."):alert(o+" numaralı kiralma bulunamamıştır. Tekrar deneyiniz.")})));const w=document.getElementById("rent-book-form");w&&(w.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(w),r=o.get("isbnForRent"),n=yield t.bookService.getBook(r),i=parseInt(o.get("customerIdForRent")),a=yield t.customerService.getCustomer(i),s=parseInt(o.get("quantityForRent"));try{if(n){const e=yield t.stockService.getStockByBookId(n.id);e?e.quantity>=s?a?t.rentService.addBookToCart(n,s,i):alert(i+" numaralı müşteri kayıtlı değildir."):alert(s+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${r} numaralı kitabın stoğu mevcut değildir. Önce stok ekleyiniz`)}else alert(r+" numaralı kitap yoktur.");return w.reset(),!1}catch(e){alert(e)}}))),document.getElementById("btnRent").addEventListener("click",(()=>{0===t.rentService.rentCart.orderBookItems.length?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):t.rentService.cartToRent()}));const D=document.getElementById("refund-book-form");function E(){return r(this,void 0,void 0,(function*(){t.bookService.bookList=yield t.bookService.getAllBooksData(),t.stockService.stockList=yield t.stockService.getAllStocksData();const e=document.getElementById("listBooks");if(e){let o,r;for(;e.lastChild&&e.children.length>1;)e.removeChild(e.lastChild);t.bookService.bookList.forEach((n=>{o=document.createElement("div"),o.className="row-list-book",r=document.createElement("div"),r.className="column-list-book",r.textContent=n.isbn.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book",r.textContent=n.name.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book",r.textContent=n.author.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book";let i=0;!0===t.stockService.stockList.some((e=>e.book.id===n.id))&&(i=t.stockService.stockList.find((e=>e.book.id===n.id)).quantity),r.textContent=i.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book",r.textContent=n.bookPrice.price.toString()+" ₺",o.appendChild(r),e.appendChild(o)}))}}))}D&&(D.onsubmit=e=>r(void 0,void 0,void 0,(function*(){let o=new Array;o.push(new l.OrderBookItems(yield t.bookService.getBook("123-45"),3));let r=new Date;r.setDate(r.getDate()+23);let n=new c.Rent(o,new Date,1,"R021122163045",123,r,0);n.refund=t.rentService.calculateRefundAmount(n),t.rentService.rentList.push(n),e.preventDefault();const i=new FormData(D).get("rentNumberforRefund");let a=t.rentService.getRent(i);if(a){let e=yield t.rentService.refundRentMock(a);e?(alert(a.operationNumber+" numaralı kiralama geri alınmıştır."),alert("Geri ödeme miktarı:"+e+" ₺ .")):alert(a.operationNumber+" numaralı kiralama iptal edilirken hata meydana geldi.")}else alert(i+" numaralı kiralama bulunamamıştır. Tekrar deneyiniz.")})))},946:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BookService=void 0,t.BookService=class{constructor(e,t){this.bookApi="http://localhost:3002/api/v1/books",this._bookList=e,this._bookSpecification=t}get bookList(){return this._bookList}get bookSpecification(){return this._bookSpecification}set bookList(e){this._bookList=e}set bookSpecification(e){this._bookSpecification=e}getBook(e){return o(this,void 0,void 0,(function*(){const t=yield fetch(this.bookApi+"/q?isbn="+e,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);return yield t.json()}))}getAllBooksData(){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.bookApi,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const t=yield e.json();return JSON.parse(JSON.stringify(t,null,4))}))}createBook(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.bookApi,{method:"POST",body:JSON.stringify({isbn:e.isbn,name:e.name,author:e.author,pages:e.pages,publishYear:e.publishYear,bookPriceCreateDto:{price:e.bookPrice.price}}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=yield t.json();return console.log("Rest servisinden dönen cevap =>"),console.log(e),this.bookList=yield this.getAllBooksData(),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}}},943:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelService=void 0,t.CancelService=class{constructor(e){this.cancelSaleApi="http://localhost:3002/api/v1/sales",this.cancelRentApi="http://localhost:3002/api/v1/rents",this._cancelledList=e}get cancelledList(){return this._cancelledList}set cancelledList(e){this._cancelledList=e}calculateDiffHours(e,t){let o=e.getTime()-t.getTime();return Math.floor(o/1e3/60/60)}cancelSale(e){let t=this.calculateCancelSaleRefund(e);e.refund=t,this.cancelledList.push(e)}calculateCancelSaleRefund(e){let t;return t=this.calculateDiffHours(e.canceledDateTime,e.cancelType.operationDateTime)>24?.75*e.cancelType.total:e.cancelType.total,t}cancelSaleMock(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.cancelSaleApi+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok)return console.log(t),!0;throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}cancelRent(e){let t=this.calculateCancelRentRefund(e);e.refund=t,this.cancelledList.push(e)}calculateCancelRentRefund(e){let t;return t=this.calculateDiffHours(e.canceledDateTime,e.cancelType.operationDateTime)>24?.75*e.cancelType.total:e.cancelType.total,t}cancelRentMock(e){return o(this,void 0,void 0,(function*(){const t=yield fetch(this.cancelRentApi+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});return!!t.ok&&(console.log(t),!0)}))}}},709:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerService=void 0,t.CustomerService=class{constructor(e){this.customerApi="http://localhost:3002/api/v1/customers",this._customerList=e}get customerList(){return this._customerList}set customerList(e){this._customerList=e}getAllCustomersData(){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.customerApi,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);return yield e.json()}))}createCustomer(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.customerApi,{method:"POST",body:JSON.stringify({name:e.name,surName:e.surName,phoneNumber:e.phoneNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=yield t.json();return console.log("Rest servisinden dönen cevap =>"),console.log(e),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}getCustomer(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.customerApi+"/"+e,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw alert(`Error! status: ${t.body}`),new Error(`Error! status: ${t.status}`);return yield t.json()}catch(e){return e instanceof Error?console.log("error message: ",e.message):console.log("unexpected error: ",e),null}}))}}},148:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RentService=void 0;const n=o(607),i=o(961),a=o(758),s=o(767);t.RentService=class{constructor(e,t){this.rentApi="http://localhost:3002/api/v1/rents",this._rentList=e,this.refundPercent=.75,this._rentCart=t}get rentList(){return this._rentList}set rentList(e){this._rentList=e}get rentCart(){return this._rentCart}set rentCart(e){this._rentCart=e}addRent(e){this.rentList.push(e)}calculateTotal(e){let t=0;for(let o of e.orderBookItems)t+=o.book.bookPrice.price*o.quantity;return t}generateRentNumber(e){let t=new Date;return"R"+t.getDay().toString()+t.getMonth().toString()+t.getFullYear().toString()+t.getHours().toString()+t.getMinutes().toString()+t.getSeconds().toString()+e.toString()}calculateDiffHours(e,t){let o=e.getTime()-t.getTime();return Math.floor(o/1e3/60/60)}calculateRefund(e){e.refund=e.total*this.refundPercent}calculateRefundAmount(e){let t,o=this.calculateDiffHours(e.refundDate,e.operationDateTime)/24;if(o<=14)t=.75*e.total;else if(o<=24){let r=.75-.05*(o-14);t=e.total*r}else t=.25*e.total;return t}getRent(e){return this.rentList.find((t=>t.operationNumber===e))}addBookToCart(e,t,o){if(0===this.rentCart.orderBookItems.length)this.rentCart.customerId=o;else if(this.rentCart.orderBookItems.length>0&&this.rentCart.customerId!==o)return alert("Farklı müşteriye kitap kiralanmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let r=new s.OrderBookItems(e,t),n=this.rentCart.orderBookItems.findIndex((t=>t.book.isbn===e.isbn));-1===n?this.rentCart.orderBookItems.push(r):this.rentCart.orderBookItems[n]=r,this.updateRentCart()}updateRentCart(){const e=document.getElementById("rentCart"),t=document.getElementById("totalRentAmountTl");if(e){let o,r,n=0;for(;e.lastChild&&e.children.length>1;)e.removeChild(e.lastChild);t.textContent="";for(let e=0;e<this.rentCart.orderBookItems.length;e++){o=document.createElement("div"),o.className="rent-cart-row";for(let e of this.rentCart.orderBookItems)r=document.createElement("div"),r.className="rent-cart-column",r.textContent=this.rentCart.customerId.toString(),o.appendChild(r),r=document.createElement("div"),r.className="rent-cart-column",r.textContent=e.book.name,o.appendChild(r),r=document.createElement("div"),r.className="rent-cart-column",r.textContent=e.quantity.toString(),o.appendChild(r),r=document.createElement("div"),r.className="rent-cart-column",r.textContent=(e.book.bookPrice.price*e.quantity).toString(),o.appendChild(r)}if(o&&t){for(let e of this.rentCart.orderBookItems)n+=e.book.bookPrice.price*e.quantity;e.appendChild(o),t.textContent=n.toString()+" TL"}}}cartToRent(){return r(this,void 0,void 0,(function*(){let e=this.rentCart,t=new i.Rent;t.orderBookItems=e.orderBookItems,t.customerId=e.customerId,t.operationNumber=this.generateRentNumber(e.customerId),t.operationDateTime=new Date,t.total=this.calculateTotal(t);let o=new Date;o.setDate(o.getDate()+14),t.refundDate=o,this.calculateRefund(t);for(let e of t.orderBookItems)yield n.stockService.getStockByBookId(e.book.id);this.rentCart=new a.RentCart,this.updateRentCart(),this.addRentMock(t)}))}addRentMock(e){return r(this,void 0,void 0,(function*(){try{const t=yield fetch(this.rentApi,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(e.orderBookItems),customerId:e.customerId,operationDateTime:e.operationDateTime,operationNumber:e.operationNumber,total:e.total,refundDate:e.refundDate,refund:e.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);{const o=yield t.json();console.log("Rest apidan dönen cevap:\n"),console.log(o),alert("Kitap kiralama işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetneyiniz. Fiş numaranız: "+e.operationNumber)}}catch(e){console.log("Hata Oluştu."),alert("Kitap kiralama işlemi sırasında bir hata oluştu. Lütfen tekrar deneyiniz.")}}))}refundRentMock(e){return r(this,void 0,void 0,(function*(){try{const t=yield fetch(this.rentApi+"/"+e.operationNumber,{method:"PATCH",body:JSON.stringify({refundDate:e.refundDate,refund:e.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const o=yield t.json();return console.log(o),e.refund}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}}},478:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SaleService=void 0;const n=o(607),i=o(354),a=o(767),s=o(51);t.SaleService=class{constructor(e,t){this.saleApi="http://localhost:3002/api/v1/sales",this._saleList=e,this._saleCart=t}get saleList(){return this._saleList}set saleList(e){this._saleList=e}get saleCart(){return this._saleCart}set saleCart(e){this._saleCart=e}addSale(e){this.saleList.push(e)}calculateTotal(e){let t=0;for(let o of e.orderBookItems)t+=o.book.bookPrice.price*o.quantity;return t}getSale(e){return this.saleList.find((t=>t.operationNumber===e))}removeSale(e){let t=this.saleList.indexOf(e);this.saleList.splice(t,1)}addBookToCart(e,t,o){if(0===this.saleCart.orderBookItems.length)this.saleCart.customerId=o;else if(this.saleCart.orderBookItems.length>0&&this.saleCart.customerId!==o)return alert("Farklı müşteriye kitap satılmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let r=new a.OrderBookItems(e,t),n=this.saleCart.orderBookItems.findIndex((t=>t.book.isbn===e.isbn));-1===n?this.saleCart.orderBookItems.push(r):this.saleCart.orderBookItems[n]=r,this.updateSaleCart()}updateSaleCart(){const e=document.getElementById("saleCart"),t=document.getElementById("totalSaleAmountTl");if(e){let o,r,n=0;for(;e.lastChild&&e.children.length>1;)e.removeChild(e.lastChild);t.textContent="";for(let e=0;e<this.saleCart.orderBookItems.length;e++){o=document.createElement("div"),o.className="sale-cart-row";for(let e of this.saleCart.orderBookItems)r=document.createElement("div"),r.className="sale-cart-column",r.textContent=this.saleCart.customerId.toString(),o.appendChild(r),r=document.createElement("div"),r.className="sale-cart-column",r.textContent=e.book.name,o.appendChild(r),r=document.createElement("div"),r.className="sale-cart-column",r.textContent=e.quantity.toString(),o.appendChild(r),r=document.createElement("div"),r.className="sale-cart-column",r.textContent=(e.book.bookPrice.price*e.quantity).toString(),o.appendChild(r)}if(o&&t){for(let e of this.saleCart.orderBookItems)n+=e.book.bookPrice.price*e.quantity;e.appendChild(o),t.textContent=n.toString()+" TL"}}}cartToSale(){return r(this,void 0,void 0,(function*(){let e=this.saleCart,t=new i.Sale;t.orderBookItems=e.orderBookItems,t.customerId=e.customerId,t.operationDateTime=new Date,t.total=this.calculateTotal(t);for(let e of t.orderBookItems)yield n.stockService.getStockByBookId(e.book.id);let o=this.createSale(t);return this.saleCart=new s.SaleCart,this.updateSaleCart(),o}))}createSale(e){return r(this,void 0,void 0,(function*(){try{const t=yield fetch(this.saleApi,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(e.orderBookItems),customerId:e.customerId,total:e.total}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(t),t.ok){const o=yield t.json();return console.log("Rest apidan dönen cevap:\n"),console.log(o),alert("Kitap satış işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetmeyiniz. Fiş Numarası: "+e.operationNumber),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}isExistSale(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(this.saleApi+"/"+e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(t),t.ok){const e=yield t.json();return console.log("Rest apidan dönen cevap:\n"),console.log(e),!0}return!1}))}}},214:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StockService=void 0,t.StockService=class{constructor(e){this.stockApi="http://localhost:3002/api/v1/stocks",this._stockList=e}get stockList(){return this._stockList}set stockList(e){this._stockList=e}getStockByBookId(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.stockApi+"/q?bookId="+e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok)return yield t.json();throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){return e instanceof Error?console.log("error message: ",e.message):console.log("unexpected error: ",e),null}}))}createStock(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.stockApi,{method:"POST",body:JSON.stringify({quantity:e.quantity,shelfNumber:e.shelfNumber,book:e.book}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=yield t.json();return console.log(e),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu."+e)}}))}getAllStocksData(){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.stockApi,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const t=yield e.json();return JSON.parse(JSON.stringify(t,null,4))}))}}}},t={};!function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBU0ssR0FDVixNQUFNLElBQUlDLE1BQU0sMkJBQTJCTixFQUFTTyxXQUV4RCxNQUFNRSxRQUFnQlQsRUFBU1EsT0FFL0IsT0FEZ0NFLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVVILEVBQVEsS0FBTSxHQUU1RSxHLEtDeEdBeUUsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RiL2RhdGFiYXNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9ib29rLXByaWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9ib29rLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9jdXN0b21lci50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vb3JkZXItYm9vay1pdGVtLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9yZW50LWNhcnQudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3JlbnQudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3NhbGUtY2FydC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vc2FsZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vc3RvY2sudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9ib29rLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9jYW5jZWwtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2N1c3RvbWVyLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9yZW50LXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9zYWxlLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9zdG9jay1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rUHJpY2UgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2stcHJpY2VcIjtcbmltcG9ydCB7IENhbmNlbCB9IGZyb20gXCIuLi9kb21haW4vY2FuY2VsXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuLi9kb21haW4vY3VzdG9tZXJcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnRcIjtcbmltcG9ydCB7IFJlbnRDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50LWNhcnRcIjtcbmltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGVcIjtcbmltcG9ydCB7IFNhbGVDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlLWNhcnRcIjtcbmltcG9ydCB7IFN0b2NrIH0gZnJvbSBcIi4uL2RvbWFpbi9zdG9ja1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YUJhc2Uge1xuXG4gICAgIHByaXZhdGUgX2Jvb2tzOiBBcnJheTxCb29rPjsvL1xuICAgICBwcml2YXRlIF9zdG9ja3M6IEFycmF5PFN0b2NrPjtcbiAgICAgcHJpdmF0ZSBfY3VzdG9tZXJzOiBBcnJheTxDdXN0b21lcj47Ly9cbiAgICAgcHJpdmF0ZSBfc2FsZXM6IEFycmF5PFNhbGU+Oy8vXG4gICAgIHByaXZhdGUgX3JlbnRzOiBBcnJheTxSZW50PjtcbiAgICAgcHJpdmF0ZSBfYm9va1NwZWNpZmljYXRpb25zOiBBcnJheTxCb29rUHJpY2U+O1xuICAgICBwcml2YXRlIF9jYW5jZWxzOiBBcnJheTxDYW5jZWw+Oy8vXG4gICAgIHByaXZhdGUgX3NhbGVDYXJ0OiBTYWxlQ2FydDtcbiAgICAgcHJpdmF0ZSBfcmVudENhcnQ6UmVudENhcnQ7XG5cbiAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgdGhpcy5fYm9va3MgPSBuZXcgQXJyYXk8Qm9vaz4oKTtcbiAgICAgICAgICB0aGlzLl9zdG9ja3MgPSBuZXcgQXJyYXk8U3RvY2s+KCk7XG4gICAgICAgICAgdGhpcy5fY3VzdG9tZXJzID0gbmV3IEFycmF5PEN1c3RvbWVyPigpO1xuICAgICAgICAgIHRoaXMuX3NhbGVzID0gbmV3IEFycmF5PFNhbGU+KCk7XG4gICAgICAgICAgdGhpcy5fcmVudHMgPSBuZXcgQXJyYXk8UmVudD4oKTtcbiAgICAgICAgICB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbnMgPSBuZXcgQXJyYXk8Qm9va1ByaWNlPigpO1xuICAgICAgICAgIHRoaXMuX2NhbmNlbHMgPSBuZXcgQXJyYXk8Q2FuY2VsPigpO1xuICAgICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gbmV3IFNhbGVDYXJ0KCk7XG4gICAgICAgICAgdGhpcy5fcmVudENhcnQgPSBuZXcgUmVudENhcnQ7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGJvb2tzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2s+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRCb29rc0xpc3QoKTogQXJyYXk8Qm9vaz4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgc3RvY2tzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFN0b2NrPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0U3RvY2tzTGlzdCgpOiBBcnJheTxTdG9jaz4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zdG9ja3M7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGN1c3RvbWVyc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxDdXN0b21lcj59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEN1c3RvbWVyc0xpc3QoKTogQXJyYXk8Q3VzdG9tZXI+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tZXJzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzYWxlc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxTYWxlPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0U2FsZXNMaXN0KCk6IEFycmF5PFNhbGU+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2FsZXM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHJlbnRzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFJlbnQ+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRSZW50cygpOiBBcnJheTxSZW50PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbnRzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBib29rU3BlY2lmaWNhdGlvbnNcbiAgICAgICogQHJldHVybiB7QXJyYXk8Qm9va1ByaWNlPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Qm9va1NwZWNpZmljYXRpb25zKCk6IEFycmF5PEJvb2tQcmljZT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGNhbmNlbFNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PENhbmNlbFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRDYW5jYWxlZFNhbGVzKCk6IEFycmF5PENhbmNlbD4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzYWxlQ2FydFxuICAgICAgKiBAcmV0dXJuIHtBcnJheTxTYWxlQ2FydD59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFNhbGVDYXJ0KCk6IFNhbGVDYXJ0IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUNhcnQ7XG4gICAgIH1cblxuICAgICAgICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHJldHVybiB7UmVudENhcnR9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgZ2V0UmVudENhcnQoKTogUmVudENhcnQge1xuXHRcdHJldHVybiB0aGlzLl9yZW50Q2FydDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtTYWxlQ2FydH0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBzZXRTYWxlQ2FydCh2YWx1ZTogU2FsZUNhcnQpIHtcblx0XHR0aGlzLl9zYWxlQ2FydCA9IHZhbHVlO1xuXHR9XG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcGFyYW0ge1JlbnRDYXJ0fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHNldFJlbnRDYXJ0KHZhbHVlOiBSZW50Q2FydCkge1xuXHRcdHRoaXMuX3JlbnRDYXJ0ID0gdmFsdWU7XG5cdH1cbiAgICAgXG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIEJvb2tQcmljZSB7XG4gICAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF9wcmljZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3N0YXJ0RGF0ZTogRGF0ZTtcbiAgICBwcml2YXRlIF9lbmREYXRlOiBEYXRlO1xuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHByaWNlXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByaWNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdGFydERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3RhcnREYXRlKCk6IERhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnREYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBlbmREYXRlXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGVuZERhdGUoKTogRGF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmREYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBwcmljZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcHJpY2UodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9wcmljZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzdGFydERhdGVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBzdGFydERhdGUodmFsdWU6IERhdGUpIHtcbiAgICAgICAgdGhpcy5fc3RhcnREYXRlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGVuZERhdGVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBlbmREYXRlKHZhbHVlOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX2VuZERhdGUgPSB2YWx1ZTtcbiAgICB9XG5cblxuXG59IiwiaW1wb3J0IHsgQm9va1ByaWNlIH0gZnJvbSBcIi4vYm9vay1wcmljZVwiO1xuXG5leHBvcnQgY2xhc3MgQm9vayB7XG4gICAgIHByaXZhdGUgX2lkOiBudW1iZXI7XG4gICAgIHByaXZhdGUgX2lzYm46IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICAgICBwcml2YXRlIF9hdXRob3I6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfcHVibGlzaFllYXI6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfcGFnZXM6IG51bWJlcjtcbiAgICAgcHJpdmF0ZSBfYm9va1ByaWNlOiBCb29rUHJpY2U7XG5cbiAgICAgY29uc3RydWN0b3IoaXNibjogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGF1dGhvcjogc3RyaW5nLCBwdWJsaXNoWWVhcjogc3RyaW5nLCBwYWdlczogbnVtYmVyLCBib29rUHJpY2U6IEJvb2tQcmljZSkge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIHRoaXMuX2F1dGhvciA9IGF1dGhvcjtcbiAgICAgICAgICB0aGlzLl9pc2JuID0gaXNibjtcbiAgICAgICAgICB0aGlzLl9wdWJsaXNoWWVhciA9IHB1Ymxpc2hZZWFyO1xuICAgICAgICAgIHRoaXMuX3BhZ2VzID0gcGFnZXM7XG4gICAgICAgICAgdGhpcy5fYm9va1ByaWNlID0gYm9va1ByaWNlO1xuICAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblx0cHVibGljIGdldCBpZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9pZDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgaWQodmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX2lkID0gdmFsdWU7XG5cdH1cbiAgICAgXG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBpc2JuXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgaXNibigpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pc2JuO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBuYW1lXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBhdXRob3JcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBhdXRob3IoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aG9yO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBwdWJsaXNoWWVhclxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IHB1Ymxpc2hZZWFyKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3B1Ymxpc2hZZWFyO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBwYWdlc1xuICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IHBhZ2VzKCk6IG51bWJlciB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBib29rUHJpY2VcbiAgICAgICogQHJldHVybiB7Qm9va1ByaWNlfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBib29rUHJpY2UoKTogQm9va1ByaWNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYm9va1ByaWNlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBpc2JuXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBpc2JuKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLl9pc2JuID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIG5hbWVcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgYXV0aG9yXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBhdXRob3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX2F1dGhvciA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBwdWJsaXNoWWVhclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgcHVibGlzaFllYXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX3B1Ymxpc2hZZWFyID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIHBhZ2VzXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBwYWdlcyh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgICAgdGhpcy5fcGFnZXMgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgYm9va1ByaWNlXG4gICAgICAqIEBwYXJhbSB7Qm9va1ByaWNlfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBib29rUHJpY2UodmFsdWU6IEJvb2tQcmljZSkge1xuICAgICAgICAgIHRoaXMuX2Jvb2tQcmljZSA9IHZhbHVlO1xuICAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ3VzdG9tZXIge1xuICAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgIHByaXZhdGUgX3N1ck5hbWU6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfcGhvbmVOdW1iZXI6IHN0cmluZztcblxuICAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN1ck5hbWU6IHN0cmluZywgcGhvbmVOdW1iZXI6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIHRoaXMuX3N1ck5hbWUgPSBzdXJOYW1lO1xuICAgICAgICAgIHRoaXMuX3Bob25lTnVtYmVyID0gcGhvbmVOdW1iZXI7XG4gICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuICAgICBcblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIG5hbWVcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHN1ck5hbWVcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBzdXJOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3N1ck5hbWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHBob25lTnVtYmVyXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgcGhvbmVOdW1iZXIoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcGhvbmVOdW1iZXI7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIG5hbWVcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgc3VyTmFtZVxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgc3VyTmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fc3VyTmFtZSA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBwaG9uZU51bWJlclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgcGhvbmVOdW1iZXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX3Bob25lTnVtYmVyID0gdmFsdWU7XG4gICAgIH1cblxuXG59XG4iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJCb29rSXRlbXMge1xuICAgIHByaXZhdGUgX2Jvb2s6IEJvb2s7XG4gICAgcHJpdmF0ZSBfcXVhbnRpdHk6IG51bWJlcjtcblxuXG4gICAgY29uc3RydWN0b3IoYm9vazogQm9vaywgcXVhbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9ib29rID0gYm9vaztcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1xuICAgICAqIEByZXR1cm4ge0Jvb2t9XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rKCk6IEJvb2sge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9vaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tcbiAgICAgKiBAcGFyYW0ge0Jvb2t9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBib29rKHZhbHVlOiBCb29rKSB7XG4gICAgICAgIHRoaXMuX2Jvb2sgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9vazogdGhpcy5fYm9vayxcbiAgICAgICAgICAgIHF1YW50aXR5OiB0aGlzLl9xdWFudGl0eSxcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXN0Rm9ybWF0IH0gZnJvbSBcInR5cGVzY3JpcHRcIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuL29yZGVyLWJvb2staXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgUmVudENhcnQge1xuICAgIGN1c3RvbWVySWQhOiBudW1iZXI7XG4gICAgb3JkZXJCb29rSXRlbXM6IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9yZGVyQm9va0l0ZW1zID0gbmV3IEFycmF5PE9yZGVyQm9va0l0ZW1zPigpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4vc2FsZVwiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi9vcmRlci1ib29rLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFJlbnQgZXh0ZW5kcyBTYWxlIHtcbiAgICBwcml2YXRlIF9yZWZ1bmREYXRlPzogRGF0ZTtcbiAgICBwcml2YXRlIF9yZWZ1bmQ/OiBudW1iZXI7XG5cblxuICAgIGNvbnN0cnVjdG9yKHNhbGVCb29rSXRlbXM/OiBBcnJheTxPcmRlckJvb2tJdGVtcz4sIG9wZXJhdGlvbkRhdGVUaW1lPzogRGF0ZSwgY3VzdG9tZXJJZD86IG51bWJlciwgb3BlcmF0aW9uTnVtYmVyPzogc3RyaW5nLCB0b3RhbD86IG51bWJlciwgcmVmdW5kRGF0ZT86IERhdGUsIHJlZnVuZD86IG51bWJlcikge1xuICAgICAgICBzdXBlcihzYWxlQm9va0l0ZW1zLCBjdXN0b21lcklkLCBvcGVyYXRpb25EYXRlVGltZSwgb3BlcmF0aW9uTnVtYmVyLCB0b3RhbClcblxuICAgICAgICB0aGlzLl9yZWZ1bmREYXRlID0gcmVmdW5kRGF0ZTtcbiAgICAgICAgdGhpcy5fcmVmdW5kID0gcmVmdW5kO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlZnVuZERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcmVmdW5kRGF0ZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZnVuZERhdGUhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciByZWZ1bmRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCByZWZ1bmQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZnVuZCE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlZnVuZERhdGVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCByZWZ1bmREYXRlKHZhbHVlOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX3JlZnVuZERhdGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVmdW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCByZWZ1bmQodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9yZWZ1bmQgPSB2YWx1ZTtcbiAgICB9XG5cblxuXG5cbn0iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi9vcmRlci1ib29rLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFNhbGVDYXJ0IHtcbiAgICBjdXN0b21lcklkITogbnVtYmVyO1xuICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheTxPcmRlckJvb2tJdGVtcz47XG5cblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLm9yZGVyQm9va0l0ZW1zID0gbmV3IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcblx0fVxuXG5cblxuXG5cbn0iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi9vcmRlci1ib29rLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFNhbGUge1xuICAgIHByaXZhdGUgX29yZGVyQm9va0l0ZW1zPzogQXJyYXk8T3JkZXJCb29rSXRlbXM+O1xuICAgIHByaXZhdGUgX2N1c3RvbWVySWQ/OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfb3BlcmF0aW9uRGF0ZVRpbWU/OiBEYXRlO1xuICAgIHByaXZhdGUgX29wZXJhdGlvbk51bWJlcj86IHN0cmluZztcbiAgICBwcml2YXRlIF90b3RhbD86IG51bWJlcjtcblxuXG5cdGNvbnN0cnVjdG9yKG9yZGVyQm9va0l0ZW1zPzogQXJyYXk8T3JkZXJCb29rSXRlbXM+LCBjdXN0b21lcklkPzogbnVtYmVyLCBvcGVyYXRpb25EYXRlVGltZT86IERhdGUsIG9wZXJhdGlvbk51bWJlcj86IHN0cmluZywgdG90YWw/OiBudW1iZXIpIHtcblx0XHR0aGlzLl9vcmRlckJvb2tJdGVtcyA9IG9yZGVyQm9va0l0ZW1zO1xuXHRcdHRoaXMuX2N1c3RvbWVySWQgPSBjdXN0b21lcklkO1xuXHRcdHRoaXMuX29wZXJhdGlvbkRhdGVUaW1lID0gb3BlcmF0aW9uRGF0ZVRpbWU7XG5cdFx0dGhpcy5fb3BlcmF0aW9uTnVtYmVyID0gb3BlcmF0aW9uTnVtYmVyO1xuXHRcdHRoaXMuX3RvdGFsID0gdG90YWw7XG5cdH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIG9yZGVyQm9va0l0ZW1zXG4gICAgICogQHJldHVybiB7QXJyYXk8T3JkZXJCb29rSXRlbXM+fVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IG9yZGVyQm9va0l0ZW1zKCk6IEFycmF5PE9yZGVyQm9va0l0ZW1zPiB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyQm9va0l0ZW1zITtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGN1c3RvbWVySWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgY3VzdG9tZXJJZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9jdXN0b21lcklkITtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIG9wZXJhdGlvbkRhdGVUaW1lXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cblx0cHVibGljIGdldCBvcGVyYXRpb25EYXRlVGltZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fb3BlcmF0aW9uRGF0ZVRpbWUhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgb3BlcmF0aW9uTnVtYmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IG9wZXJhdGlvbk51bWJlcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9vcGVyYXRpb25OdW1iZXIhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgdG90YWxcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgdG90YWwoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fdG90YWwhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgb3JkZXJCb29rSXRlbXNcbiAgICAgKiBAcGFyYW0ge0FycmF5PE9yZGVyQm9va0l0ZW1zPn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBvcmRlckJvb2tJdGVtcyh2YWx1ZTogQXJyYXk8T3JkZXJCb29rSXRlbXM+KSB7XG5cdFx0dGhpcy5fb3JkZXJCb29rSXRlbXMgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGN1c3RvbWVySWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBjdXN0b21lcklkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9jdXN0b21lcklkID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBvcGVyYXRpb25EYXRlVGltZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBvcGVyYXRpb25EYXRlVGltZSh2YWx1ZTogRGF0ZSkge1xuXHRcdHRoaXMuX29wZXJhdGlvbkRhdGVUaW1lID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBvcGVyYXRpb25OdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBvcGVyYXRpb25OdW1iZXIodmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuX29wZXJhdGlvbk51bWJlciA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgdG90YWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCB0b3RhbCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5fdG90YWwgPSB2YWx1ZTtcblx0fVxuXHRcbiAgICBcbn0iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuXG5leHBvcnQgY2xhc3MgU3RvY2sge1xuICAgIHByaXZhdGUgX2lkOm51bWJlcjtcbiAgICBwcml2YXRlIF9xdWFudGl0eTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3NoZWxmTnVtYmVyOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfYm9vazpCb29rO1xuXG4gICAgY29uc3RydWN0b3IocXVhbnRpdHk/OiBudW1iZXIsIHNoZWxmTnVtYmVyPzogc3RyaW5nLCBib29rPzpCb29rKSB7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gcXVhbnRpdHkhO1xuICAgICAgICB0aGlzLl9zaGVsZk51bWJlciA9IHNoZWxmTnVtYmVyITtcbiAgICAgICAgdGhpcy5fYm9vaz1ib29rITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5faWQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9pZCA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1xuICAgICAqIEByZXR1cm4ge0Jvb2t9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgYm9vaygpOiBCb29rIHtcblx0XHRyZXR1cm4gdGhpcy5fYm9vaztcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tcbiAgICAgKiBAcGFyYW0ge0Jvb2t9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgYm9vayh2YWx1ZTogQm9vaykge1xuXHRcdHRoaXMuX2Jvb2sgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHF1YW50aXR5XG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzaGVsZk51bWJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNoZWxmTnVtYmVyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGVsZk51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2hlbGZOdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNoZWxmTnVtYmVyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hlbGZOdW1iZXIgPSB2YWx1ZTtcbiAgICB9XG5cblxufSIsIi8vIGV4cG9ydCBOT0RFX09QVElPTlM9LS1vcGVuc3NsLWxlZ2FjeS1wcm92aWRlclxuaW1wb3J0IHsgRGF0YUJhc2UgfSBmcm9tIFwiLi9kYi9kYXRhYmFzZVwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rUHJpY2UgfSBmcm9tIFwiLi9kb21haW4vYm9vay1wcmljZVwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi9kb21haW4vY3VzdG9tZXJcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi9kb21haW4vcmVudFwiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi9kb21haW4vb3JkZXItYm9vay1pdGVtXCI7XG5pbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuL2RvbWFpbi9zdG9ja1wiO1xuaW1wb3J0IHsgQm9va1NlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2Jvb2stc2VydmljZVwiO1xuaW1wb3J0IHsgQ2FuY2VsU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvY2FuY2VsLXNlcnZpY2VcIjtcbmltcG9ydCB7IEN1c3RvbWVyU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvY3VzdG9tZXItc2VydmljZVwiO1xuaW1wb3J0IHsgUmVudFNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL3JlbnQtc2VydmljZVwiO1xuaW1wb3J0IHsgU2FsZVNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL3NhbGUtc2VydmljZVwiO1xuaW1wb3J0IHsgU3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9zdG9jay1zZXJ2aWNlXCI7XG5cbmV4cG9ydCBsZXQgYm9va1NlcnZpY2U6IEJvb2tTZXJ2aWNlO1xuZXhwb3J0IGxldCBjdXN0b21lclNlcnZpY2U6IEN1c3RvbWVyU2VydmljZTtcbmV4cG9ydCBsZXQgY2FuY2VsU2VydmljZTogQ2FuY2VsU2VydmljZTtcbmV4cG9ydCBsZXQgcmVudFNlcnZpY2U6IFJlbnRTZXJ2aWNlO1xuZXhwb3J0IGxldCBzYWxlU2VydmljZTogU2FsZVNlcnZpY2U7XG5leHBvcnQgbGV0IHN0b2NrU2VydmljZTogU3RvY2tTZXJ2aWNlO1xuXG5sZXQgZGI6IERhdGFCYXNlID0gbmV3IERhdGFCYXNlKCk7XG5pbml0aWxpYXplU2VydmljZXMoZGIpO1xuaW5pdGlsaWF6ZURhdGEoKTtcbmFkZExpc3RlbmVyRm9yTWVudUl0ZW1zKCk7XG5cbmZ1bmN0aW9uIGluaXRpbGlhemVTZXJ2aWNlcyhkYjogRGF0YUJhc2UpIHtcbiAgYm9va1NlcnZpY2UgPSBuZXcgQm9va1NlcnZpY2UoZGIuZ2V0Qm9va3NMaXN0LCBkYi5nZXRCb29rU3BlY2lmaWNhdGlvbnMpO1xuICBjdXN0b21lclNlcnZpY2UgPSBuZXcgQ3VzdG9tZXJTZXJ2aWNlKGRiLmdldEN1c3RvbWVyc0xpc3QpO1xuICBjYW5jZWxTZXJ2aWNlID0gbmV3IENhbmNlbFNlcnZpY2UoZGIuZ2V0Q2FuY2FsZWRTYWxlcyk7XG4gIHJlbnRTZXJ2aWNlID0gbmV3IFJlbnRTZXJ2aWNlKGRiLmdldFJlbnRzLCBkYi5nZXRSZW50Q2FydCk7XG4gIHNhbGVTZXJ2aWNlID0gbmV3IFNhbGVTZXJ2aWNlKGRiLmdldFNhbGVzTGlzdCwgZGIuZ2V0U2FsZUNhcnQpO1xuICBzdG9ja1NlcnZpY2UgPSBuZXcgU3RvY2tTZXJ2aWNlKGRiLmdldFN0b2Nrc0xpc3QpO1xuICBjb25zb2xlLmxvZyhcIlNlcnZpY2VzIGludGlsaWF6ZWQuXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWxpYXplRGF0YSgpIHtcbiAgYm9va1NlcnZpY2UuYm9va0xpc3QgPSBhd2FpdCBib29rU2VydmljZS5nZXRBbGxCb29rc0RhdGEoKTtcbiAgc3RvY2tTZXJ2aWNlLnN0b2NrTGlzdCA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRBbGxTdG9ja3NEYXRhKCk7XG4gIGN1c3RvbWVyU2VydmljZS5jdXN0b21lckxpc3QgPSBhd2FpdCBjdXN0b21lclNlcnZpY2UuZ2V0QWxsQ3VzdG9tZXJzRGF0YSgpO1xuXG4gIGNvbnNvbGUubG9nKGJvb2tTZXJ2aWNlLmJvb2tMaXN0KTtcbiAgY29uc29sZS5sb2coc3RvY2tTZXJ2aWNlLnN0b2NrTGlzdCk7XG4gIGNvbnNvbGUubG9nKGN1c3RvbWVyU2VydmljZS5jdXN0b21lckxpc3QpO1xuICBjb25zb2xlLmxvZyhcIkRhdGEgaW50aWxpYXplZC5cIik7XG5cbiAgbGlzdEJvb2tzO1xuXG59XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyRm9yTWVudUl0ZW1zKCkge1xuICAvL3NhbGVTZXJ2aWNlLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gIHNob3dBbmRIaWRlKFwiYWRkQm9va01lbnVJdGVtXCIsIFwiYWRkQm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwic2hvd0Jvb2tzTWVudUl0ZW1cIiwgXCJsaXN0Qm9va3NTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcImFkZEN1c3RvbWVyTWVudUl0ZW1cIiwgXCJhZGRDdXN0b21lclNlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiYWRkU3RvY2tNZW51SXRlbVwiLCBcImFkZFN0b2NrU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJzYWxlQm9va01lbnVJdGVtXCIsIFwic2FsZUJvb2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInJlbnRCb29rTWVudUl0ZW1cIiwgXCJyZW50Qm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiY2FuY2VsU2FsZU1lbnVJdGVtXCIsIFwiY2FuY2VsU2FsZVNlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiY2FuY2VsUmVudE1lbnVJdGVtXCIsIFwiY2FuY2VsUmVudFNlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwicmVmdW5kQm9va01lbnVJdGVtXCIsIFwicmVmdW5kQm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwicmVudE5vd1wiLCBcInJlbnRCb29rU2VjdGlvblwiKTtcblxufVxuXG5mdW5jdGlvbiBzaG93QW5kSGlkZShidG5JZDogc3RyaW5nLCBlbGVtZW50SWQ6IHN0cmluZykge1xuICAvL3NhbGVTZXJ2aWNlLnVwZGF0ZVNhbGVDYXJ0KCk7XG5cbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ0bklkKTtcblxuICBpZiAoZWxlbWVudCAmJiBidG4pIHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmIChlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGFkZEJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1ib29rLWZvcm1cIik7XG5pZiAoYWRkQm9va0Zvcm0gIT0gbnVsbCkge1xuICBhZGRCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQm9va0Zvcm0pO1xuXG4gICAgY29uc3QgdGl0bGUgPSBmb3JtRGF0YS5nZXQoXCJib29rVGl0bGVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGF1dGhvciA9IGZvcm1EYXRhLmdldChcImJvb2tBdXRob3JcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJib29rSXNiblwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcHVibGlzaFllYXIgPSBmb3JtRGF0YS5nZXQoXCJib29rUHVibGlzaFllYXJcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBhZ2VzID0gZm9ybURhdGEuZ2V0KFwiYm9va1BhZ2VzXCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHByaWNlID0gZm9ybURhdGEuZ2V0KFwiYm9va1ByaWNlXCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuXG4gICAgY29uc3QgYm9va1ByaWNlID0gbmV3IEJvb2tQcmljZSgpO1xuICAgIGJvb2tQcmljZS5wcmljZSA9IHByaWNlO1xuXG4gICAgY29uc3QgYm9vayA9IG5ldyBCb29rKGlzYm4sIHRpdGxlLCBhdXRob3IsIHB1Ymxpc2hZZWFyLCBwYWdlcywgYm9va1ByaWNlKTtcbiAgICBsZXQgaXNTYW1lSXNibjogYm9vbGVhbiA9IGJvb2tTZXJ2aWNlLmJvb2tMaXN0LnNvbWUoKG9iaikgPT4ge1xuICAgICAgcmV0dXJuIG9iai5pc2JuID09PSBib29rLmlzYm47XG4gICAgfSk7XG5cbiAgICBpZiAoaXNTYW1lSXNibiA9PT0gZmFsc2UpIHtcbiAgICAgIGxldCBzdWNjZXNzID0gYXdhaXQgYm9va1NlcnZpY2UuY3JlYXRlQm9vayhib29rKTtcblxuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgYWxlcnQoYm9vay5pc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIEVrbGVtZSDEsMWfbGVtaSBCYcWfYXLEsSDEsGxlIFRhbWFtbGFubcSxxZ90xLFyLlwiKTtcbiAgICAgICAgYWRkQm9va0Zvcm0ucmVzZXQoKTtcbiAgICAgICAgbGlzdEJvb2tzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChib29rLmlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgRWtsZW1lIMSwxZ9sZW1pIFPEsXJhc8SxbmRhIEJpciBIYXRhIG9sdcWfdHUuXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7IC8vIHByZXZlbnQgcmVsb2FkIHBhZ2VcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCJBeW7EsSBJU0JOIG51bXJhc8SxbmEgc2FoaXAgaWtpbmNpIGJpciBraXRhcCBla2xlbmVtei5cIik7XG4gICAgfVxuXG5cbiAgfTtcbn1cblxuY29uc3QgYWRkU3RvY2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtc3RvY2stZm9ybVwiKSk7XG5pZiAoYWRkU3RvY2tGb3JtKSB7XG4gIGFkZFN0b2NrRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGFkZFN0b2NrRm9ybSk7XG5cbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiYm9va0lzYm5Gb3JBZGRTdG9ja1wiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcXVhbnR0aXkgPSBmb3JtRGF0YS5nZXQoXCJzdG9ja1F1YW50aXR5XCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHNoZWxmTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwic2hlbGZOdW1iZXJcIikgYXMgc3RyaW5nO1xuXG4gICAgY29uc3QgYm9vayA9IGJvb2tTZXJ2aWNlLmJvb2tMaXN0LmZpbmQoYiA9PiBiLmlzYm4gPT09IGlzYm4pITtcblxuICAgIGlmIChib29rKSB7XG4gICAgICBjb25zdCBzdG9jayA9IG5ldyBTdG9jayhxdWFudHRpeSwgc2hlbGZOdW1iZXIsIGJvb2spO1xuICAgICAgbGV0IGlzT2sgPSBhd2FpdCBzdG9ja1NlcnZpY2UuY3JlYXRlU3RvY2soc3RvY2spO1xuXG4gICAgICBpZiAoaXNPaykge1xuICAgICAgICBhbGVydChpc2JuICsgXCIgaXNibiBudW1hcmFsxLEga2l0YXB0YW4sIFwiICsgcXVhbnR0aXkgKyBcIiBrYWRhciBzaXN0ZW1lIHN0b2sgZWtsZW5tacWfdGlyLlwiKTtcbiAgICAgICAgYXdhaXQgaW5pdGlsaWF6ZURhdGEoKTtcbiAgICAgICAgYXdhaXQgbGlzdEJvb2tzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYWxlcnQoXCJTdG9rIGVrbGVubWV5ZSDDp2FsxLHFn8SxbGFuIGtpdGFiYSBhaXQgaXNibiBudW1hcmFzxLEgaGF0YWzEsWTEsXIuXCIpO1xuICAgIH1cblxuICAgIGFkZFN0b2NrRm9ybS5yZXNldCgpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqXG4gKiBNw7zFn3RlcmkgZWtsZW1lIGZvcm11IHN1Ym1pdCBvbGF5xLFuxLEgbW9jayBjdXN0b21lclNlcnZpY2UgZGVraSBtb2NrIHNlcnZpc2UgYmHEn2xhZMSxbVxuICovXG5jb25zdCBhZGRDdXN0b21lckZvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1jdXN0b21lci1mb3JtXCIpKTtcbmlmIChhZGRDdXN0b21lckZvcm0pIHtcbiAgYWRkQ3VzdG9tZXJGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQ3VzdG9tZXJGb3JtKTtcblxuICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lck5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHN1cm5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lclN1cm5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob25lTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJQaG9uZU51bWJlclwiKSBhcyBzdHJpbmc7XG5cbiAgICBjb25zdCBjdXN0b21lciA9IG5ldyBDdXN0b21lcihuYW1lLCBzdXJuYW1lLCBwaG9uZU51bWJlcik7XG4gICAgbGV0IHN1Y2Nlc3MgPSBhd2FpdCBjdXN0b21lclNlcnZpY2UuY3JlYXRlQ3VzdG9tZXIoY3VzdG9tZXIpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIGFsZXJ0KFwiTcO8xZ90ZXJpIEVrbGVtZSDEsMWfbGVtaSBCYcWfYXLEsSDEsGxlIFRhbWFtbGFubcSxxZ90xLFyLiBcIik7XG4gICAgICBhZGRDdXN0b21lckZvcm0ucmVzZXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCJNw7zFn3RlcmkgRWtsZW1lIMSwxZ9sZW1pIFPEsXJhc8SxbmRhIGJpciBoYXRhIGlsZSBrYXLFn8SxbMSxbGTEsS4gXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqQnVyYWRhIG1vY2sgc2VydmlzaSB5b2sgw6fDvG5rw7wgYnVyYWRhIGtpdGFwIHNhdMSxxZ/EsSB5YXDEsWzEsXJrZW4sIGtpdGFwbGFyxLEgc2VwZXRlIGVrbGl5b3J1ei5cbiAqIFNlcGV0ZSBla2xlZGlrdGVuIHNvbnJhIGJ0blNhbGUgaWRsaSBidXRvbnVuIGNsaWNrIGV2ZW50aSwgbW9jayBzZXJ2aXNpIMOnYcSfxLFyxLF5b3JcbiAqL1xuY29uc3Qgc2FsZUJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYWxlLWJvb2stZm9ybVwiKSk7XG5pZiAoc2FsZUJvb2tGb3JtKSB7XG4gIHNhbGVCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoc2FsZUJvb2tGb3JtKTtcbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiaXNibkZvclNhbGVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGJvb2sgPSBhd2FpdCBib29rU2VydmljZS5nZXRCb29rKGlzYm4pO1xuICAgIGNvbnN0IGN1c3RvbWVySWQgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJjdXN0b21lcklkRm9yU2FsZVwiKSBhcyBzdHJpbmcpO1xuXG4gICAgY29uc3QgaXNWYWxpZEN1c3RvbWVyID0gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyKGN1c3RvbWVySWQpO1xuXG4gICAgY29uc3QgcXVhbnRpdHkgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJxdWFudGl0eUZvclNhbGVcIikgYXMgc3RyaW5nKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoYm9vaykge1xuICAgICAgICBsZXQgc3RvY2sgPSBhd2FpdCBzdG9ja1NlcnZpY2UuZ2V0U3RvY2tCeUJvb2tJZChib29rLmlkKSE7XG4gICAgICAgIGlmIChzdG9jaykge1xuICAgICAgICAgIGlmIChzdG9jay5xdWFudGl0eSA+PSBxdWFudGl0eSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRDdXN0b21lcikge1xuICAgICAgICAgICAgICBzYWxlU2VydmljZS5hZGRCb29rVG9DYXJ0KGJvb2ssIHF1YW50aXR5LCBjdXN0b21lcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGN1c3RvbWVySWQgKyBcIiBudW1hcmFsxLEgbcO8xZ90ZXJpIGthecSxdGzEsSBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KHF1YW50aXR5ICsgXCIga2FkYXIga2l0YXAgZMO8a2thbmRhIG1ldmN1dCBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChgRMO8a2thbmRhICR7aXNibn0gbnVtYXJhbMSxIGtpdGFixLFuIHN0b8SfdSBtZXZjdXQgZGXEn2lsZGlyLmApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChpc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIHlva3R1ci5cIik7XG4gICAgICB9XG5cblxuICAgICAgc2FsZUJvb2tGb3JtLnJlc2V0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWxlcnQoZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEtpdGFwIHNhdMSxxZ/EsSBpw6dpbiBpxZ9sZW0geWFwxLFsxLFya2VuIGtpdGFwbGFyIHNlcGV0ZSBla2xlbml5b3IuXG4gKiBFa2xlbWUgacWfbGVtaSBiaXR0aWt0ZW4gc29ucmEgc2F0xLFuIGFsbSBpw6dpbiBidSBidXRvbmEgdMSxa2xhbmTEscSfxLFuZGEgc2VydmlzZSBnaWRpcCBzZXBldHRla2kga2l0YXBsYXLEsW4gc2F0xLHFn8SxIGdlcsOnZWtsZcWfaXlvclxuICogQnVyYWRhIGRpxJ9lciBidXRvbmxhcmRhIG9sZHXEn3UgZ2liaSBkaXJlayBtb2NrIHNlcnZpc2luZSBiYcSfbGFubWFrIHllcmluZSBzZXJ2aXNlIGdpdG1layBkdXJ1bXVuZGF5xLF6LiBcbiAqIMOHw7xua8O8IHNlcnZpc3RlIFNhbGUgbmVzbmVzaW5pIG9sdcWfdHVydXAgbW9jayBzZXJ2aXNpbmUgcGFyYW1ldHJlIG9sYXJhayBnZcOnaXlvcnV6LlxuICovXG5jb25zdCBidG5TYWxlID0gPEhUTUxCdXR0b25FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blNhbGVcIikpO1xuYnRuU2FsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBpZiAoc2FsZVNlcnZpY2Uuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG5cbiAgICBhbGVydChcIlNlcGV0dGUgw7xyw7xuIHlvay4gTMO8dGZlbiDDtm5jZSDDvHLDvG4gZWtsZXlpbml6XCIpO1xuICB9IGVsc2Uge1xuICAgIHNhbGVTZXJ2aWNlLmNhcnRUb1NhbGUoKTtcbiAgfVxuXG59KTtcblxuLyoqXG4gKiBLaXRhcGxhcsSxIGxpc3RlbGVtZWsgacOnaW4gdMSxa2xhbsSxbGFuIGJ1dG9uIGNsaWNrIGV2ZW50aVxuICovXG5jb25zdCBidG5TaG93Qm9va3NNZW51SXRlbSA9IDxIVE1MRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93Qm9va3NNZW51SXRlbVwiKSk7XG5idG5TaG93Qm9va3NNZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXG4gIGxpc3RCb29rcygpO1xufSlcblxuY29uc3QgY2FuY2VsU2FsZUZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FuY2VsLXNhbGUtZm9ybVwiKTtcbmlmIChjYW5jZWxTYWxlRm9ybSkge1xuICBjYW5jZWxTYWxlRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoY2FuY2VsU2FsZUZvcm0pO1xuICAgIGNvbnN0IHNhbGVOdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJzYWxlTnVtYmVyZm9yQ2FuY2VsXCIpIGFzIHN0cmluZztcblxuXG4gICAgbGV0IGlzRXhpc3RTYWxlID0gYXdhaXQgc2FsZVNlcnZpY2UuaXNFeGlzdFNhbGUoc2FsZU51bWJlcik7XG5cbiAgICBpZiAoaXNFeGlzdFNhbGUgPT09IHRydWUpIHtcblxuICAgICAgbGV0IHN0YXRlID0gYXdhaXQgY2FuY2VsU2VydmljZS5jYW5jZWxTYWxlTW9jayhzYWxlTnVtYmVyKTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBpcHRhbCBlZGlsbWnFn3Rpci5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChzYWxlTnVtYmVyICsgXCIgbnVtYXJhbMSxIHNhdMSxxZ8gaXB0YWwgZWRpbGlya2VuIGhhdGEgbWV5ZGFuYSBnZWxkaS5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBidWx1bmFtYW3EscWfdMSxci4gVGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgfVxuXG4gIH1cbn1cblxuY29uc3QgY2FuY2VsUmVudEZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FuY2VsLXJlbnQtZm9ybVwiKTtcbmlmIChjYW5jZWxSZW50Rm9ybSkge1xuICBjYW5jZWxSZW50Rm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoY2FuY2VsUmVudEZvcm0pO1xuICAgIGNvbnN0IHJlbnROdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJyZW50TnVtYmVyZm9yQ2FuY2VsXCIpIGFzIHN0cmluZztcblxuICAgIGxldCBzdGF0ZSA9IGF3YWl0IGNhbmNlbFNlcnZpY2UuY2FuY2VsUmVudE1vY2socmVudE51bWJlcik7XG5cbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIGFsZXJ0KHJlbnROdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgaXB0YWwgZWRpbG1pxZ90aXIuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsbWEgYnVsdW5hbWFtxLHFn3TEsXIuIFRla3JhciBkZW5leWluaXouXCIpO1xuICAgIH1cbiAgfVxufVxuXG4vKipCdXJhZGEgbW9jayBzZXJ2aXNpIHlvayDDp8O8bmvDvCBidXJhZGEga2l0YXAga2lyYWxhbWFzxLEgeWFwxLFsxLFya2VuLCBraXRhcGxhcsSxIHNlcGV0ZSBla2xpeW9ydXouXG4gKiBTZXBldGUgZWtsZWRpa3RlbiBzb25yYSBidG5SZW50IGlkbGkgYnV0b251biBjbGljayBldmVudGksIG1vY2sgc2VydmlzaSDDp2HEn8SxcsSxeW9yXG4gKi9cbmNvbnN0IHJlbnRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVudC1ib29rLWZvcm1cIikpO1xuaWYgKHJlbnRCb29rRm9ybSkge1xuICByZW50Qm9va0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHJlbnRCb29rRm9ybSk7XG5cbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiaXNibkZvclJlbnRcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGJvb2sgPSBhd2FpdCBib29rU2VydmljZS5nZXRCb29rKGlzYm4pO1xuXG4gICAgY29uc3QgY3VzdG9tZXJJZCA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcImN1c3RvbWVySWRGb3JSZW50XCIpIGFzIHN0cmluZyk7XG4gICAgLy9pc1ZhbGlkQ3VzdG9tZXIgcmVzdCBzZXJ2aXN0ZW4gZMO2ZW5lbiB2ZXJpeWUgZ8O2cmUgxZ9la2lsbGVuZWNla1xuICAgIGNvbnN0IGlzVmFsaWRDdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcihjdXN0b21lcklkKTtcblxuICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwicXVhbnRpdHlGb3JSZW50XCIpIGFzIHN0cmluZyk7XG5cbiAgICBcblxuICAgIHRyeSB7XG4gICAgICBpZiAoYm9vaykge1xuICAgICAgICBjb25zdCBzdG9jayA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRTdG9ja0J5Qm9va0lkKGJvb2suaWQpITtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgaWYgKHN0b2NrLnF1YW50aXR5ID49IHF1YW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgIHJlbnRTZXJ2aWNlLmFkZEJvb2tUb0NhcnQoYm9vaywgcXVhbnRpdHksIGN1c3RvbWVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxlcnQoY3VzdG9tZXJJZCArIFwiIG51bWFyYWzEsSBtw7zFn3Rlcmkga2F5xLF0bMSxIGRlxJ9pbGRpci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQocXVhbnRpdHkgKyBcIiBrYWRhciBraXRhcCBkw7xra2FuZGEgbWV2Y3V0IGRlxJ9pbGRpci5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KGBEw7xra2FuZGEgJHtpc2JufSBudW1hcmFsxLEga2l0YWLEsW4gc3RvxJ91IG1ldmN1dCBkZcSfaWxkaXIuIMOWbmNlIHN0b2sgZWtsZXlpbml6YCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KGlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgeW9rdHVyLlwiKTtcbiAgICAgIH1cblxuICAgICAgcmVudEJvb2tGb3JtLnJlc2V0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWxlcnQoZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEtpdGFwIHNhdMSxxZ/EsSBpw6dpbiBpxZ9sZW0geWFwxLFsxLFya2VuIGtpdGFwbGFyIHNlcGV0ZSBla2xlbml5b3IuXG4gKiBFa2xlbWUgacWfbGVtaSBiaXR0aWt0ZW4gc29ucmEgc2F0xLFuIGFsbSBpacOnaW4gYnUgYnV0b25hIHTEsWtsYW5kxLHEn8SxbmRhIHNlcnZpc2UgZ2lkaXAgc2VwZXR0ZWtpIGtpdGFwbGFyxLFuIHNhdMSxxZ/EsSBnZXLDp2VrbGXFn2l5b3JcbiAqIEJ1cmFkYSBkacSfZXIgYnV0b25sYXJkYSBvbGR1xJ91IGdpYmkgZGlyZWsgbW9jayBzZXJ2aXNpbmUgYmHEn2xhbm1hayB5ZXJpbmUgc2VydmlzZSBnaXRtZWsgZHVydW11bmRhecSxei4gXG4gKiDDh8O8bmvDvCBzZXJ2aXN0ZSBTYWxlIG5lc25lc2luaSBvbHXFn3R1cnVwIG1vY2sgc2VydmlzaW5lIHBhcmFtZXRyZSBvbGFyayBnZcOnaXlvcnV6LlxuICovXG5jb25zdCBidG5SZW50ID0gPEhUTUxCdXR0b25FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blJlbnRcIikpO1xuYnRuUmVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBpZiAocmVudFNlcnZpY2UucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgYWxlcnQoXCJTZXBldHRlIMO8csO8biB5b2suIEzDvHRmZW4gw7ZuY2Ugw7xyw7xuIGVrbGV5aW5pelwiKTtcbiAgfSBlbHNlIHtcbiAgICByZW50U2VydmljZS5jYXJ0VG9SZW50KCk7XG4gIH1cblxufSk7XG5cbmNvbnN0IHJlZnVuZEJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWZ1bmQtYm9vay1mb3JtXCIpKTtcbmlmIChyZWZ1bmRCb29rRm9ybSkge1xuICByZWZ1bmRCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG5cbiAgICAvLyBLaXJhbGFtYSBpxZ9sZW1pbmRlbiBnZXJpIMO2ZGVtZSBpxZ9sZW1pIMOnYWzEscWfYWJpbG1lc2kgacOnaW4gw7ZuY2Uga2lyYWxhbWEgdmVyaXNpIGVrbGVkaW0sIFxuICAgIC8vIFNvbnJhIGdlcmkgw7ZkZW1lIGnFn2xlbWkgw6dhbMSxxZ/EsXlvclxuICAgIGxldCBzYmkgPSBuZXcgQXJyYXk8T3JkZXJCb29rSXRlbXM+O1xuICAgIHNiaS5wdXNoKG5ldyBPcmRlckJvb2tJdGVtcyhhd2FpdCBib29rU2VydmljZS5nZXRCb29rKFwiMTIzLTQ1XCIpLCAzKSlcblxuICAgIGxldCByRGF0ZSA9IG5ldyBEYXRlO1xuICAgIHJEYXRlLnNldERhdGUockRhdGUuZ2V0RGF0ZSgpICsgMjMpO1xuXG4gICAgbGV0IGEgPSBuZXcgUmVudChzYmksIG5ldyBEYXRlLCAxLCBcIlIwMjExMjIxNjMwNDVcIiwgMTIzLCByRGF0ZSwgMCk7XG4gICAgYS5yZWZ1bmQgPSByZW50U2VydmljZS5jYWxjdWxhdGVSZWZ1bmRBbW91bnQoYSk7XG5cbiAgICByZW50U2VydmljZS5yZW50TGlzdC5wdXNoKGEpO1xuICAgIC8vVmVyaSBHaXJpxZ9pIHNvbiBhbGFuxLFcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShyZWZ1bmRCb29rRm9ybSk7XG4gICAgY29uc3QgcmVudE51bWJlciA9IGZvcm1EYXRhLmdldChcInJlbnROdW1iZXJmb3JSZWZ1bmRcIikgYXMgc3RyaW5nO1xuXG4gICAgbGV0IHJlbnQgPSByZW50U2VydmljZS5nZXRSZW50KHJlbnROdW1iZXIpO1xuICAgIGlmIChyZW50KSB7XG5cbiAgICAgIGxldCByZWZ1bmQgPSBhd2FpdCByZW50U2VydmljZS5yZWZ1bmRSZW50TW9jayhyZW50KTtcblxuICAgICAgaWYgKHJlZnVuZCkge1xuICAgICAgICBhbGVydChyZW50Lm9wZXJhdGlvbk51bWJlciArIFwiIG51bWFyYWzEsSBraXJhbGFtYSBnZXJpIGFsxLFubcSxxZ90xLFyLlwiKTtcbiAgICAgICAgYWxlcnQoXCJHZXJpIMO2ZGVtZSBtaWt0YXLEsTpcIiArIHJlZnVuZCArIFwiIOKCuiAuXCIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChyZW50Lm9wZXJhdGlvbk51bWJlciArIFwiIG51bWFyYWzEsSBraXJhbGFtYSBpcHRhbCBlZGlsaXJrZW4gaGF0YSBtZXlkYW5hIGdlbGRpLlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQocmVudE51bWJlciArIFwiIG51bWFyYWzEsSBraXJhbGFtYSBidWx1bmFtYW3EscWfdMSxci4gVGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgfVxuXG4gIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxpc3RCb29rcygpIHtcblxuICBib29rU2VydmljZS5ib29rTGlzdCA9IGF3YWl0IGJvb2tTZXJ2aWNlLmdldEFsbEJvb2tzRGF0YSgpO1xuICBzdG9ja1NlcnZpY2Uuc3RvY2tMaXN0ID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldEFsbFN0b2Nrc0RhdGEoKTtcblxuICBjb25zdCBsaXN0Qm9va3NEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpc3RCb29rc1wiKTtcblxuICBpZiAobGlzdEJvb2tzRGl2KSB7XG4gICAgbGV0IHJvdywgY29sdW1uO1xuXG5cbiAgICB3aGlsZSAobGlzdEJvb2tzRGl2Lmxhc3RDaGlsZCAmJiBsaXN0Qm9va3NEaXYuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgbGlzdEJvb2tzRGl2LnJlbW92ZUNoaWxkKGxpc3RCb29rc0Rpdi5sYXN0Q2hpbGQpO1xuICAgIH1cblxuICAgIGJvb2tTZXJ2aWNlLmJvb2tMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7XG5cbiAgICAgIC8vYWxlcnQoc3RvY2tTZXJ2aWNlLmdldFN0b2NrUXVhbnRpdHkoZWxlbWVudC5pc2JuKSk7XG5cbiAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICByb3cuY2xhc3NOYW1lID0gXCJyb3ctbGlzdC1ib29rXCI7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50LmlzYm4udG9TdHJpbmcoKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5uYW1lLnRvU3RyaW5nKCk7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcbiAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuYXV0aG9yLnRvU3RyaW5nKCk7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcblxuICAgICAgbGV0IGlzVmFsaWRTY3RvY2s6IGJvb2xlYW4gPSBzdG9ja1NlcnZpY2Uuc3RvY2tMaXN0LnNvbWUocyA9PiBzLmJvb2suaWQgPT09IGVsZW1lbnQuaWQpO1xuICAgICAgbGV0IHEgPSAwO1xuXG4gICAgICBpZiAoaXNWYWxpZFNjdG9jayA9PT0gdHJ1ZSkge1xuICAgICAgICBxID0gc3RvY2tTZXJ2aWNlLnN0b2NrTGlzdC5maW5kKHMgPT4gcy5ib29rLmlkID09PSBlbGVtZW50LmlkKSEucXVhbnRpdHk7XG4gICAgICB9XG5cbiAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IHEudG9TdHJpbmcoKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5ib29rUHJpY2UucHJpY2UudG9TdHJpbmcoKSArIFwiIOKCulwiO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGxpc3RCb29rc0Rpdi5hcHBlbmRDaGlsZChyb3cpO1xuICAgIH0pO1xuICB9XG5cbn0iLCIvKipcbiAqIEBhdXRob3IgTWVobWV0IEUuIEFrY2FuIC0gMjEuMTAuMjJcbiAqL1xuaW1wb3J0IHsgc3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rUHJpY2UgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2stcHJpY2VcIjtcblxuZXhwb3J0IGNsYXNzIEJvb2tTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9ib29rTGlzdDogQXJyYXk8Qm9vaz47XG4gICAgcHJpdmF0ZSBfYm9va1NwZWNpZmljYXRpb246IEFycmF5PEJvb2tQcmljZT47XG4gICAgYm9va0FwaTogc3RyaW5nID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvYm9va3MnO1xuXG4gICAgY29uc3RydWN0b3IoYm9va0xpc3Q6IEFycmF5PEJvb2s+LCBib29rU3BlY2lmaWNhdGlvbjogQXJyYXk8Qm9va1ByaWNlPikge1xuICAgICAgICB0aGlzLl9ib29rTGlzdCA9IGJvb2tMaXN0O1xuICAgICAgICB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbiA9IGJvb2tTcGVjaWZpY2F0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2s+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgYm9va0xpc3QoKTogQXJyYXk8Qm9vaz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9va0xpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uXG4gICAgICogQHJldHVybiB7QXJyYXk8Qm9va1ByaWNlPn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGJvb2tTcGVjaWZpY2F0aW9uKCk6IEFycmF5PEJvb2tQcmljZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9va1NwZWNpZmljYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxCb29rPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGJvb2tMaXN0KHZhbHVlOiBBcnJheTxCb29rPikge1xuICAgICAgICB0aGlzLl9ib29rTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBib29rU3BlY2lmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXk8Qm9va1ByaWNlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGJvb2tTcGVjaWZpY2F0aW9uKHZhbHVlOiBBcnJheTxCb29rUHJpY2U+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcGFyYW1ldHJlIG9sYXJhayBnZWxlbiBpc2JuIGJpbGdpc2luZSBnw7ZyZSBpbGdpbGkga2l0YWLEsSBidWx1ci5cbiAgICAgKiBAcGFyYW0gaXNibiBCdWx1bmFjYWsgb2xhbiBraXRhYsSxbiBpc2JuIG51bWFyYXPEsVxuICAgICAqIEByZXR1cm5zIGlzYm4gbnVtYXJhc8SxbmEgZ8O2cmUgaWxnaWxpIGtpdGFixLEgQm9vayBuZXNuZXNpIG9sYXJhayBnZXJpIGTDtm5kw7xyw7xyXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldEJvb2soaXNibjogc3RyaW5nKTogUHJvbWlzZTxCb29rPiB7XG4gICAgICAgIC8vQnVyYWRhbiB1bmRlZmluZWRlZCAvIG51bGwgYmlyIGRlxJ9lciBkZSBkw7ZuZWJpbGVjZcSfaSBpw6dpbiBoYXRhIHZlcml5b3JcbiAgICAgICAgLy9hbWEgYml6IHNvbmRha2kgISBvcGVyYXTDtnLDvCBpbGUgbnVsbCBkZcSfZXIgZMO2bm1leWVjZWsgZGl5ZSBnYXJhbnRpIHZlcml5b3J1elxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYm9va0FwaSArIFwiL3E/aXNibj1cIiArIGlzYm4sIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGNvbnN0IGdldFJlc3VsdCA9IDxCb29rPnJlc3VsdDtcbiAgICAgICAgcmV0dXJuIGdldFJlc3VsdDtcblxuICAgIH1cblxuICAgIGFzeW5jIGdldEFsbEJvb2tzRGF0YSgpOiBQcm9taXNlPEFycmF5PEJvb2s+PiB7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmJvb2tBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEFycmF5PEJvb2s+PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCA0KSk7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlQm9vayhiOiBCb29rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYm9va0FwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgaXNibjogYi5pc2JuLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBiLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcjogYi5hdXRob3IsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VzOiBiLnBhZ2VzLFxuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoWWVhcjogYi5wdWJsaXNoWWVhcixcbiAgICAgICAgICAgICAgICAgICAgYm9va1ByaWNlQ3JlYXRlRHRvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogYi5ib29rUHJpY2UucHJpY2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3Qgc2VydmlzaW5kZW4gZMO2bmVuIGNldmFwID0+XCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJvb2tMaXN0ID0gYXdhaXQgdGhpcy5nZXRBbGxCb29rc0RhdGEoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgQ2FuY2VsIH0gZnJvbSBcIi4uL2RvbWFpbi9jYW5jZWxcIjtcblxuZXhwb3J0IGNsYXNzIENhbmNlbFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2NhbmNlbGxlZExpc3Q6IEFycmF5PENhbmNlbD47XG4gICAgY2FuY2VsU2FsZUFwaTogc3RyaW5nID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvc2FsZXMnO1xuICAgIGNhbmNlbFJlbnRBcGk6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3JlbnRzJztcblxuICAgIGNvbnN0cnVjdG9yKGNhbmNlbGxlZExpc3Q6IEFycmF5PENhbmNlbD4pIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsbGVkTGlzdCA9IGNhbmNlbGxlZExpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGNhbmNlbGxlZFNhbGVzTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PENhbmNlbFNhbGU+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgY2FuY2VsbGVkTGlzdCgpOiBBcnJheTxDYW5jZWw+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxlZExpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGNhbmNlbGxlZFNhbGVzTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8Q2FuY2VsU2FsZT59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBjYW5jZWxsZWRMaXN0KHZhbHVlOiBBcnJheTxDYW5jZWw+KSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZExpc3QgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsY3VsYXRlRGlmZkhvdXJzKGQxOiBEYXRlLCBkMjogRGF0ZSk6IG51bWJlciB7XG5cbiAgICAgICAgbGV0IGRpZmZNaWxpczogbnVtYmVyID0gKGQxLmdldFRpbWUoKSAtIGQyLmdldFRpbWUoKSk7Ly8gbWlsaSBzZWNvbmRzXG4gICAgICAgIGxldCBkaWZmSG91ciA9IE1hdGguZmxvb3IoZGlmZk1pbGlzIC8gMTAwMCAvIDYwIC8gNjApOyAvLyAvMTAwMCA+IHNlY29uZCAvIDYwID4gbWluIC8gNjAgPiBob3VyXG4gICAgICAgIHJldHVybiBkaWZmSG91cjtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FuY2VsU2FsZShjYW5jZWw6IENhbmNlbCk6IHZvaWQge1xuICAgICAgICBsZXQgcmVmdW5kOiBudW1iZXIgPSB0aGlzLmNhbGN1bGF0ZUNhbmNlbFNhbGVSZWZ1bmQoY2FuY2VsKTtcbiAgICAgICAgY2FuY2VsLnJlZnVuZCA9IHJlZnVuZDtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWRMaXN0LnB1c2goY2FuY2VsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsY3VsYXRlQ2FuY2VsU2FsZVJlZnVuZChjYW5jZWxTYWxlOiBDYW5jZWwpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGlmZiA9IHRoaXMuY2FsY3VsYXRlRGlmZkhvdXJzKGNhbmNlbFNhbGUuY2FuY2VsZWREYXRlVGltZSwgY2FuY2VsU2FsZS5jYW5jZWxUeXBlLm9wZXJhdGlvbkRhdGVUaW1lKVxuICAgICAgICBsZXQgcmVmdW5kOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKGRpZmYgPiAyNCkge1xuICAgICAgICAgICAgcmVmdW5kID0gY2FuY2VsU2FsZS5jYW5jZWxUeXBlLnRvdGFsICogMC43NTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IGNhbmNlbFNhbGUuY2FuY2VsVHlwZS50b3RhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVmdW5kO1xuICAgIH1cblxuICAgIGFzeW5jIGNhbmNlbFNhbGVNb2NrKG9wZXJhdGlvbk51bWJlcjogc3RyaW5nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY2FuY2VsU2FsZUFwaSArIFwiL1wiICsgb3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9Ub2RvIHNhbGUgbW9jayBzZXJ2aXNpbmUgZGVsZXRlIGlzdGXEn2kgYXTEsXAgbyBzYWxlIG5lc25lc2luaSBzaWxlY2VrXG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBpxZ9sZW1uZGUgLmpzb24gxZ9la2zFn25kZSBzZXJpbGl6ZSB5YXDEsWxhbWF6LCBoYXRhIHZlcmlyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgY2FuY2VsUmVudChjYW5jZWw6IENhbmNlbCkge1xuICAgICAgICBsZXQgcmVmdW5kOiBudW1iZXIgPSB0aGlzLmNhbGN1bGF0ZUNhbmNlbFJlbnRSZWZ1bmQoY2FuY2VsKTtcbiAgICAgICAgY2FuY2VsLnJlZnVuZCA9IHJlZnVuZDtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWRMaXN0LnB1c2goY2FuY2VsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsY3VsYXRlQ2FuY2VsUmVudFJlZnVuZChjYW5jZWxSZW50OiBDYW5jZWwpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGlmZiA9IHRoaXMuY2FsY3VsYXRlRGlmZkhvdXJzKGNhbmNlbFJlbnQuY2FuY2VsZWREYXRlVGltZSwgY2FuY2VsUmVudC5jYW5jZWxUeXBlLm9wZXJhdGlvbkRhdGVUaW1lKVxuICAgICAgICBsZXQgcmVmdW5kOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKGRpZmYgPiAyNCkge1xuICAgICAgICAgICAgcmVmdW5kID0gY2FuY2VsUmVudC5jYW5jZWxUeXBlLnRvdGFsICogMC43NTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IGNhbmNlbFJlbnQuY2FuY2VsVHlwZS50b3RhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVmdW5kO1xuICAgIH1cblxuICAgIGFzeW5jIGNhbmNlbFJlbnRNb2NrKG9wZXJhdGlvbk51bWJlcjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmNhbmNlbFJlbnRBcGkgKyBcIi9cIiArIG9wZXJhdGlvbk51bWJlciwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4uL2RvbWFpbi9jdXN0b21lclwiO1xuXG5leHBvcnQgY2xhc3MgQ3VzdG9tZXJTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9jdXN0b21lckxpc3Q6IEFycmF5PEN1c3RvbWVyPjtcbiAgICBwcml2YXRlIGN1c3RvbWVyQXBpOiBzdHJpbmcgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvY3VzdG9tZXJzXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihjdXN0b21lckxpc3Q6IEFycmF5PEN1c3RvbWVyPikge1xuICAgICAgICB0aGlzLl9jdXN0b21lckxpc3QgPSBjdXN0b21lckxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGN1c3RvbWVyTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PEN1c3RvbWVyPn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGN1c3RvbWVyTGlzdCgpOiBBcnJheTxDdXN0b21lcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tZXJMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBjdXN0b21lckxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PEN1c3RvbWVyPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGN1c3RvbWVyTGlzdCh2YWx1ZTogQXJyYXk8Q3VzdG9tZXI+KSB7XG4gICAgICAgIHRoaXMuX2N1c3RvbWVyTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGFzeW5jIGdldEFsbEN1c3RvbWVyc0RhdGEoKTogUHJvbWlzZTxBcnJheTxDdXN0b21lcj4+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmN1c3RvbWVyQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGNvbnN0IGdldFJlc3VsdCA9IDxBcnJheTxDdXN0b21lcj4+cmVzdWx0O1xuICAgICAgICByZXR1cm4gZ2V0UmVzdWx0O1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZUN1c3RvbWVyKG5ld0N1c3RvbWVyOiBDdXN0b21lcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmN1c3RvbWVyQXBpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuZXdDdXN0b21lci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdXJOYW1lOiBuZXdDdXN0b21lci5zdXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogbmV3Q3VzdG9tZXIucGhvbmVOdW1iZXJcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN0IHNlcnZpc2luZGVuIGTDtm5lbiBjZXZhcCA9PlwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGdldEN1c3RvbWVyKGN1c3RvbWVySWQ6IG51bWJlcik6IFByb21pc2U8Q3VzdG9tZXI+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5jdXN0b21lckFwaSArIFwiL1wiICsgY3VzdG9tZXJJZCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGFsZXJ0KGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLmJvZHl9YCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICBjb25zdCBnZXRSZXN1bHQgPSA8Q3VzdG9tZXI+cmVzdWx0O1xuICAgICAgICAgICAgcmV0dXJuIGdldFJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgbWVzc2FnZTogJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1bmV4cGVjdGVkIGVycm9yOiAnLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbCBhcyBhbnk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgc3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBSZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50XCI7XG5pbXBvcnQgeyBSZW50Q2FydCB9IGZyb20gXCIuLi9kb21haW4vcmVudC1jYXJ0XCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuLi9kb21haW4vb3JkZXItYm9vay1pdGVtXCI7XG5pbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuLi9kb21haW4vc3RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIFJlbnRTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9yZW50TGlzdDogQXJyYXk8UmVudD47XG5cbiAgICBwcml2YXRlIF9yZW50Q2FydDogUmVudENhcnQ7XG4gICAgcHVibGljIHJlbnRBcGkgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9yZW50cyc7XG4gICAgcmVmdW5kUGVyY2VudDogbnVtYmVyO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihyZW50TGlzdDogQXJyYXk8UmVudD4sIHJlbnRDYXJ0OiBSZW50Q2FydCkge1xuICAgICAgICB0aGlzLl9yZW50TGlzdCA9IHJlbnRMaXN0O1xuICAgICAgICB0aGlzLnJlZnVuZFBlcmNlbnQgPSAwLjc1O1xuICAgICAgICB0aGlzLl9yZW50Q2FydCA9IHJlbnRDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciByZW50TGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFJlbnQ+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcmVudExpc3QoKTogQXJyYXk8UmVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVudExpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlbnRMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxSZW50Pn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJlbnRMaXN0KHZhbHVlOiBBcnJheTxSZW50Pikge1xuICAgICAgICB0aGlzLl9yZW50TGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciByZW50Q2FydFxuICAgICAqIEByZXR1cm4ge1JlbnRDYXJ0fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcmVudENhcnQoKTogUmVudENhcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVudENhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHBhcmFtIHtSZW50Q2FydH0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJlbnRDYXJ0KHZhbHVlOiBSZW50Q2FydCkge1xuICAgICAgICB0aGlzLl9yZW50Q2FydCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRSZW50KHJlbnQ6IFJlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW50TGlzdC5wdXNoKHJlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtpdGFwbGFyxLFuIGhlcHNpIHNlcGV0ZSBla2xlbmRpa3RlbiBzb25yYSB0b3BsbWEgw7xjcmV0aSBoZXNhcGxhdWFuIGZvbmtzaXlvblxuICAgICAqIEBwYXJhbSByZW50IEtpdGFwbGFyxLFuIGxpc3Rlc2luaW4gYnVsdW5kdcSfdSBuZXNuZVxuICAgICAqIEByZXR1cm5zIFRvcGxhbSDDvGNyZXRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlVG90YWwocmVudDogUmVudCk6IG51bWJlciB7XG4gICAgICAgIGxldCBzdWJUb3RhbDogbnVtYmVyID0gMDtcblxuICAgICAgICAvL2l0IGNhbiBiZSA9PiBsZXQgZW50cnkgb2YgcmVudC5ib29rQW5kUXVhbnRpdHlNYXAuZW50cmllcygpXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgcmVudC5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gaXRlbS5ib29rLmJvb2tQcmljZS5wcmljZSAqIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICAvLyBSMDUxMDIyMTQ1NTA5ID0+IGRvbWFpbi5SZW50IDA1LjEwLjIwMjIgMTQ6NTUuMDlcbiAgICBnZW5lcmF0ZVJlbnROdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiUlwiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcoKSArXG4gICAgICAgICAgICB0b2RheS5nZXRNb250aCgpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgdG9kYXkuZ2V0SG91cnMoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgdG9kYXkuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkgKyBjdXN0b21lcklkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpcHROdW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGQxIEtpdGFwbGHEsW4ga2lyYWzEsWsgb2xhcmFrIGFsxLFuZMSxxJ/EsSB0YXJpaFxuICAgICAqIEBwYXJhbSBkMiBLaXRhcGxhcsSxbiBnZXJpIGdldGlyaWxkacSfaSB0YXJpaFxuICAgICAqIEByZXR1cm5zIMSwa2kgdGFyaWggYXJhc8SxbmRha2kgZmFyayAoc2FhdCBvbGFyYWspXG4gICAgICovXG4gICAgcHVibGljIGNhbGN1bGF0ZURpZmZIb3VycyhkMTogRGF0ZSwgZDI6IERhdGUpOiBudW1iZXIge1xuXG4gICAgICAgIGxldCBkaWZmTWlsaXM6IG51bWJlciA9IChkMS5nZXRUaW1lKCkgLSBkMi5nZXRUaW1lKCkpOy8vIG1pbGkgc2Vjb25kc1xuICAgICAgICBsZXQgZGlmZkhvdXIgPSBNYXRoLmZsb29yKGRpZmZNaWxpcyAvIDEwMDAgLyA2MCAvIDYwKTsgLy8gLzEwMDAgPiBzZWNvbmQgLyA2MCA+IG1pbiAvIDYwID4gaG91clxuICAgICAgICByZXR1cm4gZGlmZkhvdXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2l0YXAgaWxrIGtpcmFsYW5kxLHEn8SxIGFuZGEsIHphbWFuxLFuZGEgZ2V0aXJpbGRpxJ9pIGdpYmkgZMO8xZ/DvG7DvGxlcmVrIHZlcmlsZWNlayBvbGFuIHZhcnNhecSxbGFuIGdlcmkgw7ZkZW1lIG1pa3RhcsSxXG4gICAgICogQHBhcmFtIHJlbnQgSGVzYXBsYW5hY2FrIG9sYW4gZ2VyaSDDtmRlbWUgbWlrdGFyxLFuxLFuIGnDp2luZGUgYnVsdW5kdcSfdSBuZXNuZVxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxjdWxhdGVSZWZ1bmQocmVudDogUmVudCk6IHZvaWQge1xuICAgICAgICByZW50LnJlZnVuZCA9IHJlbnQudG90YWwgKiB0aGlzLnJlZnVuZFBlcmNlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2l0YXAga2lyYWxhbmTEsSwgb2t1bmR1IHZlIGdlcmkgZ2V0aXJpbGRpxJ9pIHphbWFuIG5lIGthZGFyIGdlcmkgw7ZkZW1lIHZlcmlsZWNlxJ9pbmkgaGVzYXBsYXJcbiAgICAgKiBAcGFyYW0gcmVudCBIZXNhcGxhbmFjYWsgb2xhbiBnZXJpIMO2ZGVtZSBtaWt0YXLEsW7EsW4gacOnaW5kZSBidWx1bmR1xJ91IG5lc25lXG4gICAgICogQHJldHVybnMgR2VyaSDDtmRlbWUgbWlrdGFyxLFcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlUmVmdW5kQW1vdW50KHJlbnQ6IFJlbnQpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGlmZiA9IHRoaXMuY2FsY3VsYXRlRGlmZkhvdXJzKHJlbnQucmVmdW5kRGF0ZSwgcmVudC5vcGVyYXRpb25EYXRlVGltZSkgLyAyNDtcbiAgICAgICAgbGV0IHJlZnVuZDogbnVtYmVyO1xuXG4gICAgICAgIGlmIChkaWZmIDw9IDE0KSB7XG4gICAgICAgICAgICByZWZ1bmQgPSByZW50LnRvdGFsICogMC43NTtcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmIDw9IDI0KSB7XG4gICAgICAgICAgICBsZXQgZmluZSA9ICgwLjc1IC0gKChkaWZmIC0gMTQpICogMC4wNSkpO1xuICAgICAgICAgICAgcmVmdW5kID0gcmVudC50b3RhbCAqIGZpbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWZ1bmQgPSByZW50LnRvdGFsICogMC4yNTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWZ1bmQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlbnQocmVudE51bWJlcjogc3RyaW5nKTogUmVudCB7XG4gICAgICAgIGxldCByZW50ID0gdGhpcy5yZW50TGlzdC5maW5kKHMgPT4gcy5vcGVyYXRpb25OdW1iZXIgPT09IHJlbnROdW1iZXIpO1xuICAgICAgICByZXR1cm4gcmVudCE7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEJvb2tUb0NhcnQoYm9vazogQm9vaywgcXVhbnRpdHk6IG51bWJlciwgY3VzdG9tZXJJZDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW50Q2FydC5jdXN0b21lcklkID0gY3VzdG9tZXJJZDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQgIT09IGN1c3RvbWVySWQpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIkZhcmtsxLEgbcO8xZ90ZXJpeWUga2l0YXAga2lyYWxhbm1heWEgw6dhbMSxxZ/EsWzEsXlvci4gTMO8dGZlbiB0ZWsgbcO8xZ90ZXJpIGnDp2luIGnFn2xlbSB5YXDEsW7EsXpcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9yZGVyQm9va0l0ZW1zOiBPcmRlckJvb2tJdGVtcyA9IG5ldyBPcmRlckJvb2tJdGVtcyhib29rLCBxdWFudGl0eSk7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMuZmluZEluZGV4KHggPT4geC5ib29rLmlzYm4gPT09IGJvb2suaXNibik7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5wdXNoKG9yZGVyQm9va0l0ZW1zKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtc1tpbmRleF0gPSBvcmRlckJvb2tJdGVtcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVJlbnRDYXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVJlbnRDYXJ0KCkge1xuICAgICAgICBjb25zdCByZW50Q2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVudENhcnRcIik7XG4gICAgICAgIGNvbnN0IHN1YlRvdGFsU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxSZW50QW1vdW50VGxcIik7XG5cbiAgICAgICAgaWYgKHJlbnRDYXJ0KSB7XG5cbiAgICAgICAgICAgIGxldCByb3csIGNvbHVtbiwgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZW50Q2FydC5sYXN0Q2hpbGQgJiYgcmVudENhcnQuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHJlbnRDYXJ0LnJlbW92ZUNoaWxkKHJlbnRDYXJ0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJUb3RhbFNwYW4hLnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1yb3dcIjtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gdGhpcy5yZW50Q2FydC5jdXN0b21lcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5ib29rLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5xdWFudGl0eS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJyZW50LWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IChpdGVtLmJvb2suYm9va1ByaWNlLnByaWNlICogaXRlbS5xdWFudGl0eSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ICYmIHN1YlRvdGFsU3Bhbikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsICs9IHQuYm9vay5ib29rUHJpY2UucHJpY2UgKiB0LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlbnRDYXJ0LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICAgICAgc3ViVG90YWxTcGFuLnRleHRDb250ZW50ID0gc3ViVG90YWwudG9TdHJpbmcoKSArIFwiIFRMXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2FydFRvUmVudCgpIHtcbiAgICAgICAgbGV0IHJlbnRDYXJ0OiBSZW50Q2FydCA9IHRoaXMucmVudENhcnQ7XG4gICAgICAgIGxldCByZW50ID0gbmV3IFJlbnQoKTtcblxuICAgICAgICByZW50Lm9yZGVyQm9va0l0ZW1zID0gcmVudENhcnQub3JkZXJCb29rSXRlbXM7XG4gICAgICAgIHJlbnQuY3VzdG9tZXJJZCA9IHJlbnRDYXJ0LmN1c3RvbWVySWQ7XG4gICAgICAgIHJlbnQub3BlcmF0aW9uTnVtYmVyID0gdGhpcy5nZW5lcmF0ZVJlbnROdW1iZXIocmVudENhcnQuY3VzdG9tZXJJZCk7XG4gICAgICAgIHJlbnQub3BlcmF0aW9uRGF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZW50LnRvdGFsID0gdGhpcy5jYWxjdWxhdGVUb3RhbChyZW50KTtcbiAgICAgICAgbGV0IHJEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgckRhdGUuc2V0RGF0ZShyRGF0ZS5nZXREYXRlKCkgKyAxNCk7XG4gICAgICAgIHJlbnQucmVmdW5kRGF0ZSA9IHJEYXRlO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVJlZnVuZChyZW50KTtcblxuICAgICAgICBmb3IgKGxldCBpIG9mIHJlbnQub3JkZXJCb29rSXRlbXMpIHtcbiAgICAgICAgICAgIGxldCBzdG9jayA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRTdG9ja0J5Qm9va0lkKGkuYm9vay5pZCk7XG4gICAgICAgICAgICBpZiAoc3RvY2spIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW50Q2FydCA9IG5ldyBSZW50Q2FydDsgLy8gc2VwZXRpIGJvxZ9hbHRcbiAgICAgICAgdGhpcy51cGRhdGVSZW50Q2FydCgpO1xuICAgICAgICB0aGlzLmFkZFJlbnRNb2NrKHJlbnQpO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZFJlbnRNb2NrKHI6IFJlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5yZW50QXBpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBvcmRlckJvb2tJdGVtczogQXJyYXkuZnJvbShyLm9yZGVyQm9va0l0ZW1zKSxcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJJZDogci5jdXN0b21lcklkLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25EYXRlVGltZTogci5vcGVyYXRpb25EYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uTnVtYmVyOiByLm9wZXJhdGlvbk51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHIudG90YWwsXG4gICAgICAgICAgICAgICAgICAgIHJlZnVuZERhdGU6IHIucmVmdW5kRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kOiByLnJlZnVuZFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3QgYXBpZGFuIGTDtm5lbiBjZXZhcDpcXG5cIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBhbGVydChcIktpdGFwIGtpcmFsYW1hIGnFn2xlbWkgYmHFn2FyxLF5bGEgZ2Vyw6dla2xlxZ9tacWfdGlyLlwiKTtcbiAgICAgICAgICAgICAgICBhbGVydChcIkZpxZ9pbml6aSBrYXliZXRuZXlpbml6LiBGacWfIG51bWFyYW7EsXo6IFwiICsgci5vcGVyYXRpb25OdW1iZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgICAgIGFsZXJ0KFwiS2l0YXAga2lyYWxhbWEgacWfbGVtaSBzxLFyYXPEsW5kYSBiaXIgaGF0YSBvbHXFn3R1LiBMw7x0ZmVuIHRla3JhciBkZW5leWluaXouXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVmdW5kUmVudE1vY2socjogUmVudCkge1xuICAgICAgICAvL1BBVENIIEJlbGlybGkgYmlyIGtheW5ha3Rha2kgdmVyaWxlcmluIGJpciBrxLFzbcSxbsSxbiBkZcSfacWfdGlyaWxtZXNpIGnDp2luIGt1bGxhbsSxbGFuIG1ldG9kdHVyLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnJlbnRBcGkgKyBcIi9cIiArIHIub3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kRGF0ZTogci5yZWZ1bmREYXRlLFxuICAgICAgICAgICAgICAgICAgICByZWZ1bmQ6IHIucmVmdW5kXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIucmVmdW5kO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IHN0b2NrU2VydmljZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgU2FsZSB9IGZyb20gXCIuLi9kb21haW4vc2FsZVwiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi4vZG9tYWluL29yZGVyLWJvb2staXRlbVwiO1xuaW1wb3J0IHsgU2FsZUNhcnQgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGUtY2FydFwiO1xuXG5leHBvcnQgY2xhc3MgU2FsZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3NhbGVMaXN0OiBBcnJheTxTYWxlPjtcbiAgICBwcml2YXRlIF9zYWxlQ2FydDogU2FsZUNhcnQ7XG4gICAgcHVibGljIHNhbGVBcGkgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9zYWxlcyc7XG5cbiAgICBjb25zdHJ1Y3RvcihzYWxlTGlzdDogQXJyYXk8U2FsZT4sIHNhbGVDYXJ0OiBTYWxlQ2FydCkge1xuICAgICAgICB0aGlzLl9zYWxlTGlzdCA9IHNhbGVMaXN0O1xuICAgICAgICB0aGlzLl9zYWxlQ2FydCA9IHNhbGVDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzYWxlTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGU+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2FsZUxpc3QoKTogQXJyYXk8U2FsZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxTYWxlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNhbGVMaXN0KHZhbHVlOiBBcnJheTxTYWxlPikge1xuICAgICAgICB0aGlzLl9zYWxlTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzYWxlQ2FydFxuICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGVDYXJ0Pn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNhbGVDYXJ0KCk6IFNhbGVDYXJ0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbGVDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzYWxlQ2FydFxuICAgICAqIEBwYXJhbSB7QXJyYXk8U2FsZUNhcnQ+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2FsZUNhcnQodmFsdWU6IFNhbGVDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFNhbGUoc2FsZTogU2FsZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnNhbGVMaXN0LnB1c2goc2FsZSk7XG5cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVUb3RhbChzYWxlOiBTYWxlKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHN1YlRvdGFsID0gMC4wO1xuXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHNhbGUub3JkZXJCb29rSXRlbXMpIHtcbiAgICAgICAgICAgIHN1YlRvdGFsICs9IGVudHJ5LmJvb2suYm9va1ByaWNlLnByaWNlICogZW50cnkucXVhbnRpdHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ViVG90YWw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNhbGUoc2FsZU51bWJlcjogc3RyaW5nKTogU2FsZSB7XG4gICAgICAgIGxldCBzYWxlID0gdGhpcy5zYWxlTGlzdC5maW5kKHMgPT4gcy5vcGVyYXRpb25OdW1iZXIgPT09IHNhbGVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gc2FsZSE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVNhbGUoc2FsZTogU2FsZSkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNhbGVMaXN0LmluZGV4T2Yoc2FsZSk7XG4gICAgICAgIHRoaXMuc2FsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5jdXN0b21lcklkICE9PSBjdXN0b21lcklkKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJGYXJrbMSxIG3DvMWfdGVyaXllIGtpdGFwIHNhdMSxbG1heWEgw6dhbMSxxZ/EsWzEsXlvci4gTMO8dGZlbiB0ZWsgbcO8xZ90ZXJpIGnDp2luIGnFn2xlbSB5YXDEsW7EsXpcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9yZGVyQm9va0l0ZW1zOiBPcmRlckJvb2tJdGVtcyA9IG5ldyBPcmRlckJvb2tJdGVtcyhib29rLCBxdWFudGl0eSk7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMuZmluZEluZGV4KHggPT4geC5ib29rLmlzYm4gPT09IGJvb2suaXNibik7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5wdXNoKG9yZGVyQm9va0l0ZW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXNbaW5kZXhdID0gb3JkZXJCb29rSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVNhbGVDYXJ0KCkge1xuICAgICAgICBjb25zdCBzYWxlQ2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2FsZUNhcnRcIik7XG4gICAgICAgIGNvbnN0IHN1YlRvdGFsU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxTYWxlQW1vdW50VGxcIik7XG5cbiAgICAgICAgaWYgKHNhbGVDYXJ0KSB7XG5cbiAgICAgICAgICAgIGxldCByb3csIGNvbHVtbiwgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChzYWxlQ2FydC5sYXN0Q2hpbGQgJiYgc2FsZUNhcnQuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHNhbGVDYXJ0LnJlbW92ZUNoaWxkKHNhbGVDYXJ0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJUb3RhbFNwYW4hLnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1yb3dcIjtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gdGhpcy5zYWxlQ2FydC5jdXN0b21lcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5ib29rLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5xdWFudGl0eS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IChpdGVtLmJvb2suYm9va1ByaWNlLnByaWNlICogaXRlbS5xdWFudGl0eSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ICYmIHN1YlRvdGFsU3Bhbikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsICs9IHQuYm9vay5ib29rUHJpY2UucHJpY2UgKiB0LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNhbGVDYXJ0LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICAgICAgc3ViVG90YWxTcGFuLnRleHRDb250ZW50ID0gc3ViVG90YWwudG9TdHJpbmcoKSArIFwiIFRMXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2FydFRvU2FsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBsZXQgc2FsZUNhcnQ6IFNhbGVDYXJ0ID0gdGhpcy5zYWxlQ2FydDtcbiAgICAgICAgbGV0IHNhbGUgPSBuZXcgU2FsZSgpO1xuXG4gICAgICAgIHNhbGUub3JkZXJCb29rSXRlbXMgPSBzYWxlQ2FydC5vcmRlckJvb2tJdGVtcztcbiAgICAgICAgc2FsZS5jdXN0b21lcklkID0gc2FsZUNhcnQuY3VzdG9tZXJJZDtcbiAgICAgICAgc2FsZS5vcGVyYXRpb25EYXRlVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHNhbGUudG90YWwgPSB0aGlzLmNhbGN1bGF0ZVRvdGFsKHNhbGUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygc2FsZS5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgbGV0IHN0b2NrID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldFN0b2NrQnlCb29rSWQoaS5ib29rLmlkKTtcbiAgICAgICAgICAgIGlmIChzdG9jaykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3VjY2VzcyA9IHRoaXMuY3JlYXRlU2FsZShzYWxlKTtcbiAgICAgICAgdGhpcy5zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydCgpOyAvLyBzZXBldGkgYm/Fn2FsdFxuICAgICAgICB0aGlzLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZVNhbGUoczogU2FsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNhbGVBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheS5mcm9tKHMub3JkZXJCb29rSXRlbXMpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkOiBzLmN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBzLnRvdGFsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN0IGFwaWRhbiBkw7ZuZW4gY2V2YXA6XFxuXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJLaXRhcCBzYXTEscWfIGnFn2xlbWkgYmHFn2FyxLF5bGEgZ2Vyw6dla2xlxZ9tacWfdGlyLlwiKTtcbiAgICAgICAgICAgICAgICBhbGVydChcIkZpxZ9pbml6aSBrYXliZXRtZXlpbml6LiBGacWfIE51bWFyYXPEsTogXCIgKyBzLm9wZXJhdGlvbk51bWJlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXRhIE9sdcWfdHUuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBpc0V4aXN0U2FsZShvcGVyYXRpb25OdW1iZXI6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc2FsZUFwaSArIFwiL1wiICsgb3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBhcGlkYW4gZMO2bmVuIGNldmFwOlxcblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi4vZG9tYWluL3N0b2NrXCI7XG5cbmV4cG9ydCBjbGFzcyBTdG9ja1NlcnZpY2Uge1xuICAgIHByaXZhdGUgX3N0b2NrTGlzdDogQXJyYXk8U3RvY2s+O1xuICAgIHByaXZhdGUgc3RvY2tBcGk6IHN0cmluZyA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9zdG9ja3NcIjtcblxuICAgIGNvbnN0cnVjdG9yKHN0b2NrTGlzdDogQXJyYXk8U3RvY2s+KSB7XG4gICAgICAgIHRoaXMuX3N0b2NrTGlzdCA9IHN0b2NrTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgc3RvY2tMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8U3RvY2s+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3RvY2tMaXN0KCk6IEFycmF5PFN0b2NrPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9ja0xpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHN0b2NrTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8U3RvY2s+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc3RvY2tMaXN0KHZhbHVlOiBBcnJheTxTdG9jaz4pIHtcbiAgICAgICAgdGhpcy5fc3RvY2tMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc3RvY2sgbmVzbmVzaW5pIGdlcmkgZMO2bmTDvHLDvHJcbiAgICAgKiBAcGFyYW0gaXNibiBzdG9jayBuZXNuZXNpIGdldGlyaWxlY2VrIG9sYW4gbmVzbmVuaW4gaXNibiBub3N1LFxuICAgICAqIEByZXR1cm5zIGRiIG9sYW4gc3RvY2sgbmVzbmVuc2kgZ2VyaSBkw7ZuZXIsIGRiIGRlIHlvayBpc2UgdGhyb3cgaWxlIGhhdGEgZsSxcmxhdMSxcmzEsXJcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3RvY2tCeUJvb2tJZChib29rSWQ6IG51bWJlcik6IFByb21pc2U8U3RvY2s+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zdG9ja0FwaSArIFwiL3E/Ym9va0lkPVwiICsgYm9va0lkLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0b2NrPnJlc3VsdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgbWVzc2FnZTogJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1bmV4cGVjdGVkIGVycm9yOiAnLCBlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsIGFzIGFueTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEXEn2VyIHN0b2sgbmVzbmVzaSB5b2sgaXNlIHN0b2sgbmVzbmVzaSwgYmVsaXJ0aWxlbiBhZGV0IGthZGFyIHN0b2sgYmlsZ2lzaSBpbGUgYmVyYWJlciBla2xlbml5b3IuXG4gICAgICogxLDFn3RlIGJ1IG9sdcWfdHVybWEvY3JlYXRlIGnFn2xlbWkgYnVyYWRhIHlhcMSxbMSxeW9yLlxuICAgICAqIEBwYXJhbSBzIGluZGV4LnRzIGRvc3lhc8SxbmRhbiBnZWxlbiBzdG9rIG5lc25lc2lcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVTdG9jayhzOiBTdG9jayk6IFByb21pc2U8Qm9vbGVhbiB8IHVuZGVmaW5lZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnN0b2NrQXBpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogcy5xdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgc2hlbGZOdW1iZXI6IHMuc2hlbGZOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGJvb2s6IHMuYm9va1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicgKyBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRBbGxTdG9ja3NEYXRhKCk6IFByb21pc2U8QXJyYXk8U3RvY2s+PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zdG9ja0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zdCBnZXRSZXN1bHQgPSA8QXJyYXk8U3RvY2s+PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCA0KSk7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuICAgIFxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJfYm9va3MiLCJBcnJheSIsIl9zdG9ja3MiLCJfY3VzdG9tZXJzIiwiX3NhbGVzIiwiX3JlbnRzIiwiX2Jvb2tTcGVjaWZpY2F0aW9ucyIsIl9jYW5jZWxzIiwiX3NhbGVDYXJ0IiwiU2FsZUNhcnQiLCJfcmVudENhcnQiLCJSZW50Q2FydCIsImdldEJvb2tzTGlzdCIsImdldFN0b2Nrc0xpc3QiLCJnZXRDdXN0b21lcnNMaXN0IiwiZ2V0U2FsZXNMaXN0IiwiZ2V0UmVudHMiLCJnZXRCb29rU3BlY2lmaWNhdGlvbnMiLCJnZXRDYW5jYWxlZFNhbGVzIiwiZ2V0U2FsZUNhcnQiLCJnZXRSZW50Q2FydCIsInNldFNhbGVDYXJ0IiwidmFsdWUiLCJzZXRSZW50Q2FydCIsImlkIiwiX2lkIiwicHJpY2UiLCJfcHJpY2UiLCJzdGFydERhdGUiLCJfc3RhcnREYXRlIiwiZW5kRGF0ZSIsIl9lbmREYXRlIiwiaXNibiIsIm5hbWUiLCJhdXRob3IiLCJwdWJsaXNoWWVhciIsInBhZ2VzIiwiYm9va1ByaWNlIiwiX25hbWUiLCJfYXV0aG9yIiwiX2lzYm4iLCJfcHVibGlzaFllYXIiLCJfcGFnZXMiLCJfYm9va1ByaWNlIiwic3VyTmFtZSIsInBob25lTnVtYmVyIiwiX3N1ck5hbWUiLCJfcGhvbmVOdW1iZXIiLCJib29rIiwicXVhbnRpdHkiLCJfYm9vayIsIl9xdWFudGl0eSIsInRvSlNPTiIsIm9yZGVyQm9va0l0ZW1zIiwiUmVudCIsIlNhbGUiLCJzYWxlQm9va0l0ZW1zIiwib3BlcmF0aW9uRGF0ZVRpbWUiLCJjdXN0b21lcklkIiwib3BlcmF0aW9uTnVtYmVyIiwidG90YWwiLCJyZWZ1bmREYXRlIiwicmVmdW5kIiwic3VwZXIiLCJfcmVmdW5kRGF0ZSIsIl9yZWZ1bmQiLCJfb3JkZXJCb29rSXRlbXMiLCJfY3VzdG9tZXJJZCIsIl9vcGVyYXRpb25EYXRlVGltZSIsIl9vcGVyYXRpb25OdW1iZXIiLCJfdG90YWwiLCJzaGVsZk51bWJlciIsIl9zaGVsZk51bWJlciIsImluaXRpbGlhemVEYXRhIiwiYm9va1NlcnZpY2UiLCJnZXRBbGxCb29rc0RhdGEiLCJzdG9ja1NlcnZpY2UiLCJnZXRBbGxTdG9ja3NEYXRhIiwiY3VzdG9tZXJTZXJ2aWNlIiwiZ2V0QWxsQ3VzdG9tZXJzRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJib29rTGlzdCIsInN0b2NrTGlzdCIsImN1c3RvbWVyTGlzdCIsInNob3dBbmRIaWRlIiwiYnRuSWQiLCJlbGVtZW50SWQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJkYiIsIkRhdGFCYXNlIiwiQm9va1NlcnZpY2UiLCJDdXN0b21lclNlcnZpY2UiLCJjYW5jZWxTZXJ2aWNlIiwiQ2FuY2VsU2VydmljZSIsInJlbnRTZXJ2aWNlIiwiUmVudFNlcnZpY2UiLCJzYWxlU2VydmljZSIsIlNhbGVTZXJ2aWNlIiwiU3RvY2tTZXJ2aWNlIiwiYWRkQm9va0Zvcm0iLCJvbnN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0aXRsZSIsImdldCIsIkJvb2tQcmljZSIsIkJvb2siLCJzb21lIiwib2JqIiwiY3JlYXRlQm9vayIsImFsZXJ0IiwicmVzZXQiLCJsaXN0Qm9va3MiLCJhZGRTdG9ja0Zvcm0iLCJxdWFudHRpeSIsImZpbmQiLCJiIiwic3RvY2siLCJTdG9jayIsImNyZWF0ZVN0b2NrIiwiYWRkQ3VzdG9tZXJGb3JtIiwic3VybmFtZSIsImN1c3RvbWVyIiwiQ3VzdG9tZXIiLCJjcmVhdGVDdXN0b21lciIsInNhbGVCb29rRm9ybSIsImdldEJvb2siLCJwYXJzZUludCIsImlzVmFsaWRDdXN0b21lciIsImdldEN1c3RvbWVyIiwiZ2V0U3RvY2tCeUJvb2tJZCIsImFkZEJvb2tUb0NhcnQiLCJlcnJvciIsInNhbGVDYXJ0IiwibGVuZ3RoIiwiY2FydFRvU2FsZSIsImNhbmNlbFNhbGVGb3JtIiwic2FsZU51bWJlciIsImlzRXhpc3RTYWxlIiwiY2FuY2VsU2FsZU1vY2siLCJjYW5jZWxSZW50Rm9ybSIsInJlbnROdW1iZXIiLCJjYW5jZWxSZW50TW9jayIsInJlbnRCb29rRm9ybSIsInJlbnRDYXJ0IiwiY2FydFRvUmVudCIsInJlZnVuZEJvb2tGb3JtIiwibGlzdEJvb2tzRGl2Iiwicm93IiwiY29sdW1uIiwibGFzdENoaWxkIiwiY2hpbGRyZW4iLCJyZW1vdmVDaGlsZCIsImZvckVhY2giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidGV4dENvbnRlbnQiLCJ0b1N0cmluZyIsImFwcGVuZENoaWxkIiwicSIsInMiLCJzYmkiLCJwdXNoIiwiT3JkZXJCb29rSXRlbXMiLCJyRGF0ZSIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImEiLCJjYWxjdWxhdGVSZWZ1bmRBbW91bnQiLCJyZW50TGlzdCIsInJlbnQiLCJnZXRSZW50IiwicmVmdW5kUmVudE1vY2siLCJib29rU3BlY2lmaWNhdGlvbiIsImJvb2tBcGkiLCJfYm9va0xpc3QiLCJfYm9va1NwZWNpZmljYXRpb24iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiYm9keSIsImJvb2tQcmljZUNyZWF0ZUR0byIsIkV4Y2VwdGlvbiIsImNhbmNlbGxlZExpc3QiLCJjYW5jZWxTYWxlQXBpIiwiY2FuY2VsUmVudEFwaSIsIl9jYW5jZWxsZWRMaXN0IiwiY2FsY3VsYXRlRGlmZkhvdXJzIiwiZDEiLCJkMiIsImRpZmZNaWxpcyIsImdldFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJjYW5jZWxTYWxlIiwiY2FuY2VsIiwiY2FsY3VsYXRlQ2FuY2VsU2FsZVJlZnVuZCIsImNhbmNlbGVkRGF0ZVRpbWUiLCJjYW5jZWxUeXBlIiwiY2FuY2VsUmVudCIsImNhbGN1bGF0ZUNhbmNlbFJlbnRSZWZ1bmQiLCJjdXN0b21lckFwaSIsIl9jdXN0b21lckxpc3QiLCJuZXdDdXN0b21lciIsIm1lc3NhZ2UiLCJyZW50QXBpIiwiX3JlbnRMaXN0IiwicmVmdW5kUGVyY2VudCIsImFkZFJlbnQiLCJjYWxjdWxhdGVUb3RhbCIsInN1YlRvdGFsIiwiaXRlbSIsImdlbmVyYXRlUmVudE51bWJlciIsInRvZGF5IiwiZ2V0RGF5IiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJjYWxjdWxhdGVSZWZ1bmQiLCJkaWZmIiwiZmluZSIsImluZGV4IiwiZmluZEluZGV4IiwieCIsInVwZGF0ZVJlbnRDYXJ0Iiwic3ViVG90YWxTcGFuIiwidCIsImkiLCJhZGRSZW50TW9jayIsInIiLCJmcm9tIiwic2FsZUxpc3QiLCJzYWxlQXBpIiwiX3NhbGVMaXN0IiwiYWRkU2FsZSIsInNhbGUiLCJlbnRyeSIsImdldFNhbGUiLCJyZW1vdmVTYWxlIiwiaW5kZXhPZiIsInNwbGljZSIsInVwZGF0ZVNhbGVDYXJ0Iiwic3VjY2VzcyIsImNyZWF0ZVNhbGUiLCJzdG9ja0FwaSIsIl9zdG9ja0xpc3QiLCJib29rSWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9