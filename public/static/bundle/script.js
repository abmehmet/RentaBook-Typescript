(()=>{"use strict";var t={221:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataBase=void 0;const n=o(758),r=o(51);e.DataBase=class{constructor(){this._books=new Array,this._stocks=new Array,this._customers=new Array,this._sales=new Array,this._rents=new Array,this._bookSpecifications=new Array,this._cancels=new Array,this._saleCart=new r.SaleCart,this._rentCart=new n.RentCart}get getBooksList(){return this._books}get getStocksList(){return this._stocks}get getCustomersList(){return this._customers}get getSalesList(){return this._sales}get getRents(){return this._rents}get getBookSpecifications(){return this._bookSpecifications}get getCancaledSales(){return this._cancels}get getSaleCart(){return this._saleCart}get getRentCart(){return this._rentCart}set setSaleCart(t){this._saleCart=t}set setRentCart(t){this._rentCart=t}}},333:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BookPrice=void 0,e.BookPrice=class{get id(){return this._id}set id(t){this._id=t}get price(){return this._price}get startDate(){return this._startDate}get endDate(){return this._endDate}set price(t){this._price=t}set startDate(t){this._startDate=t}set endDate(t){this._endDate=t}}},934:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Book=void 0,e.Book=class{constructor(t,e,o,n,r,i){this._name=e,this._author=o,this._isbn=t,this._publishYear=n,this._pages=r,this._bookPrice=i}get id(){return this._id}set id(t){this._id=t}get isbn(){return this._isbn}get name(){return this._name}get author(){return this._author}get publishYear(){return this._publishYear}get pages(){return this._pages}get bookPrice(){return this._bookPrice}set isbn(t){this._isbn=t}set name(t){this._name=t}set author(t){this._author=t}set publishYear(t){this._publishYear=t}set pages(t){this._pages=t}set bookPrice(t){this._bookPrice=t}}},916:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Customer=void 0,e.Customer=class{constructor(t,e,o){this._name=t,this._surName=e,this._phoneNumber=o}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}get surName(){return this._surName}get phoneNumber(){return this._phoneNumber}set name(t){this._name=t}set surName(t){this._surName=t}set phoneNumber(t){this._phoneNumber=t}}},767:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OrderBookItems=void 0,e.OrderBookItems=class{constructor(t,e){this._book=t,this._quantity=e}get book(){return this._book}get quantity(){return this._quantity}set book(t){this._book=t}set quantity(t){this._quantity=t}toJSON(){return{book:this._book,quantity:this._quantity}}}},758:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RentCart=void 0,e.RentCart=class{constructor(){this.orderBookItems=new Array}}},51:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaleCart=void 0,e.SaleCart=class{constructor(){this.orderBookItems=new Array}}},72:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stock=void 0,e.Stock=class{constructor(t,e,o){this._quantity=t,this._shelfNumber=e,this._book=o}get id(){return this._id}set id(t){this._id=t}get book(){return this._book}set book(t){this._book=t}get quantity(){return this._quantity}get shelfNumber(){return this._shelfNumber}set quantity(t){this._quantity=t}set shelfNumber(t){this._shelfNumber=t}}},607:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.stockService=e.saleService=e.rentService=e.cancelService=e.customerService=e.bookService=void 0;const r=o(221),i=o(934),a=o(333),s=o(916),c=o(72),l=o(946),u=o(943),d=o(709),h=o(148),m=o(478),k=o(214);function p(){return n(this,void 0,void 0,(function*(){e.bookService.bookList=yield e.bookService.getAllBooksData(),e.stockService.stockList=yield e.stockService.getAllStocksData(),e.customerService.customerList=yield e.customerService.getAllCustomersData(),console.table(e.bookService.bookList),console.table(e.stockService.stockList),console.table(e.customerService.customerList),console.log("Data intiliazed.")}))}function v(t,e){const o=document.getElementById(e),n=document.getElementById(t);o&&n&&n.addEventListener("click",(()=>{"none"===o.style.display?o.style.display="block":o.style.display="none"}))}var f;f=new r.DataBase,e.bookService=new l.BookService(f.getBooksList,f.getBookSpecifications),e.customerService=new d.CustomerService(f.getCustomersList),e.cancelService=new u.CancelService(f.getCancaledSales),e.rentService=new h.RentService(f.getRents,f.getRentCart),e.saleService=new m.SaleService(f.getSalesList,f.getSaleCart),e.stockService=new k.StockService(f.getStocksList),console.log("Services intiliazed."),p(),v("addBookMenuItem","addBookSection"),v("showBooksMenuItem","listBooksSection"),v("addCustomerMenuItem","addCustomerSection"),v("addStockMenuItem","addStockSection"),v("saleBookMenuItem","saleBookSection"),v("rentBookMenuItem","rentBookSection"),v("cancelSaleMenuItem","cancelSaleSection"),v("cancelRentMenuItem","cancelRentSection"),v("refundBookMenuItem","refundBookSection"),v("rentNow","rentBookSection");const y=document.getElementById("add-book-form");null!=y&&(y.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(y),n=o.get("bookTitle"),r=o.get("bookAuthor"),s=o.get("bookIsbn"),c=o.get("bookPublishYear"),l=o.get("bookPages"),u=o.get("bookPrice");let d=new a.BookPrice;d.price=u;let h=new i.Book(s,n,r,c,l,d);if(!1===e.bookService.bookList.some((t=>t.isbn===h.isbn))){try{yield e.bookService.createBook(h),alert(h.isbn+" numaralı kitap Ekleme İşlemi Başarı İle Tamamlanmıştır."),y.reset(),I()}catch(t){alert(h.isbn+" numaralı kitap Ekleme İşlemi Sırasında Bir Hata oluştu.")}return!1}alert("Aynı ISBN numrasına sahip ikinci bir kitap eklenemz.")})));const b=document.getElementById("add-stock-form");b&&(b.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(b),n=o.get("bookIsbnForAddStock"),r=o.get("stockQuantity"),i=o.get("shelfNumber"),a=e.bookService.bookList.find((t=>t.isbn===n));if(a){const t=new c.Stock(r,i,a);(yield e.stockService.createStock(t))&&(alert(n+" isbn numaralı kitaptan, "+r+" kadar sisteme stok eklenmiştir."),yield p(),yield I())}else alert("Stok eklenmeye çalışılan kitaba ait isbn numarası hatalıdır.");return b.reset(),!1})));const g=document.getElementById("add-customer-form");g&&(g.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(g),n=o.get("customerName"),r=o.get("customerSurname"),i=o.get("customerPhoneNumber"),a=new s.Customer(n,r,i);return(yield e.customerService.createCustomer(a))?(alert("Müşteri Ekleme İşlemi Başarı İle Tamamlanmıştır. "),g.reset()):alert("Müşteri Ekleme İşlemi Sırasında bir hata ile karşılıldı. "),!1})));const S=document.getElementById("sale-book-form");S&&(S.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(S),n=o.get("isbnForSale"),r=parseInt(o.get("customerIdForSale")),i=parseInt(o.get("quantityForSale"));try{let t=yield e.bookService.getBook(n);if(t){let o=yield e.stockService.getStockByBookId(t.id);o?o.quantity>=i?(yield e.customerService.getCustomer(r))?e.saleService.addBookToCart(t,i,r):alert(r+" numaralı müşteri kayıtlı değildir."):alert(i+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${n} numaralı kitabın stoğu mevcut değildir.`)}else alert(n+" numaralı kitap dükkanda kayıtlı değildir.");return S.reset(),!1}catch(t){alert(t.message)}}))),document.getElementById("btnSale").addEventListener("click",(t=>n(void 0,void 0,void 0,(function*(){if(t.preventDefault(),0===e.saleService.saleCart.orderBookItems.length)alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz");else try{let t=yield e.saleService.createSale();t?(I(),alert("Kitap satış işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetmeyiniz. Fiş Numarası: "+t.operationNumber)):alert("Kitap satış işleminde hata meydana geldi")}catch(t){alert(t.message)}})))),document.getElementById("showBooksMenuItem").addEventListener("click",(()=>{I()}));const C=document.getElementById("cancel-sale-form");C&&(C.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(C).get("saleNumberforCancel");!0===(yield e.saleService.isExistSale(o))?(yield e.cancelService.cancelSale(o))?(I(),alert(o+" numaralı satış iptal edilmiştir.")):alert(o+" numaralı satış iptal edilirken hata meydana geldi."):alert(o+" numaralı satış bulunamamıştır. Tekrar deneyiniz.")})));const _=document.getElementById("cancel-rent-form");_&&(_.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(_).get("rentNumberforCancel");(yield e.cancelService.cancelRent(o))?(I(),alert(o+" numaralı kiralama iptal edilmiştir.")):alert(o+" numaralı kiralma bulunamamıştır. Tekrar deneyiniz.")})));const B=document.getElementById("rent-book-form");B&&(B.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(B),n=o.get("isbnForRent"),r=parseInt(o.get("customerIdForRent")),i=parseInt(o.get("quantityForRent"));try{let t=yield e.bookService.getBook(n);if(t){const o=yield e.stockService.getStockByBookId(t.id);o?o.quantity>=i?(yield e.customerService.getCustomer(r))?e.rentService.addBookToCart(t,i,r):alert(r+" numaralı müşteri kayıtlı değildir."):alert(i+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${n} numaralı kitabın stoğu mevcut değildir. Önce stok ekleyiniz`)}else alert(n+" numaralı kitap yoktur.");return B.reset(),!1}catch(t){alert(t.message)}}))),document.getElementById("btnRent").addEventListener("click",(t=>n(void 0,void 0,void 0,(function*(){if(t.preventDefault(),0===e.rentService.rentCart.orderBookItems.length)alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz");else try{let t=yield e.rentService.createRent();t&&(alert("Kitap kiralama işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetneyiniz. Fiş numaranız: "+t.operationNumber),I())}catch(t){alert(t.message)}}))));const w=document.getElementById("refund-book-form");function I(){return n(this,void 0,void 0,(function*(){e.bookService.bookList=yield e.bookService.getAllBooksData(),e.stockService.stockList=yield e.stockService.getAllStocksData();const t=document.getElementById("listBooks");if(t){let o,n;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.bookService.bookList.forEach((r=>{o=document.createElement("div"),o.className="row-list-book",n=document.createElement("div"),n.className="column-list-book",n.textContent=r.isbn.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=r.name.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=r.author.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book";let i=0;!0===e.stockService.stockList.some((t=>t.book.id===r.id))&&(i=e.stockService.stockList.find((t=>t.book.id===r.id)).quantity),n.textContent=i.toString(),o.appendChild(n),n=document.createElement("div"),n.className="column-list-book",n.textContent=r.bookPrice.price.toString()+" ₺",o.appendChild(n),t.appendChild(o)}))}}))}w&&(w.onsubmit=t=>n(void 0,void 0,void 0,(function*(){t.preventDefault();const o=new FormData(w).get("rentNumberforRefund");if(!0===(yield e.rentService.isExistRent(o))){let t=yield e.rentService.refundRent(o);t?(I(),alert(t.operationNumber+" numaralı kiralama geri alınmıştır."),alert("Geri ödeme miktarı:"+t.refund+" ₺ .")):alert(o+" numaralı kiralama iptal edilirken hata meydana geldi.")}else alert(o+" numaralı kiralama bulunamamıştır. Tekrar deneyiniz.")})))},946:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BookService=void 0;const n="http://localhost:3002/api/v1/books";e.BookService=class{constructor(t,e){this._bookList=t,this._bookSpecification=e}get bookList(){return this._bookList}get bookSpecification(){return this._bookSpecification}set bookList(t){this._bookList=t}set bookSpecification(t){this._bookSpecification=t}getBook(t){return o(this,void 0,void 0,(function*(){const e=yield fetch(n+"/q?isbn="+t,{method:"GET",headers:{Accept:"application/json"}});return e.ok?yield e.json():null}))}getAllBooksData(){return o(this,void 0,void 0,(function*(){const t=yield fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);return yield t.json()}))}createBook(t){return o(this,void 0,void 0,(function*(){const e=yield fetch(n,{method:"POST",body:JSON.stringify({isbn:t.isbn,name:t.name,author:t.author,pages:t.pages,publishYear:t.publishYear,bookPriceCreateDto:{price:t.bookPrice.price}}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const o=yield e.json();console.log("Rest servisinden dönen cevap =>"),console.log(o),this.bookList=yield this.getAllBooksData()}))}}},943:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CancelService=void 0;const n="http://localhost:3002/api/v1/sales";e.CancelService=class{constructor(t){this._cancelledList=t}get cancelledList(){return this._cancelledList}set cancelledList(t){this._cancelledList=t}cancelRent(t){return o(this,void 0,void 0,(function*(){const e=yield fetch(n+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});return!!e.ok&&(console.log(e),!0)}))}cancelSale(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(n+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok)return console.log(e),!0;throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}}},709:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomerService=void 0;const n="http://localhost:3002/api/v1/customers";e.CustomerService=class{constructor(t){this._customerList=t}get customerList(){return this._customerList}set customerList(t){this._customerList=t}getAllCustomersData(){return o(this,void 0,void 0,(function*(){const t=yield fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);return yield t.json()}))}createCustomer(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(n,{method:"POST",body:JSON.stringify({name:t.name,surName:t.surName,phoneNumber:t.phoneNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log("Rest servisinden dönen cevap =>"),console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu.")}}))}getCustomer(t){return o(this,void 0,void 0,(function*(){const e=yield fetch(n+"/"+t,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Aranan müşteri bulunamadı, hata kodu:, ${e.status}`);return yield e.json()}))}}},148:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.RentService=void 0;const r=o(758),i=o(767),a="http://localhost:3002/api/v1/rents";e.RentService=class{constructor(t,e){this._rentList=t,this.refundPercent=.75,this._rentCart=e}get rentList(){return this._rentList}set rentList(t){this._rentList=t}get rentCart(){return this._rentCart}set rentCart(t){this._rentCart=t}calculateTotal(){let t=0;for(let e of this.rentCart.orderBookItems)t+=e.book.bookPrice.price*e.quantity;return t}getRent(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(a+"/"+t,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return null;return yield e.json()}catch(t){return t instanceof Error?console.log("error message: ",t.message):console.log("unexpected error: ",t),null}}))}addBookToCart(t,e,o){if(0===this.rentCart.orderBookItems.length)this.rentCart.customerId=o;else if(this.rentCart.orderBookItems.length>0&&this.rentCart.customerId!==o)return alert("Farklı müşteriye kitap kiralanmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let n=new i.OrderBookItems(t,e),r=this.rentCart.orderBookItems.findIndex((e=>e.book.isbn===t.isbn));-1===r?this.rentCart.orderBookItems.push(n):this.rentCart.orderBookItems[r]=n,this.updateRentCart()}updateRentCart(){const t=document.getElementById("rentCart"),e=document.getElementById("totalRentAmountTl");if(t){let o,n,r=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.textContent="";for(let t=0;t<this.rentCart.orderBookItems.length;t++){o=document.createElement("div"),o.className="rent-cart-row";for(let t of this.rentCart.orderBookItems)n=document.createElement("div"),n.className="rent-cart-column",n.textContent=this.rentCart.customerId.toString(),o.appendChild(n),n=document.createElement("div"),n.className="rent-cart-column",n.textContent=t.book.name,o.appendChild(n),n=document.createElement("div"),n.className="rent-cart-column",n.textContent=t.quantity.toString(),o.appendChild(n),n=document.createElement("div"),n.className="rent-cart-column",n.textContent=(t.book.bookPrice.price*t.quantity).toString(),o.appendChild(n)}if(o&&e){for(let t of this.rentCart.orderBookItems)r+=t.book.bookPrice.price*t.quantity;t.appendChild(o),e.textContent=r.toString()+" TL"}}}createRent(){return n(this,void 0,void 0,(function*(){const t=yield fetch(a,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(this.rentCart.orderBookItems),customerId:this.rentCart.customerId,total:this.calculateTotal()}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);const e=yield t.json();return console.log("Rest apidan dönen cevap:\n"),console.log(e),this.rentCart=new r.RentCart,this.updateRentCart(),e}))}refundRent(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch("http://localhost:3002/api/v1/refunds/rents/"+t,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log(t),t}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){return console.log("Hata Oluştu."),null}}))}isExistRent(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(a+"/"+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(e),e.ok){const t=yield e.json();return console.log("Rest apidan dönen cevap:\n"),console.log(t),!0}return!1}))}}},478:function(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SaleService=void 0;const r=o(767),i=o(51),a="http://localhost:3002/api/v1/sales";e.SaleService=class{constructor(t,e){this._saleList=t,this._saleCart=e}get saleList(){return this._saleList}set saleList(t){this._saleList=t}get saleCart(){return this._saleCart}set saleCart(t){this._saleCart=t}calculateTotal(t){let e=0;for(let o of t)e+=o.book.bookPrice.price*o.quantity;return e}addBookToCart(t,e,o){if(0===this.saleCart.orderBookItems.length)this.saleCart.customerId=o;else if(this.saleCart.orderBookItems.length>0&&this.saleCart.customerId!==o)return alert("Farklı müşteriye kitap satılmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let n=new r.OrderBookItems(t,e),i=this.saleCart.orderBookItems.findIndex((e=>e.book.isbn===t.isbn));-1===i?this.saleCart.orderBookItems.push(n):this.saleCart.orderBookItems[i]=n,this.updateSaleCart()}updateSaleCart(){const t=document.getElementById("saleCart"),e=document.getElementById("totalSaleAmountTl");if(t){let o,n,r=0;for(;t.lastChild&&t.children.length>1;)t.removeChild(t.lastChild);e.textContent="";for(let t=0;t<this.saleCart.orderBookItems.length;t++){o=document.createElement("div"),o.className="sale-cart-row";for(let t of this.saleCart.orderBookItems)n=document.createElement("div"),n.className="sale-cart-column",n.textContent=this.saleCart.customerId.toString(),o.appendChild(n),n=document.createElement("div"),n.className="sale-cart-column",n.textContent=t.book.name,o.appendChild(n),n=document.createElement("div"),n.className="sale-cart-column",n.textContent=t.quantity.toString(),o.appendChild(n),n=document.createElement("div"),n.className="sale-cart-column",n.textContent=(t.book.bookPrice.price*t.quantity).toString(),o.appendChild(n)}if(o&&e){for(let t of this.saleCart.orderBookItems)r+=t.book.bookPrice.price*t.quantity;t.appendChild(o),e.textContent=r.toString()+" TL"}}}createSale(){return n(this,void 0,void 0,(function*(){const t=yield fetch(a,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(this.saleCart.orderBookItems),customerId:this.saleCart.customerId,total:this.calculateTotal(this.saleCart.orderBookItems)}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error(`Kitap satış işleminde hata meydana geldi, hata kodu: ${t.status} `);const e=yield t.json();return this.saleCart=new i.SaleCart,this.updateSaleCart(),console.log("Rest apidan dönen cevap:\n"),console.log(e),e}))}isExistSale(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(a+"/"+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(e),!e.ok)return!1;const o=yield e.json();return console.log("Rest apidan dönen cevap:\n"),console.log(o),!0}))}}},214:function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.StockService=void 0;const n="http://localhost:3002/api/v1/stocks";e.StockService=class{constructor(t){this._stockList=t}get stockList(){return this._stockList}set stockList(t){this._stockList=t}getStockByBookId(t){return o(this,void 0,void 0,(function*(){const e=yield fetch(n+"/q?bookId="+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Stok bilgisine ulaşılamadı, Hata kodu: ${e.status} `);return yield e.json()}))}createStock(t){return o(this,void 0,void 0,(function*(){try{const e=yield fetch(n,{method:"POST",body:JSON.stringify({quantity:t.quantity,shelfNumber:t.shelfNumber,book:t.book}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=yield e.json();return console.log(t),!0}throw new Error(`Hata oluştu, hata kodu: ${e.status} `)}catch(t){console.log("Hata Oluştu."+t)}}))}getAllStocksData(){return o(this,void 0,void 0,(function*(){const t=yield fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);const e=yield t.json();return JSON.parse(JSON.stringify(e,null,4))}))}}}},e={};!function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLENBQ3BDNUMsT0FBUSxNQUNSQyxRQUFTLENBQ0xDLE9BQVEsc0JBSWhCLElBQUtKLEVBQVNLLEdBQ1YsTUFBTSxJQUFJRSxNQUFNLDJCQUEyQlAsRUFBU1EsV0FFeEQsTUFBTUssUUFBZ0JiLEVBQVNNLE9BRS9CLE9BRGdDSSxLQUFLdUMsTUFBTXZDLEtBQUtDLFVBQVVFLEVBQVEsS0FBTSxHQUU1RSxHLEtDL0ZBcUMsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RiL2RhdGFiYXNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9ib29rLXByaWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9ib29rLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9jdXN0b21lci50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vb3JkZXItYm9vay1pdGVtLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9yZW50LWNhcnQudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3NhbGUtY2FydC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vc3RvY2sudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9ib29rLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9jYW5jZWwtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2N1c3RvbWVyLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9yZW50LXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9zYWxlLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvc2VydmljZS9zdG9jay1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rUHJpY2UgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2stcHJpY2VcIjtcbmltcG9ydCB7IENhbmNlbCB9IGZyb20gXCIuLi9kb21haW4vY2FuY2VsXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuLi9kb21haW4vY3VzdG9tZXJcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnRcIjtcbmltcG9ydCB7IFJlbnRDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50LWNhcnRcIjtcbmltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGVcIjtcbmltcG9ydCB7IFNhbGVDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlLWNhcnRcIjtcbmltcG9ydCB7IFN0b2NrIH0gZnJvbSBcIi4uL2RvbWFpbi9zdG9ja1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YUJhc2Uge1xuXG4gICAgIHByaXZhdGUgX2Jvb2tzOiBBcnJheTxCb29rPjsvL1xuICAgICBwcml2YXRlIF9zdG9ja3M6IEFycmF5PFN0b2NrPjtcbiAgICAgcHJpdmF0ZSBfY3VzdG9tZXJzOiBBcnJheTxDdXN0b21lcj47Ly9cbiAgICAgcHJpdmF0ZSBfc2FsZXM6IEFycmF5PFNhbGU+Oy8vXG4gICAgIHByaXZhdGUgX3JlbnRzOiBBcnJheTxSZW50PjtcbiAgICAgcHJpdmF0ZSBfYm9va1NwZWNpZmljYXRpb25zOiBBcnJheTxCb29rUHJpY2U+O1xuICAgICBwcml2YXRlIF9jYW5jZWxzOiBBcnJheTxDYW5jZWw+Oy8vXG4gICAgIHByaXZhdGUgX3NhbGVDYXJ0OiBTYWxlQ2FydDtcbiAgICAgcHJpdmF0ZSBfcmVudENhcnQ6UmVudENhcnQ7XG5cbiAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgdGhpcy5fYm9va3MgPSBuZXcgQXJyYXk8Qm9vaz4oKTtcbiAgICAgICAgICB0aGlzLl9zdG9ja3MgPSBuZXcgQXJyYXk8U3RvY2s+KCk7XG4gICAgICAgICAgdGhpcy5fY3VzdG9tZXJzID0gbmV3IEFycmF5PEN1c3RvbWVyPigpO1xuICAgICAgICAgIHRoaXMuX3NhbGVzID0gbmV3IEFycmF5PFNhbGU+KCk7XG4gICAgICAgICAgdGhpcy5fcmVudHMgPSBuZXcgQXJyYXk8UmVudD4oKTtcbiAgICAgICAgICB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbnMgPSBuZXcgQXJyYXk8Qm9va1ByaWNlPigpO1xuICAgICAgICAgIHRoaXMuX2NhbmNlbHMgPSBuZXcgQXJyYXk8Q2FuY2VsPigpO1xuICAgICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gbmV3IFNhbGVDYXJ0KCk7XG4gICAgICAgICAgdGhpcy5fcmVudENhcnQgPSBuZXcgUmVudENhcnQ7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGJvb2tzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2s+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRCb29rc0xpc3QoKTogQXJyYXk8Qm9vaz4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgc3RvY2tzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFN0b2NrPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0U3RvY2tzTGlzdCgpOiBBcnJheTxTdG9jaz4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zdG9ja3M7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGN1c3RvbWVyc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxDdXN0b21lcj59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEN1c3RvbWVyc0xpc3QoKTogQXJyYXk8Q3VzdG9tZXI+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tZXJzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzYWxlc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxTYWxlPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0U2FsZXNMaXN0KCk6IEFycmF5PFNhbGU+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2FsZXM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHJlbnRzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFJlbnQ+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRSZW50cygpOiBBcnJheTxSZW50PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbnRzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBib29rU3BlY2lmaWNhdGlvbnNcbiAgICAgICogQHJldHVybiB7QXJyYXk8Qm9va1ByaWNlPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Qm9va1NwZWNpZmljYXRpb25zKCk6IEFycmF5PEJvb2tQcmljZT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGNhbmNlbFNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PENhbmNlbFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRDYW5jYWxlZFNhbGVzKCk6IEFycmF5PENhbmNlbD4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzYWxlQ2FydFxuICAgICAgKiBAcmV0dXJuIHtBcnJheTxTYWxlQ2FydD59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFNhbGVDYXJ0KCk6IFNhbGVDYXJ0IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUNhcnQ7XG4gICAgIH1cblxuICAgICAgICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHJldHVybiB7UmVudENhcnR9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgZ2V0UmVudENhcnQoKTogUmVudENhcnQge1xuXHRcdHJldHVybiB0aGlzLl9yZW50Q2FydDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtTYWxlQ2FydH0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBzZXRTYWxlQ2FydCh2YWx1ZTogU2FsZUNhcnQpIHtcblx0XHR0aGlzLl9zYWxlQ2FydCA9IHZhbHVlO1xuXHR9XG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcGFyYW0ge1JlbnRDYXJ0fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHNldFJlbnRDYXJ0KHZhbHVlOiBSZW50Q2FydCkge1xuXHRcdHRoaXMuX3JlbnRDYXJ0ID0gdmFsdWU7XG5cdH1cbiAgICAgXG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIEJvb2tQcmljZSB7XG4gICAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF9wcmljZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3N0YXJ0RGF0ZTogRGF0ZTtcbiAgICBwcml2YXRlIF9lbmREYXRlOiBEYXRlO1xuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHByaWNlXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByaWNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzdGFydERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3RhcnREYXRlKCk6IERhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnREYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBlbmREYXRlXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGVuZERhdGUoKTogRGF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmREYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBwcmljZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcHJpY2UodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9wcmljZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzdGFydERhdGVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBzdGFydERhdGUodmFsdWU6IERhdGUpIHtcbiAgICAgICAgdGhpcy5fc3RhcnREYXRlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGVuZERhdGVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBlbmREYXRlKHZhbHVlOiBEYXRlKSB7XG4gICAgICAgIHRoaXMuX2VuZERhdGUgPSB2YWx1ZTtcbiAgICB9XG5cblxuXG59IiwiaW1wb3J0IHsgQm9va1ByaWNlIH0gZnJvbSBcIi4vYm9vay1wcmljZVwiO1xuXG5leHBvcnQgY2xhc3MgQm9vayB7XG4gICAgIHByaXZhdGUgX2lkOiBudW1iZXI7XG4gICAgIHByaXZhdGUgX2lzYm46IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICAgICBwcml2YXRlIF9hdXRob3I6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfcHVibGlzaFllYXI6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfcGFnZXM6IG51bWJlcjtcbiAgICAgcHJpdmF0ZSBfYm9va1ByaWNlOiBCb29rUHJpY2U7XG5cbiAgICAgY29uc3RydWN0b3IoaXNibjogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGF1dGhvcjogc3RyaW5nLCBwdWJsaXNoWWVhcjogc3RyaW5nLCBwYWdlczogbnVtYmVyLCBib29rUHJpY2U6IEJvb2tQcmljZSkge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIHRoaXMuX2F1dGhvciA9IGF1dGhvcjtcbiAgICAgICAgICB0aGlzLl9pc2JuID0gaXNibjtcbiAgICAgICAgICB0aGlzLl9wdWJsaXNoWWVhciA9IHB1Ymxpc2hZZWFyO1xuICAgICAgICAgIHRoaXMuX3BhZ2VzID0gcGFnZXM7XG4gICAgICAgICAgdGhpcy5fYm9va1ByaWNlID0gYm9va1ByaWNlO1xuICAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblx0cHVibGljIGdldCBpZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9pZDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgaWQodmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX2lkID0gdmFsdWU7XG5cdH1cbiAgICAgXG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBpc2JuXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgaXNibigpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pc2JuO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBuYW1lXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBhdXRob3JcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBhdXRob3IoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aG9yO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBwdWJsaXNoWWVhclxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IHB1Ymxpc2hZZWFyKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3B1Ymxpc2hZZWFyO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBwYWdlc1xuICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IHBhZ2VzKCk6IG51bWJlciB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBib29rUHJpY2VcbiAgICAgICogQHJldHVybiB7Qm9va1ByaWNlfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBib29rUHJpY2UoKTogQm9va1ByaWNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYm9va1ByaWNlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBpc2JuXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBpc2JuKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLl9pc2JuID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIG5hbWVcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgYXV0aG9yXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBhdXRob3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX2F1dGhvciA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBwdWJsaXNoWWVhclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgcHVibGlzaFllYXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX3B1Ymxpc2hZZWFyID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIHBhZ2VzXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBwYWdlcyh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgICAgdGhpcy5fcGFnZXMgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgYm9va1ByaWNlXG4gICAgICAqIEBwYXJhbSB7Qm9va1ByaWNlfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBib29rUHJpY2UodmFsdWU6IEJvb2tQcmljZSkge1xuICAgICAgICAgIHRoaXMuX2Jvb2tQcmljZSA9IHZhbHVlO1xuICAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ3VzdG9tZXIge1xuICAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgIHByaXZhdGUgX3N1ck5hbWU6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfcGhvbmVOdW1iZXI6IHN0cmluZztcblxuICAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN1ck5hbWU6IHN0cmluZywgcGhvbmVOdW1iZXI6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIHRoaXMuX3N1ck5hbWUgPSBzdXJOYW1lO1xuICAgICAgICAgIHRoaXMuX3Bob25lTnVtYmVyID0gcGhvbmVOdW1iZXI7XG4gICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuICAgICBcblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIG5hbWVcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHN1ck5hbWVcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBzdXJOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3N1ck5hbWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHBob25lTnVtYmVyXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgcGhvbmVOdW1iZXIoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcGhvbmVOdW1iZXI7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIG5hbWVcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgc3VyTmFtZVxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgc3VyTmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fc3VyTmFtZSA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBwaG9uZU51bWJlclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgcGhvbmVOdW1iZXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX3Bob25lTnVtYmVyID0gdmFsdWU7XG4gICAgIH1cblxuXG59XG4iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJCb29rSXRlbXMge1xuICAgIHByaXZhdGUgX2Jvb2s6IEJvb2s7XG4gICAgcHJpdmF0ZSBfcXVhbnRpdHk6IG51bWJlcjtcblxuXG4gICAgY29uc3RydWN0b3IoYm9vazogQm9vaywgcXVhbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9ib29rID0gYm9vaztcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1xuICAgICAqIEByZXR1cm4ge0Jvb2t9XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rKCk6IEJvb2sge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9vaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tcbiAgICAgKiBAcGFyYW0ge0Jvb2t9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBib29rKHZhbHVlOiBCb29rKSB7XG4gICAgICAgIHRoaXMuX2Jvb2sgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9vazogdGhpcy5fYm9vayxcbiAgICAgICAgICAgIHF1YW50aXR5OiB0aGlzLl9xdWFudGl0eSxcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXN0Rm9ybWF0IH0gZnJvbSBcInR5cGVzY3JpcHRcIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuL29yZGVyLWJvb2staXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgUmVudENhcnQge1xuICAgIGN1c3RvbWVySWQhOiBudW1iZXI7XG4gICAgb3JkZXJCb29rSXRlbXM6IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9yZGVyQm9va0l0ZW1zID0gbmV3IEFycmF5PE9yZGVyQm9va0l0ZW1zPigpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuaW1wb3J0IHsgT3JkZXJCb29rSXRlbXMgfSBmcm9tIFwiLi9vcmRlci1ib29rLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFNhbGVDYXJ0IHtcbiAgICBjdXN0b21lcklkITogbnVtYmVyO1xuICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheTxPcmRlckJvb2tJdGVtcz47XG5cblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLm9yZGVyQm9va0l0ZW1zID0gbmV3IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcblx0fVxuXG5cblxuXG5cbn0iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vYm9va1wiO1xuXG5leHBvcnQgY2xhc3MgU3RvY2sge1xuICAgIHByaXZhdGUgX2lkOm51bWJlcjtcbiAgICBwcml2YXRlIF9xdWFudGl0eTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3NoZWxmTnVtYmVyOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfYm9vazpCb29rO1xuXG4gICAgY29uc3RydWN0b3IocXVhbnRpdHk/OiBudW1iZXIsIHNoZWxmTnVtYmVyPzogc3RyaW5nLCBib29rPzpCb29rKSB7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gcXVhbnRpdHkhO1xuICAgICAgICB0aGlzLl9zaGVsZk51bWJlciA9IHNoZWxmTnVtYmVyITtcbiAgICAgICAgdGhpcy5fYm9vaz1ib29rITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5faWQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9pZCA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1xuICAgICAqIEByZXR1cm4ge0Jvb2t9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgYm9vaygpOiBCb29rIHtcblx0XHRyZXR1cm4gdGhpcy5fYm9vaztcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tcbiAgICAgKiBAcGFyYW0ge0Jvb2t9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgYm9vayh2YWx1ZTogQm9vaykge1xuXHRcdHRoaXMuX2Jvb2sgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHF1YW50aXR5XG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzaGVsZk51bWJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNoZWxmTnVtYmVyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGVsZk51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2hlbGZOdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNoZWxmTnVtYmVyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hlbGZOdW1iZXIgPSB2YWx1ZTtcbiAgICB9XG5cblxufSIsIi8vIGV4cG9ydCBOT0RFX09QVElPTlM9LS1vcGVuc3NsLWxlZ2FjeS1wcm92aWRlclxuaW1wb3J0IHsgRGF0YUJhc2UgfSBmcm9tIFwiLi9kYi9kYXRhYmFzZVwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBCb29rUHJpY2UgfSBmcm9tIFwiLi9kb21haW4vYm9vay1wcmljZVwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi9kb21haW4vY3VzdG9tZXJcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi9kb21haW4vcmVudFwiO1xuaW1wb3J0IHsgU2FsZSB9IGZyb20gXCIuL2RvbWFpbi9zYWxlXCI7XG5pbXBvcnQgeyBTdG9jayB9IGZyb20gXCIuL2RvbWFpbi9zdG9ja1wiO1xuaW1wb3J0IHsgQm9va1NlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL2Jvb2stc2VydmljZVwiO1xuaW1wb3J0IHsgQ2FuY2VsU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvY2FuY2VsLXNlcnZpY2VcIjtcbmltcG9ydCB7IEN1c3RvbWVyU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvY3VzdG9tZXItc2VydmljZVwiO1xuaW1wb3J0IHsgUmVudFNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL3JlbnQtc2VydmljZVwiO1xuaW1wb3J0IHsgU2FsZVNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL3NhbGUtc2VydmljZVwiO1xuaW1wb3J0IHsgU3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9zdG9jay1zZXJ2aWNlXCI7XG5cbmV4cG9ydCBsZXQgYm9va1NlcnZpY2U6IEJvb2tTZXJ2aWNlO1xuZXhwb3J0IGxldCBjdXN0b21lclNlcnZpY2U6IEN1c3RvbWVyU2VydmljZTtcbmV4cG9ydCBsZXQgY2FuY2VsU2VydmljZTogQ2FuY2VsU2VydmljZTtcbmV4cG9ydCBsZXQgcmVudFNlcnZpY2U6IFJlbnRTZXJ2aWNlO1xuZXhwb3J0IGxldCBzYWxlU2VydmljZTogU2FsZVNlcnZpY2U7XG5leHBvcnQgbGV0IHN0b2NrU2VydmljZTogU3RvY2tTZXJ2aWNlO1xuXG5sZXQgZGI6IERhdGFCYXNlID0gbmV3IERhdGFCYXNlKCk7XG5pbml0aWxpYXplU2VydmljZXMoZGIpO1xuaW5pdGlsaWF6ZURhdGEoKTtcbmFkZExpc3RlbmVyRm9yTWVudUl0ZW1zKCk7XG5cbmZ1bmN0aW9uIGluaXRpbGlhemVTZXJ2aWNlcyhkYjogRGF0YUJhc2UpIHtcbiAgYm9va1NlcnZpY2UgPSBuZXcgQm9va1NlcnZpY2UoZGIuZ2V0Qm9va3NMaXN0LCBkYi5nZXRCb29rU3BlY2lmaWNhdGlvbnMpO1xuICBjdXN0b21lclNlcnZpY2UgPSBuZXcgQ3VzdG9tZXJTZXJ2aWNlKGRiLmdldEN1c3RvbWVyc0xpc3QpO1xuICBjYW5jZWxTZXJ2aWNlID0gbmV3IENhbmNlbFNlcnZpY2UoZGIuZ2V0Q2FuY2FsZWRTYWxlcyk7XG4gIHJlbnRTZXJ2aWNlID0gbmV3IFJlbnRTZXJ2aWNlKGRiLmdldFJlbnRzLCBkYi5nZXRSZW50Q2FydCk7XG4gIHNhbGVTZXJ2aWNlID0gbmV3IFNhbGVTZXJ2aWNlKGRiLmdldFNhbGVzTGlzdCwgZGIuZ2V0U2FsZUNhcnQpO1xuICBzdG9ja1NlcnZpY2UgPSBuZXcgU3RvY2tTZXJ2aWNlKGRiLmdldFN0b2Nrc0xpc3QpO1xuICBjb25zb2xlLmxvZyhcIlNlcnZpY2VzIGludGlsaWF6ZWQuXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWxpYXplRGF0YSgpIHtcbiAgYm9va1NlcnZpY2UuYm9va0xpc3QgPSBhd2FpdCBib29rU2VydmljZS5nZXRBbGxCb29rc0RhdGEoKTtcbiAgc3RvY2tTZXJ2aWNlLnN0b2NrTGlzdCA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRBbGxTdG9ja3NEYXRhKCk7XG4gIGN1c3RvbWVyU2VydmljZS5jdXN0b21lckxpc3QgPSBhd2FpdCBjdXN0b21lclNlcnZpY2UuZ2V0QWxsQ3VzdG9tZXJzRGF0YSgpO1xuXG4gIGNvbnNvbGUudGFibGUoYm9va1NlcnZpY2UuYm9va0xpc3QpO1xuICBjb25zb2xlLnRhYmxlKHN0b2NrU2VydmljZS5zdG9ja0xpc3QpO1xuICBjb25zb2xlLnRhYmxlKGN1c3RvbWVyU2VydmljZS5jdXN0b21lckxpc3QpO1xuICBjb25zb2xlLmxvZyhcIkRhdGEgaW50aWxpYXplZC5cIik7XG5cbiAgdXBkYXRlQm9va0xpc3Q7XG59XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyRm9yTWVudUl0ZW1zKCkge1xuICAvL3NhbGVTZXJ2aWNlLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gIHNob3dBbmRIaWRlKFwiYWRkQm9va01lbnVJdGVtXCIsIFwiYWRkQm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwic2hvd0Jvb2tzTWVudUl0ZW1cIiwgXCJsaXN0Qm9va3NTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcImFkZEN1c3RvbWVyTWVudUl0ZW1cIiwgXCJhZGRDdXN0b21lclNlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiYWRkU3RvY2tNZW51SXRlbVwiLCBcImFkZFN0b2NrU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJzYWxlQm9va01lbnVJdGVtXCIsIFwic2FsZUJvb2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInJlbnRCb29rTWVudUl0ZW1cIiwgXCJyZW50Qm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiY2FuY2VsU2FsZU1lbnVJdGVtXCIsIFwiY2FuY2VsU2FsZVNlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiY2FuY2VsUmVudE1lbnVJdGVtXCIsIFwiY2FuY2VsUmVudFNlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwicmVmdW5kQm9va01lbnVJdGVtXCIsIFwicmVmdW5kQm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwicmVudE5vd1wiLCBcInJlbnRCb29rU2VjdGlvblwiKTtcblxufVxuXG5mdW5jdGlvbiBzaG93QW5kSGlkZShidG5JZDogc3RyaW5nLCBlbGVtZW50SWQ6IHN0cmluZykge1xuICAvL3NhbGVTZXJ2aWNlLnVwZGF0ZVNhbGVDYXJ0KCk7XG5cbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ0bklkKTtcblxuICBpZiAoZWxlbWVudCAmJiBidG4pIHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmIChlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGFkZEJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1ib29rLWZvcm1cIik7XG5pZiAoYWRkQm9va0Zvcm0gIT0gbnVsbCkge1xuICBhZGRCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQm9va0Zvcm0pO1xuXG4gICAgY29uc3QgdGl0bGUgPSBmb3JtRGF0YS5nZXQoXCJib29rVGl0bGVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGF1dGhvciA9IGZvcm1EYXRhLmdldChcImJvb2tBdXRob3JcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJib29rSXNiblwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcHVibGlzaFllYXIgPSBmb3JtRGF0YS5nZXQoXCJib29rUHVibGlzaFllYXJcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBhZ2VzID0gZm9ybURhdGEuZ2V0KFwiYm9va1BhZ2VzXCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIGNvbnN0IHByaWNlID0gZm9ybURhdGEuZ2V0KFwiYm9va1ByaWNlXCIpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuXG4gICAgbGV0IGJvb2tQcmljZSA9IG5ldyBCb29rUHJpY2UoKTtcbiAgICBib29rUHJpY2UucHJpY2UgPSBwcmljZTtcblxuICAgIGxldCBib29rID0gbmV3IEJvb2soaXNibiwgdGl0bGUsIGF1dGhvciwgcHVibGlzaFllYXIsIHBhZ2VzLCBib29rUHJpY2UpO1xuICAgIGxldCBpc1NhbWVJc2JuOiBib29sZWFuID0gYm9va1NlcnZpY2UuYm9va0xpc3Quc29tZSgob2JqKSA9PiB7XG4gICAgICByZXR1cm4gb2JqLmlzYm4gPT09IGJvb2suaXNibjtcbiAgICB9KTtcblxuICAgIGlmIChpc1NhbWVJc2JuID09PSBmYWxzZSkge1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBib29rU2VydmljZS5jcmVhdGVCb29rKGJvb2spO1xuICAgICAgICBhbGVydChib29rLmlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgRWtsZW1lIMSwxZ9sZW1pIEJhxZ9hcsSxIMSwbGUgVGFtYW1sYW5txLHFn3TEsXIuXCIpO1xuICAgICAgICBhZGRCb29rRm9ybS5yZXNldCgpO1xuICAgICAgICB1cGRhdGVCb29rTGlzdCgpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGFsZXJ0KGJvb2suaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCBFa2xlbWUgxLDFn2xlbWkgU8SxcmFzxLFuZGEgQmlyIEhhdGEgb2x1xZ90dS5cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWQgcGFnZVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIkF5bsSxIElTQk4gbnVtcmFzxLFuYSBzYWhpcCBpa2luY2kgYmlyIGtpdGFwIGVrbGVuZW16LlwiKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGFkZFN0b2NrRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXN0b2NrLWZvcm1cIikpO1xuaWYgKGFkZFN0b2NrRm9ybSkge1xuICBhZGRTdG9ja0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShhZGRTdG9ja0Zvcm0pO1xuXG4gICAgY29uc3QgaXNibiA9IGZvcm1EYXRhLmdldChcImJvb2tJc2JuRm9yQWRkU3RvY2tcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHF1YW50dGl5ID0gZm9ybURhdGEuZ2V0KFwic3RvY2tRdWFudGl0eVwiKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICBjb25zdCBzaGVsZk51bWJlciA9IGZvcm1EYXRhLmdldChcInNoZWxmTnVtYmVyXCIpIGFzIHN0cmluZztcblxuICAgIGNvbnN0IGJvb2sgPSBib29rU2VydmljZS5ib29rTGlzdC5maW5kKGIgPT4gYi5pc2JuID09PSBpc2JuKSE7XG5cbiAgICBpZiAoYm9vaykge1xuICAgICAgY29uc3Qgc3RvY2sgPSBuZXcgU3RvY2socXVhbnR0aXksIHNoZWxmTnVtYmVyLCBib29rKTtcbiAgICAgIGxldCBpc09rID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmNyZWF0ZVN0b2NrKHN0b2NrKTtcblxuICAgICAgaWYgKGlzT2spIHtcbiAgICAgICAgYWxlcnQoaXNibiArIFwiIGlzYm4gbnVtYXJhbMSxIGtpdGFwdGFuLCBcIiArIHF1YW50dGl5ICsgXCIga2FkYXIgc2lzdGVtZSBzdG9rIGVrbGVubWnFn3Rpci5cIik7XG4gICAgICAgIGF3YWl0IGluaXRpbGlhemVEYXRhKCk7XG4gICAgICAgIGF3YWl0IHVwZGF0ZUJvb2tMaXN0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYWxlcnQoXCJTdG9rIGVrbGVubWV5ZSDDp2FsxLHFn8SxbGFuIGtpdGFiYSBhaXQgaXNibiBudW1hcmFzxLEgaGF0YWzEsWTEsXIuXCIpO1xuICAgIH1cblxuICAgIGFkZFN0b2NrRm9ybS5yZXNldCgpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqXG4gKiBNw7zFn3RlcmkgZWtsZW1lIGZvcm11IHN1Ym1pdCBvbGF5xLFuxLEgbW9jayBjdXN0b21lclNlcnZpY2UgZGVraSBtb2NrIHNlcnZpc2UgYmHEn2xhZMSxbVxuICovXG5jb25zdCBhZGRDdXN0b21lckZvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1jdXN0b21lci1mb3JtXCIpKTtcbmlmIChhZGRDdXN0b21lckZvcm0pIHtcbiAgYWRkQ3VzdG9tZXJGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkQ3VzdG9tZXJGb3JtKTtcblxuICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lck5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHN1cm5hbWUgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lclN1cm5hbWVcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob25lTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJQaG9uZU51bWJlclwiKSBhcyBzdHJpbmc7XG5cbiAgICBjb25zdCBjdXN0b21lciA9IG5ldyBDdXN0b21lcihuYW1lLCBzdXJuYW1lLCBwaG9uZU51bWJlcik7XG4gICAgbGV0IHN1Y2Nlc3MgPSBhd2FpdCBjdXN0b21lclNlcnZpY2UuY3JlYXRlQ3VzdG9tZXIoY3VzdG9tZXIpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIGFsZXJ0KFwiTcO8xZ90ZXJpIEVrbGVtZSDEsMWfbGVtaSBCYcWfYXLEsSDEsGxlIFRhbWFtbGFubcSxxZ90xLFyLiBcIik7XG4gICAgICBhZGRDdXN0b21lckZvcm0ucmVzZXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCJNw7zFn3RlcmkgRWtsZW1lIMSwxZ9sZW1pIFPEsXJhc8SxbmRhIGJpciBoYXRhIGlsZSBrYXLFn8SxbMSxbGTEsS4gXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWRcbiAgfTtcbn1cblxuLyoqQnVyYWRhIG1vY2sgc2VydmlzaSB5b2sgw6fDvG5rw7wgYnVyYWRhIGtpdGFwIHNhdMSxxZ/EsSB5YXDEsWzEsXJrZW4sIGtpdGFwbGFyxLEgc2VwZXRlIGVrbGl5b3J1ei5cbiAqIFNlcGV0ZSBla2xlZGlrdGVuIHNvbnJhIGJ0blNhbGUgaWRsaSBidXRvbnVuIGNsaWNrIGV2ZW50aSwgbW9jayBzZXJ2aXNpIMOnYcSfxLFyxLF5b3JcbiAqL1xuY29uc3Qgc2FsZUJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYWxlLWJvb2stZm9ybVwiKSk7XG5pZiAoc2FsZUJvb2tGb3JtKSB7XG4gIHNhbGVCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoc2FsZUJvb2tGb3JtKTtcblxuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJpc2JuRm9yU2FsZVwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgY3VzdG9tZXJJZCA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcImN1c3RvbWVySWRGb3JTYWxlXCIpIGFzIHN0cmluZyk7XG4gICAgY29uc3QgcXVhbnRpdHkgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJxdWFudGl0eUZvclNhbGVcIikgYXMgc3RyaW5nKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgYm9vayA9IGF3YWl0IGJvb2tTZXJ2aWNlLmdldEJvb2soaXNibik7XG4gICAgICBpZiAoYm9vaykge1xuXG4gICAgICAgIGxldCBzdG9jayA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRTdG9ja0J5Qm9va0lkKGJvb2suaWQpITtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgaWYgKHN0b2NrLnF1YW50aXR5ID49IHF1YW50aXR5KSB7XG5cbiAgICAgICAgICAgIGxldCBjdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcihjdXN0b21lcklkKTtcbiAgICAgICAgICAgIGlmIChjdXN0b21lcikge1xuICAgICAgICAgICAgICBzYWxlU2VydmljZS5hZGRCb29rVG9DYXJ0KGJvb2ssIHF1YW50aXR5LCBjdXN0b21lcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGN1c3RvbWVySWQgKyBcIiBudW1hcmFsxLEgbcO8xZ90ZXJpIGthecSxdGzEsSBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KHF1YW50aXR5ICsgXCIga2FkYXIga2l0YXAgZMO8a2thbmRhIG1ldmN1dCBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChgRMO8a2thbmRhICR7aXNibn0gbnVtYXJhbMSxIGtpdGFixLFuIHN0b8SfdSBtZXZjdXQgZGXEn2lsZGlyLmApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChpc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIGTDvGtrYW5kYSBrYXnEsXRsxLEgZGXEn2lsZGlyLlwiKTtcbiAgICAgIH1cblxuICAgICAgc2FsZUJvb2tGb3JtLnJlc2V0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBhbGVydChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBLaXRhcCBzYXTEscWfxLEgacOnaW4gacWfbGVtIHlhcMSxbMSxcmtlbiBraXRhcGxhciBzZXBldGUgZWtsZW5peW9yLlxuICogRWtsZW1lIGnFn2xlbWkgYml0dGlrdGVuIHNvbnJhIHNhdMSxbiBhbG0gacOnaW4gYnUgYnV0b25hIHTEsWtsYW5kxLHEn8SxbmRhIHNlcnZpc2UgZ2lkaXAgc2VwZXR0ZWtpIGtpdGFwbGFyxLFuIHNhdMSxxZ/EsSBnZXLDp2VrbGXFn2l5b3JcbiAqIEJ1cmFkYSBkacSfZXIgYnV0b25sYXJkYSBvbGR1xJ91IGdpYmkgZGlyZWsgbW9jayBzZXJ2aXNpbmUgYmHEn2xhbm1hayB5ZXJpbmUgc2VydmlzZSBnaXRtZWsgZHVydW11bmRhecSxei4gXG4gKiDDh8O8bmvDvCBzZXJ2aXN0ZSBTYWxlIG5lc25lc2luaSBvbHXFn3R1cnVwIG1vY2sgc2VydmlzaW5lIHBhcmFtZXRyZSBvbGFyYWsgZ2XDp2l5b3J1ei5cbiAqL1xuY29uc3QgYnRuU2FsZSA9IDxIVE1MQnV0dG9uRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5TYWxlXCIpKTtcbmJ0blNhbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBpZiAoc2FsZVNlcnZpY2Uuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgYWxlcnQoXCJTZXBldHRlIMO8csO8biB5b2suIEzDvHRmZW4gw7ZuY2Ugw7xyw7xuIGVrbGV5aW5pelwiKTtcbiAgfSBlbHNlIHtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgc2FsZTogU2FsZSA9IGF3YWl0IHNhbGVTZXJ2aWNlLmNyZWF0ZVNhbGUoKTtcblxuICAgICAgaWYgKHNhbGUpIHtcbiAgICAgICAgdXBkYXRlQm9va0xpc3QoKTtcbiAgICAgICAgYWxlcnQoXCJLaXRhcCBzYXTEscWfIGnFn2xlbWkgYmHFn2FyxLF5bGEgZ2Vyw6dla2xlxZ9tacWfdGlyLlwiKTtcbiAgICAgICAgYWxlcnQoXCJGacWfaW5pemkga2F5YmV0bWV5aW5pei4gRmnFnyBOdW1hcmFzxLE6IFwiICsgc2FsZS5vcGVyYXRpb25OdW1iZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoXCJLaXRhcCBzYXTEscWfIGnFn2xlbWluZGUgaGF0YSBtZXlkYW5hIGdlbGRpXCIpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgYWxlcnQoZXJyb3IubWVzc2FnZSlcbiAgICB9XG4gIH1cblxufSk7XG5cbi8qKlxuICogS2l0YXBsYXLEsSBsaXN0ZWxlbWVrIGnDp2luIHTEsWtsYW7EsWxhbiBidXRvbiBjbGljayBldmVudGlcbiAqL1xuY29uc3QgYnRuU2hvd0Jvb2tzTWVudUl0ZW0gPSA8SFRNTEVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvd0Jvb2tzTWVudUl0ZW1cIikpO1xuYnRuU2hvd0Jvb2tzTWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdXBkYXRlQm9va0xpc3QoKTtcbn0pXG5cbmNvbnN0IGNhbmNlbFNhbGVGb3JtID0gPEhUTUxGb3JtRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbmNlbC1zYWxlLWZvcm1cIik7XG5pZiAoY2FuY2VsU2FsZUZvcm0pIHtcbiAgY2FuY2VsU2FsZUZvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGNhbmNlbFNhbGVGb3JtKTtcbiAgICBjb25zdCBzYWxlTnVtYmVyID0gZm9ybURhdGEuZ2V0KFwic2FsZU51bWJlcmZvckNhbmNlbFwiKSBhcyBzdHJpbmc7XG5cblxuICAgIGxldCBpc0V4aXN0U2FsZSA9IGF3YWl0IHNhbGVTZXJ2aWNlLmlzRXhpc3RTYWxlKHNhbGVOdW1iZXIpO1xuXG4gICAgaWYgKGlzRXhpc3RTYWxlID09PSB0cnVlKSB7XG5cbiAgICAgIGxldCBzdGF0ZSA9IGF3YWl0IGNhbmNlbFNlcnZpY2UuY2FuY2VsU2FsZShzYWxlTnVtYmVyKTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHVwZGF0ZUJvb2tMaXN0KCk7XG4gICAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBpcHRhbCBlZGlsbWnFn3Rpci5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChzYWxlTnVtYmVyICsgXCIgbnVtYXJhbMSxIHNhdMSxxZ8gaXB0YWwgZWRpbGlya2VuIGhhdGEgbWV5ZGFuYSBnZWxkaS5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBidWx1bmFtYW3EscWfdMSxci4gVGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgfVxuXG4gIH1cbn1cblxuY29uc3QgY2FuY2VsUmVudEZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FuY2VsLXJlbnQtZm9ybVwiKTtcbmlmIChjYW5jZWxSZW50Rm9ybSkge1xuICBjYW5jZWxSZW50Rm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoY2FuY2VsUmVudEZvcm0pO1xuICAgIGNvbnN0IHJlbnROdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJyZW50TnVtYmVyZm9yQ2FuY2VsXCIpIGFzIHN0cmluZztcblxuICAgIGxldCBzdGF0ZSA9IGF3YWl0IGNhbmNlbFNlcnZpY2UuY2FuY2VsUmVudChyZW50TnVtYmVyKTtcblxuICAgIGlmIChzdGF0ZSkge1xuICAgICAgdXBkYXRlQm9va0xpc3QoKTtcbiAgICAgIGFsZXJ0KHJlbnROdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxhbWEgaXB0YWwgZWRpbG1pxZ90aXIuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsbWEgYnVsdW5hbWFtxLHFn3TEsXIuIFRla3JhciBkZW5leWluaXouXCIpO1xuICAgIH1cbiAgfVxufVxuXG4vKipCdXJhZGEgYXBpIHNlcnZpc2kgeW9rIMOnw7xua8O8IGJ1cmFkYSBraXRhcCBraXJhbGFtYXPEsSB5YXDEsWzEsXJrZW4sIGtpdGFwbGFyxLEgc2VwZXRlIGVrbGl5b3J1ei5cbiAqIFNlcGV0ZSBla2xlZGlrdGVuIHNvbnJhIGJ0blJlbnQgaWRsaSBidXRvbnVuIGNsaWNrIGV2ZW50aSwgYXBpIHBvc3Qgc2VydmlzaSDDp2HEn8SxcsSxeW9yXG4gKi9cbmNvbnN0IHJlbnRCb29rRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVudC1ib29rLWZvcm1cIikpO1xuaWYgKHJlbnRCb29rRm9ybSkge1xuICByZW50Qm9va0Zvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHJlbnRCb29rRm9ybSk7XG5cbiAgICBjb25zdCBpc2JuID0gZm9ybURhdGEuZ2V0KFwiaXNibkZvclJlbnRcIikgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGN1c3RvbWVySWQgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJjdXN0b21lcklkRm9yUmVudFwiKSBhcyBzdHJpbmcpO1xuICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwicXVhbnRpdHlGb3JSZW50XCIpIGFzIHN0cmluZyk7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IGJvb2sgPSBhd2FpdCBib29rU2VydmljZS5nZXRCb29rKGlzYm4pO1xuICAgICAgaWYgKGJvb2spIHtcblxuICAgICAgICBjb25zdCBzdG9jayA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRTdG9ja0J5Qm9va0lkKGJvb2suaWQpITtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgaWYgKHN0b2NrLnF1YW50aXR5ID49IHF1YW50aXR5KSB7XG5cbiAgICAgICAgICAgIGxldCBjdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcihjdXN0b21lcklkKTtcbiAgICAgICAgICAgIGlmIChjdXN0b21lcikge1xuICAgICAgICAgICAgICByZW50U2VydmljZS5hZGRCb29rVG9DYXJ0KGJvb2ssIHF1YW50aXR5LCBjdXN0b21lcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGN1c3RvbWVySWQgKyBcIiBudW1hcmFsxLEgbcO8xZ90ZXJpIGthecSxdGzEsSBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KHF1YW50aXR5ICsgXCIga2FkYXIga2l0YXAgZMO8a2thbmRhIG1ldmN1dCBkZcSfaWxkaXIuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChgRMO8a2thbmRhICR7aXNibn0gbnVtYXJhbMSxIGtpdGFixLFuIHN0b8SfdSBtZXZjdXQgZGXEn2lsZGlyLiDDlm5jZSBzdG9rIGVrbGV5aW5pemApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChpc2JuICsgXCIgbnVtYXJhbMSxIGtpdGFwIHlva3R1ci5cIik7XG4gICAgICB9XG5cbiAgICAgIHJlbnRCb29rRm9ybS5yZXNldCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgYWxlcnQoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogS2l0YXAgc2F0xLHFn8SxIGnDp2luIGnFn2xlbSB5YXDEsWzEsXJrZW4ga2l0YXBsYXIgc2VwZXRlIGVrbGVuZGkuXG4gKiBFa2xlbWUgacWfbGVtaSBiaXR0aWt0ZW4gc29ucmEgc2F0xLFuIGFsbSBpw6dpbiBidSBidXRvbmEgdMSxa2xhbmTEscSfxLFuZGEgc2VydmlzZSBnaWRpcCBzZXBldHRla2kga2l0YXBsYXLEsW4gc2F0xLHFn8SxIGdlcsOnZWtsZcWfaXlvclxuICogQnVyYWRhIGRpxJ9lciBidXRvbmxhcmRhIG9sZHXEn3UgZ2liaSBkaXJlayBhcGkgc2VydmlzaW5lIGJhxJ9sYW5tYWsgeWVyaW5lIHNlcnZpc2UgZ2l0bWVrIGR1cnVtdW5kYXnEsXouIFxuICogw4fDvG5rw7wgc2VydmlzdGUgU2FsZSBuZXNuZXNpbmkgb2x1xZ90dXJ1cCBhcGkgc2VydmlzaW5lIHBhcmFtZXRyZSBvbGFyYWsgZ2XDp2VjZcSfaXouXG4gKi9cbmNvbnN0IGJ0blJlbnQgPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuUmVudFwiKSk7XG5idG5SZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGlmIChyZW50U2VydmljZS5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICBhbGVydChcIlNlcGV0dGUgw7xyw7xuIHlvay4gTMO8dGZlbiDDtm5jZSDDvHLDvG4gZWtsZXlpbml6XCIpO1xuICB9IGVsc2Uge1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCByZW50OiBSZW50ID0gYXdhaXQgcmVudFNlcnZpY2UuY3JlYXRlUmVudCgpO1xuICAgICAgaWYgKHJlbnQpIHtcbiAgICAgICAgYWxlcnQoXCJLaXRhcCBraXJhbGFtYSBpxZ9sZW1pIGJhxZ9hcsSxeWxhIGdlcsOnZWtsZcWfbWnFn3Rpci5cIik7XG4gICAgICAgIGFsZXJ0KFwiRmnFn2luaXppIGtheWJldG5leWluaXouIEZpxZ8gbnVtYXJhbsSxejogXCIgKyByZW50Lm9wZXJhdGlvbk51bWJlcik7XG4gICAgICAgIHVwZGF0ZUJvb2tMaXN0KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgYWxlcnQoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgcmVmdW5kQm9va0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZnVuZC1ib29rLWZvcm1cIikpO1xuaWYgKHJlZnVuZEJvb2tGb3JtKSB7XG4gIHJlZnVuZEJvb2tGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHJlZnVuZEJvb2tGb3JtKTtcbiAgICBjb25zdCByZW50TnVtYmVyID0gZm9ybURhdGEuZ2V0KFwicmVudE51bWJlcmZvclJlZnVuZFwiKSBhcyBzdHJpbmc7XG5cbiAgICBsZXQgaXNFeGlzdFJlbnQgPSBhd2FpdCByZW50U2VydmljZS5pc0V4aXN0UmVudChyZW50TnVtYmVyKTtcbiAgICBpZiAoaXNFeGlzdFJlbnQgPT09IHRydWUpIHtcblxuICAgICAgbGV0IHJlbnQgPSBhd2FpdCByZW50U2VydmljZS5yZWZ1bmRSZW50KHJlbnROdW1iZXIpO1xuXG4gICAgICBpZiAocmVudCkge1xuICAgICAgICB1cGRhdGVCb29rTGlzdCgpO1xuICAgICAgICBhbGVydChyZW50Lm9wZXJhdGlvbk51bWJlciArIFwiIG51bWFyYWzEsSBraXJhbGFtYSBnZXJpIGFsxLFubcSxxZ90xLFyLlwiKTtcbiAgICAgICAgYWxlcnQoXCJHZXJpIMO2ZGVtZSBtaWt0YXLEsTpcIiArIHJlbnQucmVmdW5kICsgXCIg4oK6IC5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGlwdGFsIGVkaWxpcmtlbiBoYXRhIG1leWRhbmEgZ2VsZGkuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGJ1bHVuYW1hbcSxxZ90xLFyLiBUZWtyYXIgZGVuZXlpbml6LlwiKTtcbiAgICB9XG5cbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQm9va0xpc3QoKSB7XG5cbiAgYm9va1NlcnZpY2UuYm9va0xpc3QgPSBhd2FpdCBib29rU2VydmljZS5nZXRBbGxCb29rc0RhdGEoKTtcbiAgc3RvY2tTZXJ2aWNlLnN0b2NrTGlzdCA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRBbGxTdG9ja3NEYXRhKCk7XG5cbiAgY29uc3QgbGlzdEJvb2tzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXN0Qm9va3NcIik7XG5cbiAgaWYgKGxpc3RCb29rc0Rpdikge1xuICAgIGxldCByb3csIGNvbHVtbjtcblxuXG4gICAgd2hpbGUgKGxpc3RCb29rc0Rpdi5sYXN0Q2hpbGQgJiYgbGlzdEJvb2tzRGl2LmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIGxpc3RCb29rc0Rpdi5yZW1vdmVDaGlsZChsaXN0Qm9va3NEaXYubGFzdENoaWxkKTtcbiAgICB9XG5cbiAgICBib29rU2VydmljZS5ib29rTGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuXG4gICAgICAvL2FsZXJ0KHN0b2NrU2VydmljZS5nZXRTdG9ja1F1YW50aXR5KGVsZW1lbnQuaXNibikpO1xuXG4gICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcm93LmNsYXNzTmFtZSA9IFwicm93LWxpc3QtYm9va1wiO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5pc2JuLnRvU3RyaW5nKCk7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcbiAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVsZW1lbnQubmFtZS50b1N0cmluZygpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50LmF1dGhvci50b1N0cmluZygpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG5cbiAgICAgIGxldCBpc1ZhbGlkU2N0b2NrOiBib29sZWFuID0gc3RvY2tTZXJ2aWNlLnN0b2NrTGlzdC5zb21lKHMgPT4gcy5ib29rLmlkID09PSBlbGVtZW50LmlkKTtcbiAgICAgIGxldCBxID0gMDtcblxuICAgICAgaWYgKGlzVmFsaWRTY3RvY2sgPT09IHRydWUpIHtcbiAgICAgICAgcSA9IHN0b2NrU2VydmljZS5zdG9ja0xpc3QuZmluZChzID0+IHMuYm9vay5pZCA9PT0gZWxlbWVudC5pZCkhLnF1YW50aXR5O1xuICAgICAgfVxuXG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBxLnRvU3RyaW5nKCk7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcbiAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuYm9va1ByaWNlLnByaWNlLnRvU3RyaW5nKCkgKyBcIiDigrpcIjtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBsaXN0Qm9va3NEaXYuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9KTtcbiAgfVxuXG59IiwiLyoqXG4gKiBAYXV0aG9yIE1laG1ldCBFLiBBa2NhbiAtIDIxLjEwLjIyXG4gKi9cbmltcG9ydCB7IHN0b2NrU2VydmljZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgQm9va1ByaWNlIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rLXByaWNlXCI7XG5cbmNvbnN0IEJPT0tfQVBJOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9ib29rcyc7XG5cbmV4cG9ydCBjbGFzcyBCb29rU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfYm9va0xpc3Q6IEFycmF5PEJvb2s+O1xuICAgIHByaXZhdGUgX2Jvb2tTcGVjaWZpY2F0aW9uOiBBcnJheTxCb29rUHJpY2U+O1xuXG4gICAgY29uc3RydWN0b3IoYm9va0xpc3Q6IEFycmF5PEJvb2s+LCBib29rU3BlY2lmaWNhdGlvbjogQXJyYXk8Qm9va1ByaWNlPikge1xuICAgICAgICB0aGlzLl9ib29rTGlzdCA9IGJvb2tMaXN0O1xuICAgICAgICB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbiA9IGJvb2tTcGVjaWZpY2F0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PEJvb2s+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgYm9va0xpc3QoKTogQXJyYXk8Qm9vaz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9va0xpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uXG4gICAgICogQHJldHVybiB7QXJyYXk8Qm9va1ByaWNlPn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGJvb2tTcGVjaWZpY2F0aW9uKCk6IEFycmF5PEJvb2tQcmljZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm9va1NwZWNpZmljYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxCb29rPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGJvb2tMaXN0KHZhbHVlOiBBcnJheTxCb29rPikge1xuICAgICAgICB0aGlzLl9ib29rTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBib29rU3BlY2lmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXk8Qm9va1ByaWNlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGJvb2tTcGVjaWZpY2F0aW9uKHZhbHVlOiBBcnJheTxCb29rUHJpY2U+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcGFyYW1ldHJlIG9sYXJhayBnZWxlbiBpc2JuIGJpbGdpc2luZSBnw7ZyZSBpbGdpbGkga2l0YWLEsSBidWx1ci5cbiAgICAgKiBAcGFyYW0gaXNibiBCdWx1bmFjYWsgb2xhbiBraXRhYsSxbiBpc2JuIG51bWFyYXPEsVxuICAgICAqIEByZXR1cm5zIGlzYm4gbnVtYXJhc8SxbmEgZ8O2cmUgaWxnaWxpIGtpdGFixLEgQm9vayBuZXNuZXNpIG9sYXJhayBnZXJpIGTDtm5kw7xyw7xyXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldEJvb2soaXNibjogc3RyaW5nKTogUHJvbWlzZTxCb29rPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQk9PS19BUEkgKyBcIi9xP2lzYm49XCIgKyBpc2JuLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCBhcyBhbnk7XG4gICAgICAgICAgICAvL3Rocm93IG5ldyBFcnJvcihgQXJhbmFuIGtpdGFwIGJ1bHVuYW1hZMSxLCBoYXRhIGtvZHU6LCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zdCBnZXRSZXN1bHQgPSA8Qm9vaz5yZXN1bHQ7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEFsbEJvb2tzRGF0YSgpOiBQcm9taXNlPEFycmF5PEJvb2s+PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQk9PS19BUEksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGdldFJlc3VsdCA9IDxBcnJheTxCb29rPj5yZXN1bHQ7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZUJvb2soYjogQm9vaykge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEJPT0tfQVBJLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBpc2JuOiBiLmlzYm4sXG4gICAgICAgICAgICAgICAgbmFtZTogYi5uYW1lLFxuICAgICAgICAgICAgICAgIGF1dGhvcjogYi5hdXRob3IsXG4gICAgICAgICAgICAgICAgcGFnZXM6IGIucGFnZXMsXG4gICAgICAgICAgICAgICAgcHVibGlzaFllYXI6IGIucHVibGlzaFllYXIsXG4gICAgICAgICAgICAgICAgYm9va1ByaWNlQ3JlYXRlRHRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHByaWNlOiBiLmJvb2tQcmljZS5wcmljZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBzZXJ2aXNpbmRlbiBkw7ZuZW4gY2V2YXAgPT5cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIHRoaXMuYm9va0xpc3QgPSBhd2FpdCB0aGlzLmdldEFsbEJvb2tzRGF0YSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDYW5jZWwgfSBmcm9tIFwiLi4vZG9tYWluL2NhbmNlbFwiO1xuY29uc3QgQ0FOQ0VMX1NBTEVfQVBJOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9zYWxlcyc7XG5jb25zdCBDQU5DRUxfUkVOVF9BUEk6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3JlbnRzJztcblxuZXhwb3J0IGNsYXNzIENhbmNlbFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2NhbmNlbGxlZExpc3Q6IEFycmF5PENhbmNlbD47XG5cbiAgICBjb25zdHJ1Y3RvcihjYW5jZWxsZWRMaXN0OiBBcnJheTxDYW5jZWw+KSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZExpc3QgPSBjYW5jZWxsZWRMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBjYW5jZWxsZWRTYWxlc0xpc3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxDYW5jZWxTYWxlPn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGNhbmNlbGxlZExpc3QoKTogQXJyYXk8Q2FuY2VsPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxsZWRMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBjYW5jZWxsZWRTYWxlc0xpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PENhbmNlbFNhbGU+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgY2FuY2VsbGVkTGlzdCh2YWx1ZTogQXJyYXk8Q2FuY2VsPikge1xuICAgICAgICB0aGlzLl9jYW5jZWxsZWRMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNhbmNlbFJlbnQob3BlcmF0aW9uTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKENBTkNFTF9TQUxFX0FQSSsgXCIvXCIgKyBvcGVyYXRpb25OdW1iZXIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2FuY2VsU2FsZShvcGVyYXRpb25OdW1iZXI6IHN0cmluZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChDQU5DRUxfU0FMRV9BUEkrIFwiL1wiICsgb3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIGnFn2xlbW5kZSAuanNvbiDFn2VrbMWfbmRlIHNlcmlsaXplIHlhcMSxbGFtYXosIGhhdGEgdmVyaXJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi4vZG9tYWluL2N1c3RvbWVyXCI7XG5cbmNvbnN0IENVU1RPTUVSX0FQSTogc3RyaW5nID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL2N1c3RvbWVyc1wiO1xuXG5leHBvcnQgY2xhc3MgQ3VzdG9tZXJTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9jdXN0b21lckxpc3Q6IEFycmF5PEN1c3RvbWVyPjtcblxuICAgIGNvbnN0cnVjdG9yKGN1c3RvbWVyTGlzdDogQXJyYXk8Q3VzdG9tZXI+KSB7XG4gICAgICAgIHRoaXMuX2N1c3RvbWVyTGlzdCA9IGN1c3RvbWVyTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY3VzdG9tZXJMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Q3VzdG9tZXI+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgY3VzdG9tZXJMaXN0KCk6IEFycmF5PEN1c3RvbWVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lckxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGN1c3RvbWVyTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8Q3VzdG9tZXI+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgY3VzdG9tZXJMaXN0KHZhbHVlOiBBcnJheTxDdXN0b21lcj4pIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEFsbEN1c3RvbWVyc0RhdGEoKTogUHJvbWlzZTxBcnJheTxDdXN0b21lcj4+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChDVVNUT01FUl9BUEksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEFycmF5PEN1c3RvbWVyPj5yZXN1bHQ7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZUN1c3RvbWVyKG5ld0N1c3RvbWVyOiBDdXN0b21lcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChDVVNUT01FUl9BUEksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ld0N1c3RvbWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN1ck5hbWU6IG5ld0N1c3RvbWVyLnN1ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBuZXdDdXN0b21lci5waG9uZU51bWJlclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3Qgc2VydmlzaW5kZW4gZMO2bmVuIGNldmFwID0+XCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEN1c3RvbWVyKGN1c3RvbWVySWQ6IG51bWJlcik6IFByb21pc2U8Q3VzdG9tZXI+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChDVVNUT01FUl9BUEkgKyBcIi9cIiArIGN1c3RvbWVySWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXJhbmFuIG3DvMWfdGVyaSBidWx1bmFtYWTEsSwgaGF0YSBrb2R1OiwgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEN1c3RvbWVyPnJlc3VsdDtcbiAgICAgICAgcmV0dXJuIGdldFJlc3VsdDtcbiAgICB9XG59IiwiaW1wb3J0IHsgc3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBSZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50XCI7XG5pbXBvcnQgeyBSZW50Q2FydCB9IGZyb20gXCIuLi9kb21haW4vcmVudC1jYXJ0XCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuLi9kb21haW4vb3JkZXItYm9vay1pdGVtXCI7XG5cbmNvbnN0IFJFRlVORF9BUEkgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9yZWZ1bmRzL3JlbnRzJztcbmNvbnN0IFJFTlRfQVBJID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvcmVudHMnO1xuXG5leHBvcnQgY2xhc3MgUmVudFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3JlbnRMaXN0OiBBcnJheTxSZW50PjtcblxuICAgIHByaXZhdGUgX3JlbnRDYXJ0OiBSZW50Q2FydDtcblxuICAgIHJlZnVuZFBlcmNlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHJlbnRMaXN0OiBBcnJheTxSZW50PiwgcmVudENhcnQ6IFJlbnRDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gcmVudExpc3Q7XG4gICAgICAgIHRoaXMucmVmdW5kUGVyY2VudCA9IDAuNzU7XG4gICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gcmVudENhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8UmVudD59XG4gICAgICovXG4gICAgcHVibGljIGdldCByZW50TGlzdCgpOiBBcnJheTxSZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW50TGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudExpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJlbnQ+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVudExpc3QodmFsdWU6IEFycmF5PFJlbnQ+KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHJldHVybiB7UmVudENhcnR9XG4gICAgICovXG4gICAgcHVibGljIGdldCByZW50Q2FydCgpOiBSZW50Q2FydCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW50Q2FydDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcGFyYW0ge1JlbnRDYXJ0fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVudENhcnQodmFsdWU6IFJlbnRDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2l0YXBsYXLEsW4gaGVwc2kgc2VwZXRlIGVrbGVuZGlrdGVuIHNvbnJhIHRvcGxhbSDDvGNyZXRpIGhlc2FwbGF1YW4gZm9ua3NpeW9uLlxuICAgICAqIEBwYXJhbSByZW50IEtpdGFwbGFyxLFuIGxpc3Rlc2luaW4gYnVsdW5kdcSfdSBuZXNuZVxuICAgICAqIEByZXR1cm5zIFRvcGxhbSDDvGNyZXRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlVG90YWwoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHN1YlRvdGFsOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIC8vaXQgY291bGQgYmUgPT4gbGV0IGVudHJ5IG9mIHJlbnQuYm9va0FuZFF1YW50aXR5TWFwLmVudHJpZXMoKVxuICAgICAgICBmb3IgKGxldCBpdGVtcyBvZiB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICBzdWJUb3RhbCArPSBpdGVtcy5ib29rLmJvb2tQcmljZS5wcmljZSAqIGl0ZW1zLnF1YW50aXR5XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ViVG90YWw7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFJlbnQocmVudE51bWJlcjogc3RyaW5nKTogUHJvbWlzZTxSZW50PiB7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goUkVOVF9BUEkgKyBcIi9cIiArIHJlbnROdW1iZXIsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCBhcyBhbnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPFJlbnQ+cmVzdWx0O1xuICAgICAgICAgICAgcmV0dXJuIGdldFJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgbWVzc2FnZTogJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1bmV4cGVjdGVkIGVycm9yOiAnLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbCBhcyBhbnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQgPSBjdXN0b21lcklkO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVudENhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBraXJhbGFubWF5YSDDp2FsxLHFn8SxbMSxeW9yLiBMw7x0ZmVuIHRlayBtw7zFn3RlcmkgacOnaW4gacWfbGVtIHlhcMSxbsSxelwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3JkZXJCb29rSXRlbXM6IE9yZGVyQm9va0l0ZW1zID0gbmV3IE9yZGVyQm9va0l0ZW1zKGJvb2ssIHF1YW50aXR5KTtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5maW5kSW5kZXgoeCA9PiB4LmJvb2suaXNibiA9PT0gYm9vay5pc2JuKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLnB1c2gob3JkZXJCb29rSXRlbXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zW2luZGV4XSA9IG9yZGVyQm9va0l0ZW1zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlUmVudENhcnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlUmVudENhcnQoKSB7XG4gICAgICAgIGNvbnN0IHJlbnRDYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW50Q2FydFwiKTtcbiAgICAgICAgY29uc3Qgc3ViVG90YWxTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3RhbFJlbnRBbW91bnRUbFwiKTtcblxuICAgICAgICBpZiAocmVudENhcnQpIHtcblxuICAgICAgICAgICAgbGV0IHJvdywgY29sdW1uLCBzdWJUb3RhbDogbnVtYmVyID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKHJlbnRDYXJ0Lmxhc3RDaGlsZCAmJiByZW50Q2FydC5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcmVudENhcnQucmVtb3ZlQ2hpbGQocmVudENhcnQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRvdGFsU3BhbiEudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGg7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcm93LmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LXJvd1wiO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBpdGVtLmJvb2submFtZTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBpdGVtLnF1YW50aXR5LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gKGl0ZW0uYm9vay5ib29rUHJpY2UucHJpY2UgKiBpdGVtLnF1YW50aXR5KS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3cgJiYgc3ViVG90YWxTcGFuKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViVG90YWwgKz0gdC5ib29rLmJvb2tQcmljZS5wcmljZSAqIHQucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVudENhcnQuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgICAgICBzdWJUb3RhbFNwYW4udGV4dENvbnRlbnQgPSBzdWJUb3RhbC50b1N0cmluZygpICsgXCIgVExcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBjcmVhdGVSZW50KCk6IFByb21pc2U8UmVudD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFJFTlRfQVBJLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBvcmRlckJvb2tJdGVtczogQXJyYXkuZnJvbSh0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zKSxcbiAgICAgICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgdG90YWw6IHRoaXMuY2FsY3VsYXRlVG90YWwoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSA8UmVudD4oYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN0IGFwaWRhbiBkw7ZuZW4gY2V2YXA6XFxuXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5yZW50Q2FydCA9IG5ldyBSZW50Q2FydDsgLy8gc2VwZXRpIGJvxZ9hbHRcbiAgICAgICAgdGhpcy51cGRhdGVSZW50Q2FydCgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuXG4gICAgcHVibGljIGFzeW5jIHJlZnVuZFJlbnQob3BlcmF0aW9uTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPFJlbnQ+IHtcbiAgICAgICAgLy9QQVRDSCBCZWxpcmxpIGJpciBrYXluYWt0YWtpIHZlcmlsZXJpbiBiaXIga8Sxc23EsW7EsW4gZGXEn2nFn3RpcmlsbWVzaSBpw6dpbiBrdWxsYW7EsWxhbiBtZXRvZHR1ci5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goUkVGVU5EX0FQSSArIFwiL1wiICsgb3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSA8UmVudD4oYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgYXMgYW55O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGlzRXhpc3RSZW50KG9wZXJhdGlvbk51bWJlcjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goUkVOVF9BUEkgKyBcIi9cIiArIG9wZXJhdGlvbk51bWJlciwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3QgYXBpZGFuIGTDtm5lbiBjZXZhcDpcXG5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgc3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuLi9kb21haW4vb3JkZXItYm9vay1pdGVtXCI7XG5pbXBvcnQgeyBTYWxlQ2FydCB9IGZyb20gXCIuLi9kb21haW4vc2FsZS1jYXJ0XCI7XG5cbmNvbnN0IFNBTEVfQVBJID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvc2FsZXMnO1xuXG5leHBvcnQgY2xhc3MgU2FsZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3NhbGVMaXN0OiBBcnJheTxTYWxlPjtcbiAgICBwcml2YXRlIF9zYWxlQ2FydDogU2FsZUNhcnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihzYWxlTGlzdDogQXJyYXk8U2FsZT4sIHNhbGVDYXJ0OiBTYWxlQ2FydCkge1xuICAgICAgICB0aGlzLl9zYWxlTGlzdCA9IHNhbGVMaXN0O1xuICAgICAgICB0aGlzLl9zYWxlQ2FydCA9IHNhbGVDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzYWxlTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGU+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2FsZUxpc3QoKTogQXJyYXk8U2FsZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxTYWxlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHNhbGVMaXN0KHZhbHVlOiBBcnJheTxTYWxlPikge1xuICAgICAgICB0aGlzLl9zYWxlTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBzYWxlQ2FydFxuICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGVDYXJ0Pn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNhbGVDYXJ0KCk6IFNhbGVDYXJ0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbGVDYXJ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzYWxlQ2FydFxuICAgICAqIEBwYXJhbSB7QXJyYXk8U2FsZUNhcnQ+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2FsZUNhcnQodmFsdWU6IFNhbGVDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGN1bGF0ZVRvdGFsKGl0ZW1zOiBBcnJheTxPcmRlckJvb2tJdGVtcz4pOiBudW1iZXIge1xuICAgICAgICBsZXQgc3ViVG90YWwgPSAwLjA7XG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIHN1YlRvdGFsICs9IGVudHJ5LmJvb2suYm9va1ByaWNlLnByaWNlICogZW50cnkucXVhbnRpdHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ViVG90YWw7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEJvb2tUb0NhcnQoYm9vazogQm9vaywgcXVhbnRpdHk6IG51bWJlciwgY3VzdG9tZXJJZDogbnVtYmVyKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNhbGVDYXJ0LmN1c3RvbWVySWQgPSBjdXN0b21lcklkO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBzYXTEsWxtYXlhIMOnYWzEscWfxLFsxLF5b3IuIEzDvHRmZW4gdGVrIG3DvMWfdGVyaSBpw6dpbiBpxZ9sZW0geWFwxLFuxLF6XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvcmRlckJvb2tJdGVtczogT3JkZXJCb29rSXRlbXMgPSBuZXcgT3JkZXJCb29rSXRlbXMoYm9vaywgcXVhbnRpdHkpO1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zLmZpbmRJbmRleCh4ID0+IHguYm9vay5pc2JuID09PSBib29rLmlzYm4pO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMucHVzaChvcmRlckJvb2tJdGVtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zW2luZGV4XSA9IG9yZGVyQm9va0l0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVTYWxlQ2FydCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVTYWxlQ2FydCgpIHtcbiAgICAgICAgY29uc3Qgc2FsZUNhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbGVDYXJ0XCIpO1xuICAgICAgICBjb25zdCBzdWJUb3RhbFNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsU2FsZUFtb3VudFRsXCIpO1xuXG4gICAgICAgIGlmIChzYWxlQ2FydCkge1xuXG4gICAgICAgICAgICBsZXQgcm93LCBjb2x1bW4sIHN1YlRvdGFsOiBudW1iZXIgPSAwO1xuXG4gICAgICAgICAgICB3aGlsZSAoc2FsZUNhcnQubGFzdENoaWxkICYmIHNhbGVDYXJ0LmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzYWxlQ2FydC5yZW1vdmVDaGlsZChzYWxlQ2FydC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVG90YWxTcGFuIS50ZXh0Q29udGVudCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xuXG4gICAgICAgICAgICAgICAgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICByb3cuY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtcm93XCI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGl0ZW0uYm9vay5uYW1lO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGl0ZW0ucXVhbnRpdHkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwic2FsZS1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSAoaXRlbS5ib29rLmJvb2tQcmljZS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdyAmJiBzdWJUb3RhbFNwYW4pIHtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBzdWJUb3RhbCArPSB0LmJvb2suYm9va1ByaWNlLnByaWNlICogdC5xdWFudGl0eTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzYWxlQ2FydC5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgICAgIHN1YlRvdGFsU3Bhbi50ZXh0Q29udGVudCA9IHN1YlRvdGFsLnRvU3RyaW5nKCkgKyBcIiBUTFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZVNhbGUoKTogUHJvbWlzZTxTYWxlPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goU0FMRV9BUEksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheS5mcm9tKHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMpLFxuICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCxcbiAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy5jYWxjdWxhdGVUb3RhbCh0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zKVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgS2l0YXAgc2F0xLHFnyBpxZ9sZW1pbmRlIGhhdGEgbWV5ZGFuYSBnZWxkaSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSA8U2FsZT4oYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgdGhpcy5zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydCgpOyAvLyBzZXBldGkgYm/Fn2FsdFxuICAgICAgICB0aGlzLnVwZGF0ZVNhbGVDYXJ0KCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN0IGFwaWRhbiBkw7ZuZW4gY2V2YXA6XFxuXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGlzRXhpc3RTYWxlKG9wZXJhdGlvbk51bWJlcjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goU0FMRV9BUEkgKyBcIi9cIiArIG9wZXJhdGlvbk51bWJlciwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3QgYXBpZGFuIGTDtm5lbiBjZXZhcDpcXG5cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi9kb21haW4vYm9va1wiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi4vZG9tYWluL3N0b2NrXCI7XG5cbmNvbnN0IFNUT0NLX0FQSTogc3RyaW5nID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3N0b2Nrc1wiO1xuXG5leHBvcnQgY2xhc3MgU3RvY2tTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9zdG9ja0xpc3Q6IEFycmF5PFN0b2NrPjtcblxuICAgIGNvbnN0cnVjdG9yKHN0b2NrTGlzdDogQXJyYXk8U3RvY2s+KSB7XG4gICAgICAgIHRoaXMuX3N0b2NrTGlzdCA9IHN0b2NrTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgc3RvY2tMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8U3RvY2s+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3RvY2tMaXN0KCk6IEFycmF5PFN0b2NrPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9ja0xpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHN0b2NrTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8U3RvY2s+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc3RvY2tMaXN0KHZhbHVlOiBBcnJheTxTdG9jaz4pIHtcbiAgICAgICAgdGhpcy5fc3RvY2tMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc3RvY2sgbmVzbmVzaW5pIGdlcmkgZMO2bmTDvHLDvHJcbiAgICAgKiBAcGFyYW0gaXNibiBzdG9jayBuZXNuZXNpIGdldGlyaWxlY2VrIG9sYW4gbmVzbmVuaW4gaXNibiBub3N1LFxuICAgICAqIEByZXR1cm5zIGRiIG9sYW4gc3RvY2sgbmVzbmVuc2kgZ2VyaSBkw7ZuZXIsIGRiIGRlIHlvayBpc2UgdGhyb3cgaWxlIGhhdGEgZsSxcmxhdMSxcmzEsXJcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3RvY2tCeUJvb2tJZChib29rSWQ6IG51bWJlcik6IFByb21pc2U8U3RvY2s+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChTVE9DS19BUEkgKyBcIi9xP2Jvb2tJZD1cIiArIGJvb2tJZCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0b2sgYmlsZ2lzaW5lIHVsYcWfxLFsYW1hZMSxLCBIYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICByZXR1cm4gPFN0b2NrPnJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFxJ9lciBzdG9rIG5lc25lc2kgeW9rIGlzZSBzdG9rIG5lc25lc2ksIGJlbGlydGlsZW4gYWRldCBrYWRhciBzdG9rIGJpbGdpc2kgaWxlIGJlcmFiZXIgZWtsZW5peW9yLlxuICAgICAqIMSwxZ90ZSBidSBvbHXFn3R1cm1hL2NyZWF0ZSBpxZ9sZW1pIGJ1cmFkYSB5YXDEsWzEsXlvci5cbiAgICAgKiBAcGFyYW0gcyBpbmRleC50cyBkb3N5YXPEsW5kYW4gZ2VsZW4gc3RvayBuZXNuZXNpXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZVN0b2NrKHM6IFN0b2NrKTogUHJvbWlzZTxCb29sZWFuIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFNUT0NLX0FQSSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IHMucXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHNoZWxmTnVtYmVyOiBzLnNoZWxmTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBib29rOiBzLmJvb2tcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nICsgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEFsbFN0b2Nrc0RhdGEoKTogUHJvbWlzZTxBcnJheTxTdG9jaz4+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChTVE9DS19BUEksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEFycmF5PFN0b2NrPj5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgNCkpO1xuICAgICAgICByZXR1cm4gZ2V0UmVzdWx0O1xuICAgIH1cblxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJfYm9va3MiLCJBcnJheSIsIl9zdG9ja3MiLCJfY3VzdG9tZXJzIiwiX3NhbGVzIiwiX3JlbnRzIiwiX2Jvb2tTcGVjaWZpY2F0aW9ucyIsIl9jYW5jZWxzIiwiX3NhbGVDYXJ0IiwiU2FsZUNhcnQiLCJfcmVudENhcnQiLCJSZW50Q2FydCIsImdldEJvb2tzTGlzdCIsImdldFN0b2Nrc0xpc3QiLCJnZXRDdXN0b21lcnNMaXN0IiwiZ2V0U2FsZXNMaXN0IiwiZ2V0UmVudHMiLCJnZXRCb29rU3BlY2lmaWNhdGlvbnMiLCJnZXRDYW5jYWxlZFNhbGVzIiwiZ2V0U2FsZUNhcnQiLCJnZXRSZW50Q2FydCIsInNldFNhbGVDYXJ0IiwidmFsdWUiLCJzZXRSZW50Q2FydCIsImlkIiwiX2lkIiwicHJpY2UiLCJfcHJpY2UiLCJzdGFydERhdGUiLCJfc3RhcnREYXRlIiwiZW5kRGF0ZSIsIl9lbmREYXRlIiwiaXNibiIsIm5hbWUiLCJhdXRob3IiLCJwdWJsaXNoWWVhciIsInBhZ2VzIiwiYm9va1ByaWNlIiwiX25hbWUiLCJfYXV0aG9yIiwiX2lzYm4iLCJfcHVibGlzaFllYXIiLCJfcGFnZXMiLCJfYm9va1ByaWNlIiwic3VyTmFtZSIsInBob25lTnVtYmVyIiwiX3N1ck5hbWUiLCJfcGhvbmVOdW1iZXIiLCJib29rIiwicXVhbnRpdHkiLCJfYm9vayIsIl9xdWFudGl0eSIsInRvSlNPTiIsIm9yZGVyQm9va0l0ZW1zIiwic2hlbGZOdW1iZXIiLCJfc2hlbGZOdW1iZXIiLCJpbml0aWxpYXplRGF0YSIsImJvb2tTZXJ2aWNlIiwiZ2V0QWxsQm9va3NEYXRhIiwic3RvY2tTZXJ2aWNlIiwiZ2V0QWxsU3RvY2tzRGF0YSIsImN1c3RvbWVyU2VydmljZSIsImdldEFsbEN1c3RvbWVyc0RhdGEiLCJjb25zb2xlIiwidGFibGUiLCJib29rTGlzdCIsInN0b2NrTGlzdCIsImN1c3RvbWVyTGlzdCIsImxvZyIsInNob3dBbmRIaWRlIiwiYnRuSWQiLCJlbGVtZW50SWQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJkYiIsIkRhdGFCYXNlIiwiQm9va1NlcnZpY2UiLCJDdXN0b21lclNlcnZpY2UiLCJjYW5jZWxTZXJ2aWNlIiwiQ2FuY2VsU2VydmljZSIsInJlbnRTZXJ2aWNlIiwiUmVudFNlcnZpY2UiLCJzYWxlU2VydmljZSIsIlNhbGVTZXJ2aWNlIiwiU3RvY2tTZXJ2aWNlIiwiYWRkQm9va0Zvcm0iLCJvbnN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0aXRsZSIsImdldCIsIkJvb2tQcmljZSIsIkJvb2siLCJzb21lIiwib2JqIiwiY3JlYXRlQm9vayIsImFsZXJ0IiwicmVzZXQiLCJ1cGRhdGVCb29rTGlzdCIsImFkZFN0b2NrRm9ybSIsInF1YW50dGl5IiwiZmluZCIsImIiLCJzdG9jayIsIlN0b2NrIiwiY3JlYXRlU3RvY2siLCJhZGRDdXN0b21lckZvcm0iLCJzdXJuYW1lIiwiY3VzdG9tZXIiLCJDdXN0b21lciIsImNyZWF0ZUN1c3RvbWVyIiwic2FsZUJvb2tGb3JtIiwiY3VzdG9tZXJJZCIsInBhcnNlSW50IiwiZ2V0Qm9vayIsImdldFN0b2NrQnlCb29rSWQiLCJnZXRDdXN0b21lciIsImFkZEJvb2tUb0NhcnQiLCJlcnJvciIsIm1lc3NhZ2UiLCJzYWxlQ2FydCIsImxlbmd0aCIsInNhbGUiLCJjcmVhdGVTYWxlIiwib3BlcmF0aW9uTnVtYmVyIiwiY2FuY2VsU2FsZUZvcm0iLCJzYWxlTnVtYmVyIiwiaXNFeGlzdFNhbGUiLCJjYW5jZWxTYWxlIiwiY2FuY2VsUmVudEZvcm0iLCJyZW50TnVtYmVyIiwiY2FuY2VsUmVudCIsInJlbnRCb29rRm9ybSIsInJlbnRDYXJ0IiwicmVudCIsImNyZWF0ZVJlbnQiLCJyZWZ1bmRCb29rRm9ybSIsImxpc3RCb29rc0RpdiIsInJvdyIsImNvbHVtbiIsImxhc3RDaGlsZCIsImNoaWxkcmVuIiwicmVtb3ZlQ2hpbGQiLCJmb3JFYWNoIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInRleHRDb250ZW50IiwidG9TdHJpbmciLCJhcHBlbmRDaGlsZCIsInEiLCJzIiwiaXNFeGlzdFJlbnQiLCJyZWZ1bmRSZW50IiwicmVmdW5kIiwiQk9PS19BUEkiLCJib29rU3BlY2lmaWNhdGlvbiIsIl9ib29rTGlzdCIsIl9ib29rU3BlY2lmaWNhdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQWNjZXB0Iiwib2siLCJqc29uIiwiRXJyb3IiLCJzdGF0dXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImJvb2tQcmljZUNyZWF0ZUR0byIsInJlc3VsdCIsIkNBTkNFTF9TQUxFX0FQSSIsImNhbmNlbGxlZExpc3QiLCJfY2FuY2VsbGVkTGlzdCIsIkV4Y2VwdGlvbiIsIkNVU1RPTUVSX0FQSSIsIl9jdXN0b21lckxpc3QiLCJuZXdDdXN0b21lciIsIlJFTlRfQVBJIiwicmVudExpc3QiLCJfcmVudExpc3QiLCJyZWZ1bmRQZXJjZW50IiwiY2FsY3VsYXRlVG90YWwiLCJzdWJUb3RhbCIsIml0ZW1zIiwiZ2V0UmVudCIsIk9yZGVyQm9va0l0ZW1zIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJ4IiwicHVzaCIsInVwZGF0ZVJlbnRDYXJ0Iiwic3ViVG90YWxTcGFuIiwiaXRlbSIsInQiLCJmcm9tIiwidG90YWwiLCJSRUZVTkRfQVBJIiwiU0FMRV9BUEkiLCJzYWxlTGlzdCIsIl9zYWxlTGlzdCIsImVudHJ5IiwidXBkYXRlU2FsZUNhcnQiLCJTVE9DS19BUEkiLCJfc3RvY2tMaXN0IiwiYm9va0lkIiwicGFyc2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9