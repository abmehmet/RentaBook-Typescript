(()=>{"use strict";var e={221:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataBase=void 0;const r=o(758),n=o(51);t.DataBase=class{constructor(){this._books=new Array,this._stocks=new Array,this._customers=new Array,this._sales=new Array,this._rents=new Array,this._bookSpecifications=new Array,this._cancels=new Array,this._saleCart=new n.SaleCart,this._rentCart=new r.RentCart}get getBooksList(){return this._books}get getStocksList(){return this._stocks}get getCustomersList(){return this._customers}get getSalesList(){return this._sales}get getRents(){return this._rents}get getBookSpecifications(){return this._bookSpecifications}get getCancaledSales(){return this._cancels}get getSaleCart(){return this._saleCart}get getRentCart(){return this._rentCart}set setSaleCart(e){this._saleCart=e}set setRentCart(e){this._rentCart=e}}},333:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BookPrice=void 0,t.BookPrice=class{get id(){return this._id}set id(e){this._id=e}get price(){return this._price}get startDate(){return this._startDate}get endDate(){return this._endDate}set price(e){this._price=e}set startDate(e){this._startDate=e}set endDate(e){this._endDate=e}}},934:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Book=void 0,t.Book=class{constructor(e,t,o,r,n,i){this._name=t,this._author=o,this._isbn=e,this._publishYear=r,this._pages=n,this._bookPrice=i}get id(){return this._id}set id(e){this._id=e}get isbn(){return this._isbn}get name(){return this._name}get author(){return this._author}get publishYear(){return this._publishYear}get pages(){return this._pages}get bookPrice(){return this._bookPrice}set isbn(e){this._isbn=e}set name(e){this._name=e}set author(e){this._author=e}set publishYear(e){this._publishYear=e}set pages(e){this._pages=e}set bookPrice(e){this._bookPrice=e}}},916:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Customer=void 0,t.Customer=class{constructor(e,t,o){this._name=e,this._surName=t,this._phoneNumber=o}get id(){return this._id}set id(e){this._id=e}get name(){return this._name}get surName(){return this._surName}get phoneNumber(){return this._phoneNumber}set name(e){this._name=e}set surName(e){this._surName=e}set phoneNumber(e){this._phoneNumber=e}}},767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OrderBookItems=void 0,t.OrderBookItems=class{constructor(e,t){this._book=e,this._quantity=t}get book(){return this._book}get quantity(){return this._quantity}set book(e){this._book=e}set quantity(e){this._quantity=e}toJSON(){return{book:this._book,quantity:this._quantity}}}},758:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RentCart=void 0,t.RentCart=class{constructor(){this.orderBookItems=new Array}}},961:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Rent=void 0;const r=o(354);class n extends r.Sale{constructor(e,t,o,r,n,i,a){super(e,o,t,r,n),this._refundDate=i,this._refund=a}get refundDate(){return this._refundDate}get refund(){return this._refund}set refundDate(e){this._refundDate=e}set refund(e){this._refund=e}}t.Rent=n},51:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SaleCart=void 0,t.SaleCart=class{constructor(){this.orderBookItems=new Array}}},354:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sale=void 0,t.Sale=class{constructor(e,t,o,r,n){this._orderBookItems=e,this._customerId=t,this._operationDateTime=o,this._operationNumber=r,this._total=n}get orderBookItems(){return this._orderBookItems}get customerId(){return this._customerId}get operationDateTime(){return this._operationDateTime}get operationNumber(){return this._operationNumber}get total(){return this._total}set orderBookItems(e){this._orderBookItems=e}set customerId(e){this._customerId=e}set operationDateTime(e){this._operationDateTime=e}set operationNumber(e){this._operationNumber=e}set total(e){this._total=e}}},72:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stock=void 0,t.Stock=class{constructor(e,t,o){this._quantity=e,this._shelfNumber=t,this._book=o}get id(){return this._id}set id(e){this._id=e}get book(){return this._book}set book(e){this._book=e}get quantity(){return this._quantity}get shelfNumber(){return this._shelfNumber}set quantity(e){this._quantity=e}set shelfNumber(e){this._shelfNumber=e}}},607:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.stockService=t.saleService=t.rentService=t.cancelService=t.customerService=t.bookService=void 0;const n=o(221),i=o(934),a=o(333),s=o(916),c=o(961),l=o(767),u=o(72),d=o(946),h=o(943),m=o(709),k=o(148),p=o(478),f=o(214);function v(){return r(this,void 0,void 0,(function*(){t.bookService.bookList=yield t.bookService.getAllBooksData(),t.stockService.stockList=yield t.stockService.getAllStocksData(),t.customerService.customerList=yield t.customerService.getAllCustomersData(),console.log(t.bookService.bookList),console.log(t.stockService.stockList),console.log(t.customerService.customerList),console.log("Data intiliazed.")}))}function g(e,t){const o=document.getElementById(t),r=document.getElementById(e);o&&r&&r.addEventListener("click",(()=>{"none"===o.style.display?o.style.display="block":o.style.display="none"}))}var y;y=new n.DataBase,t.bookService=new d.BookService(y.getBooksList,y.getBookSpecifications),t.customerService=new m.CustomerService(y.getCustomersList),t.cancelService=new h.CancelService(y.getCancaledSales),t.rentService=new k.RentService(y.getRents,y.getRentCart),t.saleService=new p.SaleService(y.getSalesList,y.getSaleCart),t.stockService=new f.StockService(y.getStocksList),console.log("Services intiliazed."),v(),g("addBookMenuItem","addBookSection"),g("showBooksMenuItem","listBooksSection"),g("addCustomerMenuItem","addCustomerSection"),g("addStockMenuItem","addStockSection"),g("saleBookMenuItem","saleBookSection"),g("rentBookMenuItem","rentBookSection"),g("cancelSaleMenuItem","cancelSaleSection"),g("cancelRentMenuItem","cancelRentSection"),g("refundBookMenuItem","refundBookSection"),g("rentNow","rentBookSection");const b=document.getElementById("add-book-form");null!=b&&(b.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(b),r=o.get("bookTitle"),n=o.get("bookAuthor"),s=o.get("bookIsbn"),c=o.get("bookPublishYear"),l=o.get("bookPages"),u=o.get("bookPrice"),d=new a.BookPrice;d.price=u;const h=new i.Book(s,r,n,c,l,d);if(!1===t.bookService.bookList.some((e=>e.isbn===h.isbn)))return(yield t.bookService.createBook(h))?(alert(h.isbn+" numaralı kitap Ekleme İşlemi Başarı İle Tamamlanmıştır."),b.reset(),N()):alert(h.isbn+" numaralı kitap Ekleme İşlemi Sırasında Bir Hata oluştu."),!1;alert("Aynı ISBN numrasına sahip ikinci bir kitap eklenemz.")})));const S=document.getElementById("add-stock-form");S&&(S.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(S),r=o.get("bookIsbnForAddStock"),n=o.get("stockQuantity"),i=o.get("shelfNumber"),a=t.bookService.bookList.find((e=>e.isbn===r));if(a){const e=new u.Stock(n,i,a);(yield t.stockService.createStock(e))&&(alert(r+" isbn numaralı kitaptan, "+n+" kadar sisteme stok eklenmiştir."),yield v(),yield N())}else alert("Stok eklenmeye çalışılan kitaba ait isbn numarası hatalıdır.");return S.reset(),!1})));const _=document.getElementById("add-customer-form");_&&(_.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(_),r=o.get("customerName"),n=o.get("customerSurname"),i=o.get("customerPhoneNumber"),a=new s.Customer(r,n,i);return(yield t.customerService.createCustomer(a))?(alert("Müşteri Ekleme İşlemi Başarı İle Tamamlanmıştır. "),_.reset()):alert("Müşteri Ekleme İşlemi Sırasında bir hata ile karşılıldı. "),!1})));const C=document.getElementById("sale-book-form");C&&(C.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(C),r=o.get("isbnForSale"),n=yield t.bookService.getBook(r),i=parseInt(o.get("customerIdForSale")),a=yield t.customerService.getCustomer(i),s=parseInt(o.get("quantityForSale"));try{if(n){let e=yield t.stockService.getStockByBookId(n.id);e?e.quantity>=s?a?t.saleService.addBookToCart(n,s,i):alert(i+" numaralı müşteri kayıtlı değildir."):alert(s+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${r} numaralı kitabın stoğu mevcut değildir.`)}else alert(r+" numaralı kitap yoktur.");return C.reset(),!1}catch(e){alert(e)}}))),document.getElementById("btnSale").addEventListener("click",(()=>{0===t.saleService.saleCart.orderBookItems.length?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):t.saleService.cartToSale()})),document.getElementById("showBooksMenuItem").addEventListener("click",(()=>{N()}));const B=document.getElementById("cancel-sale-form");B&&(B.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(B).get("saleNumberforCancel");!0===(yield t.saleService.isExistSale(o))?(yield t.cancelService.cancelSaleMock(o))?alert(o+" numaralı satış iptal edilmiştir."):alert(o+" numaralı satış iptal edilirken hata meydana geldi."):alert(o+" numaralı satış bulunamamıştır. Tekrar deneyiniz.")})));const I=document.getElementById("cancel-rent-form");I&&(I.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(I).get("rentNumberforCancel");(yield t.cancelService.cancelRentMock(o))?alert(o+" numaralı kiralama iptal edilmiştir."):alert(o+" numaralı kiralma bulunamamıştır. Tekrar deneyiniz.")})));const w=document.getElementById("rent-book-form");w&&(w.onsubmit=e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const o=new FormData(w),r=o.get("isbnForRent"),n=yield t.bookService.getBook(r),i=parseInt(o.get("customerIdForRent")),a=yield t.customerService.getCustomer(i),s=parseInt(o.get("quantityForRent"));try{if(n){const e=yield t.stockService.getStockByBookId(n.id);e?e.quantity>=s?a?t.rentService.addBookToCart(n,s,i):alert(i+" numaralı müşteri kayıtlı değildir."):alert(s+" kadar kitap dükkanda mevcut değildir."):alert(`Dükkanda ${r} numaralı kitabın stoğu mevcut değildir. Önce stok ekleyiniz`)}else alert(r+" numaralı kitap yoktur.");return w.reset(),!1}catch(e){alert(e)}}))),document.getElementById("btnRent").addEventListener("click",(()=>{0===t.rentService.rentCart.orderBookItems.length?alert("Sepette ürün yok. Lütfen önce ürün ekleyiniz"):t.rentService.cartToRent()}));const D=document.getElementById("refund-book-form");function N(){return r(this,void 0,void 0,(function*(){t.bookService.bookList=yield t.bookService.getAllBooksData(),t.stockService.stockList=yield t.stockService.getAllStocksData();const e=document.getElementById("listBooks");if(e){let o,r;for(;e.lastChild&&e.children.length>1;)e.removeChild(e.lastChild);t.bookService.bookList.forEach((n=>{o=document.createElement("div"),o.className="row-list-book",r=document.createElement("div"),r.className="column-list-book",r.textContent=n.isbn.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book",r.textContent=n.name.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book",r.textContent=n.author.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book";let i=0;!0===t.stockService.stockList.some((e=>e.book.id===n.id))&&(i=t.stockService.stockList.find((e=>e.book.id===n.id)).quantity),r.textContent=i.toString(),o.appendChild(r),r=document.createElement("div"),r.className="column-list-book",r.textContent=n.bookPrice.price.toString()+" ₺",o.appendChild(r),e.appendChild(o)}))}}))}D&&(D.onsubmit=e=>r(void 0,void 0,void 0,(function*(){let o=new Array;o.push(new l.OrderBookItems(yield t.bookService.getBook("123-45"),3));let r=new Date;r.setDate(r.getDate()+23);let n=new c.Rent(o,new Date,1,"R021122163045",123,r,0);n.refund=t.rentService.calculateRefundAmount(n),t.rentService.rentList.push(n),e.preventDefault();const i=new FormData(D).get("rentNumberforRefund");let a=t.rentService.getRent(i);if(a){let e=yield t.rentService.refundRentMock(a);e?(alert(a.operationNumber+" numaralı kiralama geri alınmıştır."),alert("Geri ödeme miktarı:"+e+" ₺ .")):alert(a.operationNumber+" numaralı kiralama iptal edilirken hata meydana geldi.")}else alert(i+" numaralı kiralama bulunamamıştır. Tekrar deneyiniz.")})))},946:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BookService=void 0,t.BookService=class{constructor(e,t){this.bookApi="http://localhost:3002/api/v1/books",this._bookList=e,this._bookSpecification=t}get bookList(){return this._bookList}get bookSpecification(){return this._bookSpecification}set bookList(e){this._bookList=e}set bookSpecification(e){this._bookSpecification=e}getBook(e){return o(this,void 0,void 0,(function*(){const t=yield fetch(this.bookApi+"/q?isbn="+e,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);return yield t.json()}))}getAllBooksData(){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.bookApi,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const t=yield e.json();return JSON.parse(JSON.stringify(t,null,4))}))}createBook(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.bookApi,{method:"POST",body:JSON.stringify({isbn:e.isbn,name:e.name,author:e.author,pages:e.pages,publishYear:e.publishYear,bookPriceCreateDto:{price:e.bookPrice.price}}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=yield t.json();return console.log("Rest servisinden dönen cevap =>"),console.log(e),this.bookList=yield this.getAllBooksData(),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}}},943:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelService=void 0,t.CancelService=class{constructor(e){this.cancelSaleApi="http://localhost:3002/api/v1/sales",this.cancelRentApi="http://localhost:3002/api/v1/rents",this._cancelledList=e}get cancelledList(){return this._cancelledList}set cancelledList(e){this._cancelledList=e}calculateDiffHours(e,t){let o=e.getTime()-t.getTime();return Math.floor(o/1e3/60/60)}cancelSale(e){let t=this.calculateCancelSaleRefund(e);e.refund=t,this.cancelledList.push(e)}calculateCancelSaleRefund(e){let t;return t=this.calculateDiffHours(e.canceledDateTime,e.cancelType.operationDateTime)>24?.75*e.cancelType.total:e.cancelType.total,t}cancelSaleMock(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.cancelSaleApi+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok)return console.log(t),!0;throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}cancelRent(e){let t=this.calculateCancelRentRefund(e);e.refund=t,this.cancelledList.push(e)}calculateCancelRentRefund(e){let t;return t=this.calculateDiffHours(e.canceledDateTime,e.cancelType.operationDateTime)>24?.75*e.cancelType.total:e.cancelType.total,t}cancelRentMock(e){return o(this,void 0,void 0,(function*(){const t=yield fetch(this.cancelRentApi+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});return!!t.ok&&(console.log(t),!0)}))}}},709:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerService=void 0,t.CustomerService=class{constructor(e){this.customerApi="http://localhost:3002/api/v1/customers",this._customerList=e}get customerList(){return this._customerList}set customerList(e){this._customerList=e}getAllCustomersData(){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.customerApi,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);return yield e.json()}))}createCustomer(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.customerApi,{method:"POST",body:JSON.stringify({name:e.name,surName:e.surName,phoneNumber:e.phoneNumber}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=yield t.json();return console.log("Rest servisinden dönen cevap =>"),console.log(e),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}getCustomer(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.customerApi+"/"+e,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw alert(`Error! status: ${t.body}`),new Error(`Error! status: ${t.status}`);return yield t.json()}catch(e){return e instanceof Error?console.log("error message: ",e.message):console.log("unexpected error: ",e),null}}))}}},148:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RentService=void 0;const n=o(607),i=o(961),a=o(758),s=o(767);t.RentService=class{constructor(e,t){this.rentApi="http://localhost:3002/api/v1/rents",this._rentList=e,this.refundPercent=.75,this._rentCart=t}get rentList(){return this._rentList}set rentList(e){this._rentList=e}get rentCart(){return this._rentCart}set rentCart(e){this._rentCart=e}addRent(e){this.rentList.push(e)}calculateTotal(e){let t=0;for(let o of e.orderBookItems)t+=o.book.bookPrice.price*o.quantity;return t}generateRentNumber(e){let t=new Date;return"R"+t.getDay().toString()+t.getMonth().toString()+t.getFullYear().toString()+t.getHours().toString()+t.getMinutes().toString()+t.getSeconds().toString()+e.toString()}calculateDiffHours(e,t){let o=e.getTime()-t.getTime();return Math.floor(o/1e3/60/60)}calculateRefund(e){e.refund=e.total*this.refundPercent}calculateRefundAmount(e){let t,o=this.calculateDiffHours(e.refundDate,e.operationDateTime)/24;if(o<=14)t=.75*e.total;else if(o<=24){let r=.75-.05*(o-14);t=e.total*r}else t=.25*e.total;return t}getRent(e){return this.rentList.find((t=>t.operationNumber===e))}addBookToCart(e,t,o){if(0===this.rentCart.orderBookItems.length)this.rentCart.customerId=o;else if(this.rentCart.orderBookItems.length>0&&this.rentCart.customerId!==o)return alert("Farklı müşteriye kitap kiralanmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let r=new s.OrderBookItems(e,t),n=this.rentCart.orderBookItems.findIndex((t=>t.book.isbn===e.isbn));-1===n?this.rentCart.orderBookItems.push(r):this.rentCart.orderBookItems[n]=r,this.updateRentCart()}updateRentCart(){const e=document.getElementById("rentCart"),t=document.getElementById("totalRentAmountTl");if(e){let o,r,n=0;for(;e.lastChild&&e.children.length>1;)e.removeChild(e.lastChild);t.textContent="";for(let e=0;e<this.rentCart.orderBookItems.length;e++){o=document.createElement("div"),o.className="rent-cart-row";for(let e of this.rentCart.orderBookItems)r=document.createElement("div"),r.className="rent-cart-column",r.textContent=this.rentCart.customerId.toString(),o.appendChild(r),r=document.createElement("div"),r.className="rent-cart-column",r.textContent=e.book.name,o.appendChild(r),r=document.createElement("div"),r.className="rent-cart-column",r.textContent=e.quantity.toString(),o.appendChild(r),r=document.createElement("div"),r.className="rent-cart-column",r.textContent=(e.book.bookPrice.price*e.quantity).toString(),o.appendChild(r)}if(o&&t){for(let e of this.rentCart.orderBookItems)n+=e.book.bookPrice.price*e.quantity;e.appendChild(o),t.textContent=n.toString()+" TL"}}}cartToRent(){return r(this,void 0,void 0,(function*(){let e=this.rentCart,t=new i.Rent;t.orderBookItems=e.orderBookItems,t.customerId=e.customerId,t.operationNumber=this.generateRentNumber(e.customerId),t.operationDateTime=new Date,t.total=this.calculateTotal(t);let o=new Date;o.setDate(o.getDate()+14),t.refundDate=o,this.calculateRefund(t);for(let e of t.orderBookItems)yield n.stockService.getStockByBookId(e.book.id);this.rentCart=new a.RentCart,this.updateRentCart(),this.addRentMock(t)}))}addRentMock(e){return r(this,void 0,void 0,(function*(){try{const t=yield fetch(this.rentApi,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(e.orderBookItems),customerId:e.customerId,operationDateTime:e.operationDateTime,operationNumber:e.operationNumber,total:e.total,refundDate:e.refundDate,refund:e.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error(`Hata oluştu, hata kodu: ${t.status} `);{const o=yield t.json();console.log("Rest apidan dönen cevap:\n"),console.log(o),alert("Kitap kiralama işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetneyiniz. Fiş numaranız: "+e.operationNumber)}}catch(e){console.log("Hata Oluştu."),alert("Kitap kiralama işlemi sırasında bir hata oluştu. Lütfen tekrar deneyiniz.")}}))}refundRentMock(e){return r(this,void 0,void 0,(function*(){try{const t=yield fetch(this.rentApi+"/"+e.operationNumber,{method:"PATCH",body:JSON.stringify({refundDate:e.refundDate,refund:e.refund}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const o=yield t.json();return console.log(o),e.refund}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}}},478:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SaleService=void 0;const n=o(607),i=o(354),a=o(767),s=o(51);t.SaleService=class{constructor(e,t){this.saleApi="http://localhost:3002/api/v1/sales",this._saleList=e,this._saleCart=t}get saleList(){return this._saleList}set saleList(e){this._saleList=e}get saleCart(){return this._saleCart}set saleCart(e){this._saleCart=e}addSale(e){this.saleList.push(e)}calculateTotal(e){let t=0;for(let o of e.orderBookItems)t+=o.book.bookPrice.price*o.quantity;return t}generateSaleNumber(e){let t=new Date;return"S"+t.getDay().toString()+t.getMonth().toString()+t.getFullYear().toString()+t.getHours().toString()+t.getMinutes().toString()+t.getSeconds().toString()+e.toString()}getSale(e){return this.saleList.find((t=>t.operationNumber===e))}removeSale(e){let t=this.saleList.indexOf(e);this.saleList.splice(t,1)}addBookToCart(e,t,o){if(0===this.saleCart.orderBookItems.length)this.saleCart.customerId=o;else if(this.saleCart.orderBookItems.length>0&&this.saleCart.customerId!==o)return alert("Farklı müşteriye kitap satılmaya çalışılıyor. Lütfen tek müşteri için işlem yapınız"),!1;let r=new a.OrderBookItems(e,t),n=this.saleCart.orderBookItems.findIndex((t=>t.book.isbn===e.isbn));-1===n?this.saleCart.orderBookItems.push(r):this.saleCart.orderBookItems[n]=r,this.updateSaleCart()}updateSaleCart(){const e=document.getElementById("saleCart"),t=document.getElementById("totalSaleAmountTl");if(e){let o,r,n=0;for(;e.lastChild&&e.children.length>1;)e.removeChild(e.lastChild);t.textContent="";for(let e=0;e<this.saleCart.orderBookItems.length;e++){o=document.createElement("div"),o.className="sale-cart-row";for(let e of this.saleCart.orderBookItems)r=document.createElement("div"),r.className="sale-cart-column",r.textContent=this.saleCart.customerId.toString(),o.appendChild(r),r=document.createElement("div"),r.className="sale-cart-column",r.textContent=e.book.name,o.appendChild(r),r=document.createElement("div"),r.className="sale-cart-column",r.textContent=e.quantity.toString(),o.appendChild(r),r=document.createElement("div"),r.className="sale-cart-column",r.textContent=(e.book.bookPrice.price*e.quantity).toString(),o.appendChild(r)}if(o&&t){for(let e of this.saleCart.orderBookItems)n+=e.book.bookPrice.price*e.quantity;e.appendChild(o),t.textContent=n.toString()+" TL"}}}cartToSale(){return r(this,void 0,void 0,(function*(){let e=this.saleCart,t=new i.Sale;t.orderBookItems=e.orderBookItems,t.customerId=e.customerId,t.operationNumber=this.generateSaleNumber(e.customerId),t.operationDateTime=new Date,t.total=this.calculateTotal(t);for(let e of t.orderBookItems)yield n.stockService.getStockByBookId(e.book.id);let o=this.createSale(t);return this.saleCart=new s.SaleCart,this.updateSaleCart(),o}))}createSale(e){return r(this,void 0,void 0,(function*(){try{const t=yield fetch(this.saleApi,{method:"POST",body:JSON.stringify({orderBookItems:Array.from(e.orderBookItems),customerId:e.customerId,operationDateTime:e.operationDateTime,operationNumber:e.operationNumber,total:e.total}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(t),t.ok){const o=yield t.json();return console.log("Rest apidan dönen cevap:\n"),console.log(o),alert("Kitap satış işlemi başarıyla gerçekleşmiştir."),alert("Fişinizi kaybetmeyiniz. Fiş Numarası: "+e.operationNumber),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu.")}}))}isExistSale(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(this.saleApi+"/"+e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(t),t.ok){const e=yield t.json();return console.log("Rest apidan dönen cevap:\n"),console.log(e),!0}return!1}))}}},214:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StockService=void 0,t.StockService=class{constructor(e){this.stockApi="http://localhost:3002/api/v1/stocks",this._stockList=e}get stockList(){return this._stockList}set stockList(e){this._stockList=e}getStockByBookId(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.stockApi+"/q?bookId="+e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok)return yield t.json();throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){return e instanceof Error?console.log("error message: ",e.message):console.log("unexpected error: ",e),null}}))}createStock(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(this.stockApi,{method:"POST",body:JSON.stringify({quantity:e.quantity,shelfNumber:e.shelfNumber,book:e.book}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=yield t.json();return console.log(e),!0}throw new Error(`Hata oluştu, hata kodu: ${t.status} `)}catch(e){console.log("Hata Oluştu."+e)}}))}getAllStocksData(){return o(this,void 0,void 0,(function*(){const e=yield fetch(this.stockApi,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Hata oluştu, hata kodu: ${e.status} `);const t=yield e.json();return JSON.parse(JSON.stringify(t,null,4))}))}}}},t={};!function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNMLGVBQWdCLG1CQUNoQkMsT0FBUSxzQkFJaEIsR0FBSUosRUFBU0ssR0FBSSxDQUNiLE1BQU1JLFFBQWdCVCxFQUFTUSxPQUUvQixPQURBbkgsUUFBUUMsSUFBSW1ILElBQ0wsQyxDQUVQLE1BQU0sSUFBSUgsTUFBTSwyQkFBMkJOLEVBQVNPLFUsQ0FFMUQsTUFBT3JELEdBQ0w3RCxRQUFRQyxJQUFJLGVBQWlCNEQsRSxDQUVyQyxHLENBRU1oRSxtQix5Q0FDRixNQUFNOEcsUUFBaUJDLE1BQU03TCxLQUFLNFEsU0FBVSxDQUN4QzlFLE9BQVEsTUFDUkMsUUFBUyxDQUNMQyxPQUFRLHNCQUloQixJQUFLSixFQUFTSyxHQUNWLE1BQU0sSUFBSUMsTUFBTSwyQkFBMkJOLEVBQVNPLFdBRXhELE1BQU1FLFFBQWdCVCxFQUFTUSxPQUUvQixPQURnQ0UsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVUgsRUFBUSxLQUFNLEdBRTVFLEcsS0N4R0EwRSxFQUEyQixDQUFDLEdBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkwsR0FBVU0sS0FBS0YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0osR0FHcEVLLEVBQU9ELE9BQ2YsQ0NuQjBCSixDQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZGIvZGF0YWJhc2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2Jvb2stcHJpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2Jvb2sudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL2N1c3RvbWVyLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9vcmRlci1ib29rLWl0ZW0udHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvLi9zcmMvZG9tYWluL3JlbnQtY2FydC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vcmVudC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9kb21haW4vc2FsZS1jYXJ0LnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9zYWxlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL2RvbWFpbi9zdG9jay50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2Jvb2stc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL2NhbmNlbC1zZXJ2aWNlLnRzIiwid2VicGFjazovL3JlbnQtYS1ib29rLXRzLy4vc3JjL3NlcnZpY2UvY3VzdG9tZXItc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL3JlbnQtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL3NhbGUtc2VydmljZS50cyIsIndlYnBhY2s6Ly9yZW50LWEtYm9vay10cy8uL3NyYy9zZXJ2aWNlL3N0b2NrLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVudC1hLWJvb2stdHMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tQcmljZSB9IGZyb20gXCIuLi9kb21haW4vYm9vay1wcmljZVwiO1xuaW1wb3J0IHsgQ2FuY2VsIH0gZnJvbSBcIi4uL2RvbWFpbi9jYW5jZWxcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4uL2RvbWFpbi9jdXN0b21lclwiO1xuaW1wb3J0IHsgUmVudCB9IGZyb20gXCIuLi9kb21haW4vcmVudFwiO1xuaW1wb3J0IHsgUmVudENhcnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnQtY2FydFwiO1xuaW1wb3J0IHsgU2FsZSB9IGZyb20gXCIuLi9kb21haW4vc2FsZVwiO1xuaW1wb3J0IHsgU2FsZUNhcnQgfSBmcm9tIFwiLi4vZG9tYWluL3NhbGUtY2FydFwiO1xuaW1wb3J0IHsgU3RvY2sgfSBmcm9tIFwiLi4vZG9tYWluL3N0b2NrXCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhQmFzZSB7XG5cbiAgICAgcHJpdmF0ZSBfYm9va3M6IEFycmF5PEJvb2s+Oy8vXG4gICAgIHByaXZhdGUgX3N0b2NrczogQXJyYXk8U3RvY2s+O1xuICAgICBwcml2YXRlIF9jdXN0b21lcnM6IEFycmF5PEN1c3RvbWVyPjsvL1xuICAgICBwcml2YXRlIF9zYWxlczogQXJyYXk8U2FsZT47Ly9cbiAgICAgcHJpdmF0ZSBfcmVudHM6IEFycmF5PFJlbnQ+O1xuICAgICBwcml2YXRlIF9ib29rU3BlY2lmaWNhdGlvbnM6IEFycmF5PEJvb2tQcmljZT47XG4gICAgIHByaXZhdGUgX2NhbmNlbHM6IEFycmF5PENhbmNlbD47Ly9cbiAgICAgcHJpdmF0ZSBfc2FsZUNhcnQ6IFNhbGVDYXJ0O1xuICAgICBwcml2YXRlIF9yZW50Q2FydDpSZW50Q2FydDtcblxuICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICB0aGlzLl9ib29rcyA9IG5ldyBBcnJheTxCb29rPigpO1xuICAgICAgICAgIHRoaXMuX3N0b2NrcyA9IG5ldyBBcnJheTxTdG9jaz4oKTtcbiAgICAgICAgICB0aGlzLl9jdXN0b21lcnMgPSBuZXcgQXJyYXk8Q3VzdG9tZXI+KCk7XG4gICAgICAgICAgdGhpcy5fc2FsZXMgPSBuZXcgQXJyYXk8U2FsZT4oKTtcbiAgICAgICAgICB0aGlzLl9yZW50cyA9IG5ldyBBcnJheTxSZW50PigpO1xuICAgICAgICAgIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9ucyA9IG5ldyBBcnJheTxCb29rUHJpY2U+KCk7XG4gICAgICAgICAgdGhpcy5fY2FuY2VscyA9IG5ldyBBcnJheTxDYW5jZWw+KCk7XG4gICAgICAgICAgdGhpcy5fc2FsZUNhcnQgPSBuZXcgU2FsZUNhcnQoKTtcbiAgICAgICAgICB0aGlzLl9yZW50Q2FydCA9IG5ldyBSZW50Q2FydDtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgYm9va3NcbiAgICAgICogQHJldHVybiB7QXJyYXk8Qm9vaz59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldEJvb2tzTGlzdCgpOiBBcnJheTxCb29rPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tzO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIEdldHRlciBzdG9ja3NcbiAgICAgICogQHJldHVybiB7QXJyYXk8U3RvY2s+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTdG9ja3NMaXN0KCk6IEFycmF5PFN0b2NrPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3N0b2NrcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgY3VzdG9tZXJzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PEN1c3RvbWVyPn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0Q3VzdG9tZXJzTGlzdCgpOiBBcnJheTxDdXN0b21lcj4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lcnM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHNhbGVzXG4gICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGU+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRTYWxlc0xpc3QoKTogQXJyYXk8U2FsZT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYWxlcztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgcmVudHNcbiAgICAgICogQHJldHVybiB7QXJyYXk8UmVudD59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldFJlbnRzKCk6IEFycmF5PFJlbnQ+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcmVudHM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uc1xuICAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rUHJpY2U+fVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBnZXRCb29rU3BlY2lmaWNhdGlvbnMoKTogQXJyYXk8Qm9va1ByaWNlPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9ucztcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgY2FuY2VsU2FsZXNcbiAgICAgICogQHJldHVybiB7QXJyYXk8Q2FuY2VsU2FsZT59XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGdldENhbmNhbGVkU2FsZXMoKTogQXJyYXk8Q2FuY2VsPiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbHM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHNhbGVDYXJ0XG4gICAgICAqIEByZXR1cm4ge0FycmF5PFNhbGVDYXJ0Pn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgZ2V0U2FsZUNhcnQoKTogU2FsZUNhcnQge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYWxlQ2FydDtcbiAgICAgfVxuXG4gICAgICAgICAvKipcbiAgICAgKiBHZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcmV0dXJuIHtSZW50Q2FydH1cbiAgICAgKi9cblx0cHVibGljIGdldCBnZXRSZW50Q2FydCgpOiBSZW50Q2FydCB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlbnRDYXJ0O1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2FsZUNhcnRcbiAgICAgKiBAcGFyYW0ge1NhbGVDYXJ0fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHNldFNhbGVDYXJ0KHZhbHVlOiBTYWxlQ2FydCkge1xuXHRcdHRoaXMuX3NhbGVDYXJ0ID0gdmFsdWU7XG5cdH1cblxuXG5cblxuICAgIC8qKlxuICAgICAqIFNldHRlciByZW50Q2FydFxuICAgICAqIEBwYXJhbSB7UmVudENhcnR9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgc2V0UmVudENhcnQodmFsdWU6IFJlbnRDYXJ0KSB7XG5cdFx0dGhpcy5fcmVudENhcnQgPSB2YWx1ZTtcblx0fVxuICAgICBcblxuXG59XG4iLCJleHBvcnQgY2xhc3MgQm9va1ByaWNlIHtcbiAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3ByaWNlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfc3RhcnREYXRlOiBEYXRlO1xuICAgIHByaXZhdGUgX2VuZERhdGU6IERhdGU7XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5faWQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9pZCA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcHJpY2VcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJpY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHN0YXJ0RGF0ZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG4gICAgcHVibGljIGdldCBzdGFydERhdGUoKTogRGF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydERhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGVuZERhdGVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgZW5kRGF0ZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZERhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHByaWNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBwcmljZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3ByaWNlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHN0YXJ0RGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHN0YXJ0RGF0ZSh2YWx1ZTogRGF0ZSkge1xuICAgICAgICB0aGlzLl9zdGFydERhdGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZW5kRGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGVuZERhdGUodmFsdWU6IERhdGUpIHtcbiAgICAgICAgdGhpcy5fZW5kRGF0ZSA9IHZhbHVlO1xuICAgIH1cblxuXG5cbn0iLCJpbXBvcnQgeyBCb29rUHJpY2UgfSBmcm9tIFwiLi9ib29rLXByaWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBCb29rIHtcbiAgICAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcbiAgICAgcHJpdmF0ZSBfaXNibjogc3RyaW5nO1xuICAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgIHByaXZhdGUgX2F1dGhvcjogc3RyaW5nO1xuICAgICBwcml2YXRlIF9wdWJsaXNoWWVhcjogc3RyaW5nO1xuICAgICBwcml2YXRlIF9wYWdlczogbnVtYmVyO1xuICAgICBwcml2YXRlIF9ib29rUHJpY2U6IEJvb2tQcmljZTtcblxuICAgICBjb25zdHJ1Y3Rvcihpc2JuOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgYXV0aG9yOiBzdHJpbmcsIHB1Ymxpc2hZZWFyOiBzdHJpbmcsIHBhZ2VzOiBudW1iZXIsIGJvb2tQcmljZTogQm9va1ByaWNlKSB7XG4gICAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgICAgdGhpcy5fYXV0aG9yID0gYXV0aG9yO1xuICAgICAgICAgIHRoaXMuX2lzYm4gPSBpc2JuO1xuICAgICAgICAgIHRoaXMuX3B1Ymxpc2hZZWFyID0gcHVibGlzaFllYXI7XG4gICAgICAgICAgdGhpcy5fcGFnZXMgPSBwYWdlcztcbiAgICAgICAgICB0aGlzLl9ib29rUHJpY2UgPSBib29rUHJpY2U7XG4gICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGlkXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBpZCh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5faWQgPSB2YWx1ZTtcblx0fVxuICAgICBcblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGlzYm5cbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBpc2JuKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2lzYm47XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIG5hbWVcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGF1dGhvclxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGF1dGhvcigpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRob3I7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHB1Ymxpc2hZZWFyXG4gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgcHVibGlzaFllYXIoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcHVibGlzaFllYXI7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIHBhZ2VzXG4gICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgICovXG4gICAgIHB1YmxpYyBnZXQgcGFnZXMoKTogbnVtYmVyIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcGFnZXM7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogR2V0dGVyIGJvb2tQcmljZVxuICAgICAgKiBAcmV0dXJuIHtCb29rUHJpY2V9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IGJvb2tQcmljZSgpOiBCb29rUHJpY2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9ib29rUHJpY2U7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIGlzYm5cbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IGlzYm4odmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIHRoaXMuX2lzYm4gPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgbmFtZVxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBhdXRob3JcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IGF1dGhvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fYXV0aG9yID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIHB1Ymxpc2hZZWFyXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBwdWJsaXNoWWVhcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fcHVibGlzaFllYXIgPSB2YWx1ZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgcGFnZXNcbiAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IHBhZ2VzKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgICB0aGlzLl9wYWdlcyA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBib29rUHJpY2VcbiAgICAgICogQHBhcmFtIHtCb29rUHJpY2V9IHZhbHVlXG4gICAgICAqL1xuICAgICBwdWJsaWMgc2V0IGJvb2tQcmljZSh2YWx1ZTogQm9va1ByaWNlKSB7XG4gICAgICAgICAgdGhpcy5fYm9va1ByaWNlID0gdmFsdWU7XG4gICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDdXN0b21lciB7XG4gICAgIHByaXZhdGUgX2lkOiBudW1iZXI7XG4gICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgICAgcHJpdmF0ZSBfc3VyTmFtZTogc3RyaW5nO1xuICAgICBwcml2YXRlIF9waG9uZU51bWJlcjogc3RyaW5nO1xuXG4gICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgc3VyTmFtZTogc3RyaW5nLCBwaG9uZU51bWJlcjogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgICAgdGhpcy5fc3VyTmFtZSA9IHN1ck5hbWU7XG4gICAgICAgICAgdGhpcy5fcGhvbmVOdW1iZXIgPSBwaG9uZU51bWJlcjtcbiAgICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgaWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgaWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5faWQ7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGlkKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl9pZCA9IHZhbHVlO1xuXHR9XG4gICAgIFxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgbmFtZVxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgc3VyTmFtZVxuICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAqL1xuICAgICBwdWJsaWMgZ2V0IHN1ck5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc3VyTmFtZTtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBHZXR0ZXIgcGhvbmVOdW1iZXJcbiAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgKi9cbiAgICAgcHVibGljIGdldCBwaG9uZU51bWJlcigpOiBzdHJpbmcge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9waG9uZU51bWJlcjtcbiAgICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBTZXR0ZXIgbmFtZVxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgICovXG4gICAgIHB1YmxpYyBzZXQgbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIFNldHRlciBzdXJOYW1lXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBzdXJOYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLl9zdXJOYW1lID0gdmFsdWU7XG4gICAgIH1cblxuICAgICAvKipcbiAgICAgICogU2V0dGVyIHBob25lTnVtYmVyXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAgKi9cbiAgICAgcHVibGljIHNldCBwaG9uZU51bWJlcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5fcGhvbmVOdW1iZXIgPSB2YWx1ZTtcbiAgICAgfVxuXG5cbn1cbiIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBPcmRlckJvb2tJdGVtcyB7XG4gICAgcHJpdmF0ZSBfYm9vazogQm9vaztcbiAgICBwcml2YXRlIF9xdWFudGl0eTogbnVtYmVyO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2Jvb2sgPSBib29rO1xuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rXG4gICAgICogQHJldHVybiB7Qm9va31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGJvb2soKTogQm9vayB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib29rO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBxdWFudGl0eVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va1xuICAgICAqIEBwYXJhbSB7Qm9va30gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGJvb2sodmFsdWU6IEJvb2spIHtcbiAgICAgICAgdGhpcy5fYm9vayA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBxdWFudGl0eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcXVhbnRpdHkodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib29rOiB0aGlzLl9ib29rLFxuICAgICAgICAgICAgcXVhbnRpdHk6IHRoaXMuX3F1YW50aXR5LFxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IExpc3RGb3JtYXQgfSBmcm9tIFwidHlwZXNjcmlwdFwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIjtcbmltcG9ydCB7IE9yZGVyQm9va0l0ZW1zIH0gZnJvbSBcIi4vb3JkZXItYm9vay1pdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW50Q2FydCB7XG4gICAgY3VzdG9tZXJJZCE6IG51bWJlcjtcbiAgICBvcmRlckJvb2tJdGVtczogQXJyYXk8T3JkZXJCb29rSXRlbXM+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub3JkZXJCb29rSXRlbXMgPSBuZXcgQXJyYXk8T3JkZXJCb29rSXRlbXM+KCk7XG4gICAgfVxufSIsImltcG9ydCB7IFNhbGUgfSBmcm9tIFwiLi9zYWxlXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuL29yZGVyLWJvb2staXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgUmVudCBleHRlbmRzIFNhbGUge1xuICAgIHByaXZhdGUgX3JlZnVuZERhdGU/OiBEYXRlO1xuICAgIHByaXZhdGUgX3JlZnVuZD86IG51bWJlcjtcblxuXG4gICAgY29uc3RydWN0b3Ioc2FsZUJvb2tJdGVtcz86IEFycmF5PE9yZGVyQm9va0l0ZW1zPiwgb3BlcmF0aW9uRGF0ZVRpbWU/OiBEYXRlLCBjdXN0b21lcklkPzogbnVtYmVyLCBvcGVyYXRpb25OdW1iZXI/OiBzdHJpbmcsIHRvdGFsPzogbnVtYmVyLCByZWZ1bmREYXRlPzogRGF0ZSwgcmVmdW5kPzogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHNhbGVCb29rSXRlbXMsIGN1c3RvbWVySWQsIG9wZXJhdGlvbkRhdGVUaW1lLCBvcGVyYXRpb25OdW1iZXIsIHRvdGFsKVxuXG4gICAgICAgIHRoaXMuX3JlZnVuZERhdGUgPSByZWZ1bmREYXRlO1xuICAgICAgICB0aGlzLl9yZWZ1bmQgPSByZWZ1bmQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcmVmdW5kRGF0ZVxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG4gICAgcHVibGljIGdldCByZWZ1bmREYXRlKCk6IERhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmdW5kRGF0ZSE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlZnVuZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHJlZnVuZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmdW5kITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVmdW5kRGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJlZnVuZERhdGUodmFsdWU6IERhdGUpIHtcbiAgICAgICAgdGhpcy5fcmVmdW5kRGF0ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciByZWZ1bmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJlZnVuZCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3JlZnVuZCA9IHZhbHVlO1xuICAgIH1cblxuXG5cblxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuL29yZGVyLWJvb2staXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgU2FsZUNhcnQge1xuICAgIGN1c3RvbWVySWQhOiBudW1iZXI7XG4gICAgb3JkZXJCb29rSXRlbXM6IEFycmF5PE9yZGVyQm9va0l0ZW1zPjtcblxuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMub3JkZXJCb29rSXRlbXMgPSBuZXcgQXJyYXk8T3JkZXJCb29rSXRlbXM+O1xuXHR9XG5cblxuXG5cblxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuL29yZGVyLWJvb2staXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgU2FsZSB7XG4gICAgcHJpdmF0ZSBfb3JkZXJCb29rSXRlbXM/OiBBcnJheTxPcmRlckJvb2tJdGVtcz47XG4gICAgcHJpdmF0ZSBfY3VzdG9tZXJJZD86IG51bWJlcjtcbiAgICBwcml2YXRlIF9vcGVyYXRpb25EYXRlVGltZT86IERhdGU7XG4gICAgcHJpdmF0ZSBfb3BlcmF0aW9uTnVtYmVyPzogc3RyaW5nO1xuICAgIHByaXZhdGUgX3RvdGFsPzogbnVtYmVyO1xuXG5cblx0Y29uc3RydWN0b3Iob3JkZXJCb29rSXRlbXM/OiBBcnJheTxPcmRlckJvb2tJdGVtcz4sIGN1c3RvbWVySWQ/OiBudW1iZXIsIG9wZXJhdGlvbkRhdGVUaW1lPzogRGF0ZSwgb3BlcmF0aW9uTnVtYmVyPzogc3RyaW5nLCB0b3RhbD86IG51bWJlcikge1xuXHRcdHRoaXMuX29yZGVyQm9va0l0ZW1zID0gb3JkZXJCb29rSXRlbXM7XG5cdFx0dGhpcy5fY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG5cdFx0dGhpcy5fb3BlcmF0aW9uRGF0ZVRpbWUgPSBvcGVyYXRpb25EYXRlVGltZTtcblx0XHR0aGlzLl9vcGVyYXRpb25OdW1iZXIgPSBvcGVyYXRpb25OdW1iZXI7XG5cdFx0dGhpcy5fdG90YWwgPSB0b3RhbDtcblx0fVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgb3JkZXJCb29rSXRlbXNcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxPcmRlckJvb2tJdGVtcz59XG4gICAgICovXG5cdHB1YmxpYyBnZXQgb3JkZXJCb29rSXRlbXMoKTogQXJyYXk8T3JkZXJCb29rSXRlbXM+IHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJCb29rSXRlbXMhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY3VzdG9tZXJJZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblx0cHVibGljIGdldCBjdXN0b21lcklkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2N1c3RvbWVySWQhO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgb3BlcmF0aW9uRGF0ZVRpbWVcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuXHRwdWJsaWMgZ2V0IG9wZXJhdGlvbkRhdGVUaW1lKCk6IERhdGUge1xuXHRcdHJldHVybiB0aGlzLl9vcGVyYXRpb25EYXRlVGltZSE7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBvcGVyYXRpb25OdW1iZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cdHB1YmxpYyBnZXQgb3BlcmF0aW9uTnVtYmVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX29wZXJhdGlvbk51bWJlciE7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciB0b3RhbFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblx0cHVibGljIGdldCB0b3RhbCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl90b3RhbCE7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBvcmRlckJvb2tJdGVtc1xuICAgICAqIEBwYXJhbSB7QXJyYXk8T3JkZXJCb29rSXRlbXM+fSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IG9yZGVyQm9va0l0ZW1zKHZhbHVlOiBBcnJheTxPcmRlckJvb2tJdGVtcz4pIHtcblx0XHR0aGlzLl9vcmRlckJvb2tJdGVtcyA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY3VzdG9tZXJJZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IGN1c3RvbWVySWQodmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX2N1c3RvbWVySWQgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG9wZXJhdGlvbkRhdGVUaW1lXG4gICAgICogQHBhcmFtIHtEYXRlfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IG9wZXJhdGlvbkRhdGVUaW1lKHZhbHVlOiBEYXRlKSB7XG5cdFx0dGhpcy5fb3BlcmF0aW9uRGF0ZVRpbWUgPSB2YWx1ZTtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIG9wZXJhdGlvbk51bWJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IG9wZXJhdGlvbk51bWJlcih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5fb3BlcmF0aW9uTnVtYmVyID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciB0b3RhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuXHRwdWJsaWMgc2V0IHRvdGFsKHZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLl90b3RhbCA9IHZhbHVlO1xuXHR9XG5cdFxuICAgIFxufSIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbmV4cG9ydCBjbGFzcyBTdG9jayB7XG4gICAgcHJpdmF0ZSBfaWQ6bnVtYmVyO1xuICAgIHByaXZhdGUgX3F1YW50aXR5OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfc2hlbGZOdW1iZXI6IHN0cmluZztcbiAgICBwcml2YXRlIF9ib29rOkJvb2s7XG5cbiAgICBjb25zdHJ1Y3RvcihxdWFudGl0eT86IG51bWJlciwgc2hlbGZOdW1iZXI/OiBzdHJpbmcsIGJvb2s/OkJvb2spIHtcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBxdWFudGl0eSE7XG4gICAgICAgIHRoaXMuX3NoZWxmTnVtYmVyID0gc2hlbGZOdW1iZXIhO1xuICAgICAgICB0aGlzLl9ib29rPWJvb2shO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBpZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblx0cHVibGljIGdldCBpZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9pZDtcblx0fVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICovXG5cdHB1YmxpYyBzZXQgaWQodmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMuX2lkID0gdmFsdWU7XG5cdH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlciBib29rXG4gICAgICogQHJldHVybiB7Qm9va31cbiAgICAgKi9cblx0cHVibGljIGdldCBib29rKCk6IEJvb2sge1xuXHRcdHJldHVybiB0aGlzLl9ib29rO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va1xuICAgICAqIEBwYXJhbSB7Qm9va30gdmFsdWVcbiAgICAgKi9cblx0cHVibGljIHNldCBib29rKHZhbHVlOiBCb29rKSB7XG5cdFx0dGhpcy5fYm9vayA9IHZhbHVlO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgcXVhbnRpdHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNoZWxmTnVtYmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2hlbGZOdW1iZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoZWxmTnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBxdWFudGl0eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcXVhbnRpdHkodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzaGVsZk51bWJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2hlbGZOdW1iZXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zaGVsZk51bWJlciA9IHZhbHVlO1xuICAgIH1cblxuXG59IiwiLy8gZXhwb3J0IE5PREVfT1BUSU9OUz0tLW9wZW5zc2wtbGVnYWN5LXByb3ZpZGVyXG5pbXBvcnQgeyBEYXRhQmFzZSB9IGZyb20gXCIuL2RiL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tQcmljZSB9IGZyb20gXCIuL2RvbWFpbi9ib29rLXByaWNlXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL2RvbWFpbi9jdXN0b21lclwiO1xuaW1wb3J0IHsgUmVudCB9IGZyb20gXCIuL2RvbWFpbi9yZW50XCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuL2RvbWFpbi9vcmRlci1ib29rLWl0ZW1cIjtcbmltcG9ydCB7IFN0b2NrIH0gZnJvbSBcIi4vZG9tYWluL3N0b2NrXCI7XG5pbXBvcnQgeyBCb29rU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvYm9vay1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBDYW5jZWxTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9jYW5jZWwtc2VydmljZVwiO1xuaW1wb3J0IHsgQ3VzdG9tZXJTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9jdXN0b21lci1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBSZW50U2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvcmVudC1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBTYWxlU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2Uvc2FsZS1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBTdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlL3N0b2NrLXNlcnZpY2VcIjtcblxuZXhwb3J0IGxldCBib29rU2VydmljZTogQm9va1NlcnZpY2U7XG5leHBvcnQgbGV0IGN1c3RvbWVyU2VydmljZTogQ3VzdG9tZXJTZXJ2aWNlO1xuZXhwb3J0IGxldCBjYW5jZWxTZXJ2aWNlOiBDYW5jZWxTZXJ2aWNlO1xuZXhwb3J0IGxldCByZW50U2VydmljZTogUmVudFNlcnZpY2U7XG5leHBvcnQgbGV0IHNhbGVTZXJ2aWNlOiBTYWxlU2VydmljZTtcbmV4cG9ydCBsZXQgc3RvY2tTZXJ2aWNlOiBTdG9ja1NlcnZpY2U7XG5cbmxldCBkYjogRGF0YUJhc2UgPSBuZXcgRGF0YUJhc2UoKTtcbmluaXRpbGlhemVTZXJ2aWNlcyhkYik7XG5pbml0aWxpYXplRGF0YSgpO1xuYWRkTGlzdGVuZXJGb3JNZW51SXRlbXMoKTtcblxuZnVuY3Rpb24gaW5pdGlsaWF6ZVNlcnZpY2VzKGRiOiBEYXRhQmFzZSkge1xuICBib29rU2VydmljZSA9IG5ldyBCb29rU2VydmljZShkYi5nZXRCb29rc0xpc3QsIGRiLmdldEJvb2tTcGVjaWZpY2F0aW9ucyk7XG4gIGN1c3RvbWVyU2VydmljZSA9IG5ldyBDdXN0b21lclNlcnZpY2UoZGIuZ2V0Q3VzdG9tZXJzTGlzdCk7XG4gIGNhbmNlbFNlcnZpY2UgPSBuZXcgQ2FuY2VsU2VydmljZShkYi5nZXRDYW5jYWxlZFNhbGVzKTtcbiAgcmVudFNlcnZpY2UgPSBuZXcgUmVudFNlcnZpY2UoZGIuZ2V0UmVudHMsIGRiLmdldFJlbnRDYXJ0KTtcbiAgc2FsZVNlcnZpY2UgPSBuZXcgU2FsZVNlcnZpY2UoZGIuZ2V0U2FsZXNMaXN0LCBkYi5nZXRTYWxlQ2FydCk7XG4gIHN0b2NrU2VydmljZSA9IG5ldyBTdG9ja1NlcnZpY2UoZGIuZ2V0U3RvY2tzTGlzdCk7XG4gIGNvbnNvbGUubG9nKFwiU2VydmljZXMgaW50aWxpYXplZC5cIik7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRpbGlhemVEYXRhKCkge1xuICBib29rU2VydmljZS5ib29rTGlzdCA9IGF3YWl0IGJvb2tTZXJ2aWNlLmdldEFsbEJvb2tzRGF0YSgpO1xuICBzdG9ja1NlcnZpY2Uuc3RvY2tMaXN0ID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldEFsbFN0b2Nrc0RhdGEoKTtcbiAgY3VzdG9tZXJTZXJ2aWNlLmN1c3RvbWVyTGlzdCA9IGF3YWl0IGN1c3RvbWVyU2VydmljZS5nZXRBbGxDdXN0b21lcnNEYXRhKCk7XG5cbiAgY29uc29sZS5sb2coYm9va1NlcnZpY2UuYm9va0xpc3QpO1xuICBjb25zb2xlLmxvZyhzdG9ja1NlcnZpY2Uuc3RvY2tMaXN0KTtcbiAgY29uc29sZS5sb2coY3VzdG9tZXJTZXJ2aWNlLmN1c3RvbWVyTGlzdCk7XG4gIGNvbnNvbGUubG9nKFwiRGF0YSBpbnRpbGlhemVkLlwiKTtcblxuICBsaXN0Qm9va3M7XG5cbn1cblxuZnVuY3Rpb24gYWRkTGlzdGVuZXJGb3JNZW51SXRlbXMoKSB7XG4gIC8vc2FsZVNlcnZpY2UudXBkYXRlU2FsZUNhcnQoKTtcbiAgc2hvd0FuZEhpZGUoXCJhZGRCb29rTWVudUl0ZW1cIiwgXCJhZGRCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJzaG93Qm9va3NNZW51SXRlbVwiLCBcImxpc3RCb29rc1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwiYWRkQ3VzdG9tZXJNZW51SXRlbVwiLCBcImFkZEN1c3RvbWVyU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJhZGRTdG9ja01lbnVJdGVtXCIsIFwiYWRkU3RvY2tTZWN0aW9uXCIpO1xuICBzaG93QW5kSGlkZShcInNhbGVCb29rTWVudUl0ZW1cIiwgXCJzYWxlQm9va1NlY3Rpb25cIik7XG4gIHNob3dBbmRIaWRlKFwicmVudEJvb2tNZW51SXRlbVwiLCBcInJlbnRCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJjYW5jZWxTYWxlTWVudUl0ZW1cIiwgXCJjYW5jZWxTYWxlU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJjYW5jZWxSZW50TWVudUl0ZW1cIiwgXCJjYW5jZWxSZW50U2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJyZWZ1bmRCb29rTWVudUl0ZW1cIiwgXCJyZWZ1bmRCb29rU2VjdGlvblwiKTtcbiAgc2hvd0FuZEhpZGUoXCJyZW50Tm93XCIsIFwicmVudEJvb2tTZWN0aW9uXCIpO1xuXG59XG5cbmZ1bmN0aW9uIHNob3dBbmRIaWRlKGJ0bklkOiBzdHJpbmcsIGVsZW1lbnRJZDogc3RyaW5nKSB7XG4gIC8vc2FsZVNlcnZpY2UudXBkYXRlU2FsZUNhcnQoKTtcblxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnRuSWQpO1xuXG4gIGlmIChlbGVtZW50ICYmIGJ0bikge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgYWRkQm9va0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLWJvb2stZm9ybVwiKTtcbmlmIChhZGRCb29rRm9ybSAhPSBudWxsKSB7XG4gIGFkZEJvb2tGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShhZGRCb29rRm9ybSk7XG5cbiAgICBjb25zdCB0aXRsZSA9IGZvcm1EYXRhLmdldChcImJvb2tUaXRsZVwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYXV0aG9yID0gZm9ybURhdGEuZ2V0KFwiYm9va0F1dGhvclwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgaXNibiA9IGZvcm1EYXRhLmdldChcImJvb2tJc2JuXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBwdWJsaXNoWWVhciA9IGZvcm1EYXRhLmdldChcImJvb2tQdWJsaXNoWWVhclwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcGFnZXMgPSBmb3JtRGF0YS5nZXQoXCJib29rUGFnZXNcIikgYXMgdW5rbm93biBhcyBudW1iZXI7XG4gICAgY29uc3QgcHJpY2UgPSBmb3JtRGF0YS5nZXQoXCJib29rUHJpY2VcIikgYXMgdW5rbm93biBhcyBudW1iZXI7XG5cbiAgICBjb25zdCBib29rUHJpY2UgPSBuZXcgQm9va1ByaWNlKCk7XG4gICAgYm9va1ByaWNlLnByaWNlID0gcHJpY2U7XG5cbiAgICBjb25zdCBib29rID0gbmV3IEJvb2soaXNibiwgdGl0bGUsIGF1dGhvciwgcHVibGlzaFllYXIsIHBhZ2VzLCBib29rUHJpY2UpO1xuICAgIGxldCBpc1NhbWVJc2JuOiBib29sZWFuID0gYm9va1NlcnZpY2UuYm9va0xpc3Quc29tZSgob2JqKSA9PiB7XG4gICAgICByZXR1cm4gb2JqLmlzYm4gPT09IGJvb2suaXNibjtcbiAgICB9KTtcblxuICAgIGlmIChpc1NhbWVJc2JuID09PSBmYWxzZSkge1xuICAgICAgbGV0IHN1Y2Nlc3MgPSBhd2FpdCBib29rU2VydmljZS5jcmVhdGVCb29rKGJvb2spO1xuXG4gICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICBhbGVydChib29rLmlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgRWtsZW1lIMSwxZ9sZW1pIEJhxZ9hcsSxIMSwbGUgVGFtYW1sYW5txLHFn3TEsXIuXCIpO1xuICAgICAgICBhZGRCb29rRm9ybS5yZXNldCgpO1xuICAgICAgICBsaXN0Qm9va3MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KGJvb2suaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCBFa2xlbWUgxLDFn2xlbWkgU8SxcmFzxLFuZGEgQmlyIEhhdGEgb2x1xZ90dS5cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTsgLy8gcHJldmVudCByZWxvYWQgcGFnZVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIkF5bsSxIElTQk4gbnVtcmFzxLFuYSBzYWhpcCBpa2luY2kgYmlyIGtpdGFwIGVrbGVuZW16LlwiKTtcbiAgICB9XG5cblxuICB9O1xufVxuXG5jb25zdCBhZGRTdG9ja0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1zdG9jay1mb3JtXCIpKTtcbmlmIChhZGRTdG9ja0Zvcm0pIHtcbiAgYWRkU3RvY2tGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoYWRkU3RvY2tGb3JtKTtcblxuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJib29rSXNibkZvckFkZFN0b2NrXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBxdWFudHRpeSA9IGZvcm1EYXRhLmdldChcInN0b2NrUXVhbnRpdHlcIikgYXMgdW5rbm93biBhcyBudW1iZXI7XG4gICAgY29uc3Qgc2hlbGZOdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJzaGVsZk51bWJlclwiKSBhcyBzdHJpbmc7XG5cbiAgICBjb25zdCBib29rID0gYm9va1NlcnZpY2UuYm9va0xpc3QuZmluZChiID0+IGIuaXNibiA9PT0gaXNibikhO1xuXG4gICAgaWYgKGJvb2spIHtcbiAgICAgIGNvbnN0IHN0b2NrID0gbmV3IFN0b2NrKHF1YW50dGl5LCBzaGVsZk51bWJlciwgYm9vayk7XG4gICAgICBsZXQgaXNPayA9IGF3YWl0IHN0b2NrU2VydmljZS5jcmVhdGVTdG9jayhzdG9jayk7XG5cbiAgICAgIGlmIChpc09rKSB7XG4gICAgICAgIGFsZXJ0KGlzYm4gKyBcIiBpc2JuIG51bWFyYWzEsSBraXRhcHRhbiwgXCIgKyBxdWFudHRpeSArIFwiIGthZGFyIHNpc3RlbWUgc3RvayBla2xlbm1pxZ90aXIuXCIpO1xuICAgICAgICBhd2FpdCBpbml0aWxpYXplRGF0YSgpO1xuICAgICAgICBhd2FpdCBsaXN0Qm9va3MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhbGVydChcIlN0b2sgZWtsZW5tZXllIMOnYWzEscWfxLFsYW4ga2l0YWJhIGFpdCBpc2JuIG51bWFyYXPEsSBoYXRhbMSxZMSxci5cIik7XG4gICAgfVxuXG4gICAgYWRkU3RvY2tGb3JtLnJlc2V0KCk7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBwcmV2ZW50IHJlbG9hZFxuICB9O1xufVxuXG4vKipcbiAqIE3DvMWfdGVyaSBla2xlbWUgZm9ybXUgc3VibWl0IG9sYXnEsW7EsSBtb2NrIGN1c3RvbWVyU2VydmljZSBkZWtpIG1vY2sgc2VydmlzZSBiYcSfbGFkxLFtXG4gKi9cbmNvbnN0IGFkZEN1c3RvbWVyRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLWN1c3RvbWVyLWZvcm1cIikpO1xuaWYgKGFkZEN1c3RvbWVyRm9ybSkge1xuICBhZGRDdXN0b21lckZvcm0ub25zdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShhZGRDdXN0b21lckZvcm0pO1xuXG4gICAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcImN1c3RvbWVyTmFtZVwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3Qgc3VybmFtZSA9IGZvcm1EYXRhLmdldChcImN1c3RvbWVyU3VybmFtZVwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcGhvbmVOdW1iZXIgPSBmb3JtRGF0YS5nZXQoXCJjdXN0b21lclBob25lTnVtYmVyXCIpIGFzIHN0cmluZztcblxuICAgIGNvbnN0IGN1c3RvbWVyID0gbmV3IEN1c3RvbWVyKG5hbWUsIHN1cm5hbWUsIHBob25lTnVtYmVyKTtcbiAgICBsZXQgc3VjY2VzcyA9IGF3YWl0IGN1c3RvbWVyU2VydmljZS5jcmVhdGVDdXN0b21lcihjdXN0b21lcik7XG5cbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgYWxlcnQoXCJNw7zFn3RlcmkgRWtsZW1lIMSwxZ9sZW1pIEJhxZ9hcsSxIMSwbGUgVGFtYW1sYW5txLHFn3TEsXIuIFwiKTtcbiAgICAgIGFkZEN1c3RvbWVyRm9ybS5yZXNldCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIk3DvMWfdGVyaSBFa2xlbWUgxLDFn2xlbWkgU8SxcmFzxLFuZGEgYmlyIGhhdGEgaWxlIGthcsWfxLFsxLFsZMSxLiBcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlOyAvLyBwcmV2ZW50IHJlbG9hZFxuICB9O1xufVxuXG4vKipCdXJhZGEgbW9jayBzZXJ2aXNpIHlvayDDp8O8bmvDvCBidXJhZGEga2l0YXAgc2F0xLHFn8SxIHlhcMSxbMSxcmtlbiwga2l0YXBsYXLEsSBzZXBldGUgZWtsaXlvcnV6LlxuICogU2VwZXRlIGVrbGVkaWt0ZW4gc29ucmEgYnRuU2FsZSBpZGxpIGJ1dG9udW4gY2xpY2sgZXZlbnRpLCBtb2NrIHNlcnZpc2kgw6dhxJ/EsXLEsXlvclxuICovXG5jb25zdCBzYWxlQm9va0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbGUtYm9vay1mb3JtXCIpKTtcbmlmIChzYWxlQm9va0Zvcm0pIHtcbiAgc2FsZUJvb2tGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShzYWxlQm9va0Zvcm0pO1xuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJpc2JuRm9yU2FsZVwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYm9vayA9IGF3YWl0IGJvb2tTZXJ2aWNlLmdldEJvb2soaXNibik7XG4gICAgY29uc3QgY3VzdG9tZXJJZCA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcImN1c3RvbWVySWRGb3JTYWxlXCIpIGFzIHN0cmluZyk7XG5cbiAgICBjb25zdCBpc1ZhbGlkQ3VzdG9tZXIgPSBhd2FpdCBjdXN0b21lclNlcnZpY2UuZ2V0Q3VzdG9tZXIoY3VzdG9tZXJJZCk7XG5cbiAgICBjb25zdCBxdWFudGl0eSA9IHBhcnNlSW50KGZvcm1EYXRhLmdldChcInF1YW50aXR5Rm9yU2FsZVwiKSBhcyBzdHJpbmcpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChib29rKSB7XG4gICAgICAgIGxldCBzdG9jayA9IGF3YWl0IHN0b2NrU2VydmljZS5nZXRTdG9ja0J5Qm9va0lkKGJvb2suaWQpITtcbiAgICAgICAgaWYgKHN0b2NrKSB7XG4gICAgICAgICAgaWYgKHN0b2NrLnF1YW50aXR5ID49IHF1YW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgIHNhbGVTZXJ2aWNlLmFkZEJvb2tUb0NhcnQoYm9vaywgcXVhbnRpdHksIGN1c3RvbWVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxlcnQoY3VzdG9tZXJJZCArIFwiIG51bWFyYWzEsSBtw7zFn3Rlcmkga2F5xLF0bMSxIGRlxJ9pbGRpci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQocXVhbnRpdHkgKyBcIiBrYWRhciBraXRhcCBkw7xra2FuZGEgbWV2Y3V0IGRlxJ9pbGRpci5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KGBEw7xra2FuZGEgJHtpc2JufSBudW1hcmFsxLEga2l0YWLEsW4gc3RvxJ91IG1ldmN1dCBkZcSfaWxkaXIuYCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KGlzYm4gKyBcIiBudW1hcmFsxLEga2l0YXAgeW9rdHVyLlwiKTtcbiAgICAgIH1cblxuXG4gICAgICBzYWxlQm9va0Zvcm0ucmVzZXQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhbGVydChlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogS2l0YXAgc2F0xLHFn8SxIGnDp2luIGnFn2xlbSB5YXDEsWzEsXJrZW4ga2l0YXBsYXIgc2VwZXRlIGVrbGVuaXlvci5cbiAqIEVrbGVtZSBpxZ9sZW1pIGJpdHRpa3RlbiBzb25yYSBzYXTEsW4gYWxtIGnDp2luIGJ1IGJ1dG9uYSB0xLFrbGFuZMSxxJ/EsW5kYSBzZXJ2aXNlIGdpZGlwIHNlcGV0dGVraSBraXRhcGxhcsSxbiBzYXTEscWfxLEgZ2Vyw6dla2xlxZ9peW9yXG4gKiBCdXJhZGEgZGnEn2VyIGJ1dG9ubGFyZGEgb2xkdcSfdSBnaWJpIGRpcmVrIG1vY2sgc2VydmlzaW5lIGJhxJ9sYW5tYWsgeWVyaW5lIHNlcnZpc2UgZ2l0bWVrIGR1cnVtdW5kYXnEsXouIFxuICogw4fDvG5rw7wgc2VydmlzdGUgU2FsZSBuZXNuZXNpbmkgb2x1xZ90dXJ1cCBtb2NrIHNlcnZpc2luZSBwYXJhbWV0cmUgb2xhcmFrIGdlw6dpeW9ydXouXG4gKi9cbmNvbnN0IGJ0blNhbGUgPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuU2FsZVwiKSk7XG5idG5TYWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmIChzYWxlU2VydmljZS5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPT09IDApIHtcblxuICAgIGFsZXJ0KFwiU2VwZXR0ZSDDvHLDvG4geW9rLiBMw7x0ZmVuIMO2bmNlIMO8csO8biBla2xleWluaXpcIik7XG4gIH0gZWxzZSB7XG4gICAgc2FsZVNlcnZpY2UuY2FydFRvU2FsZSgpO1xuICB9XG5cbn0pO1xuXG4vKipcbiAqIEtpdGFwbGFyxLEgbGlzdGVsZW1layBpw6dpbiB0xLFrbGFuxLFsYW4gYnV0b24gY2xpY2sgZXZlbnRpXG4gKi9cbmNvbnN0IGJ0blNob3dCb29rc01lbnVJdGVtID0gPEhUTUxFbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dCb29rc01lbnVJdGVtXCIpKTtcbmJ0blNob3dCb29rc01lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cbiAgbGlzdEJvb2tzKCk7XG59KVxuXG5jb25zdCBjYW5jZWxTYWxlRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW5jZWwtc2FsZS1mb3JtXCIpO1xuaWYgKGNhbmNlbFNhbGVGb3JtKSB7XG4gIGNhbmNlbFNhbGVGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShjYW5jZWxTYWxlRm9ybSk7XG4gICAgY29uc3Qgc2FsZU51bWJlciA9IGZvcm1EYXRhLmdldChcInNhbGVOdW1iZXJmb3JDYW5jZWxcIikgYXMgc3RyaW5nO1xuXG5cbiAgICBsZXQgaXNFeGlzdFNhbGUgPSBhd2FpdCBzYWxlU2VydmljZS5pc0V4aXN0U2FsZShzYWxlTnVtYmVyKTtcblxuICAgIGlmIChpc0V4aXN0U2FsZSA9PT0gdHJ1ZSkge1xuXG4gICAgICBsZXQgc3RhdGUgPSBhd2FpdCBjYW5jZWxTZXJ2aWNlLmNhbmNlbFNhbGVNb2NrKHNhbGVOdW1iZXIpO1xuXG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgYWxlcnQoc2FsZU51bWJlciArIFwiIG51bWFyYWzEsSBzYXTEscWfIGlwdGFsIGVkaWxtacWfdGlyLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KHNhbGVOdW1iZXIgKyBcIiBudW1hcmFsxLEgc2F0xLHFnyBpcHRhbCBlZGlsaXJrZW4gaGF0YSBtZXlkYW5hIGdlbGRpLlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoc2FsZU51bWJlciArIFwiIG51bWFyYWzEsSBzYXTEscWfIGJ1bHVuYW1hbcSxxZ90xLFyLiBUZWtyYXIgZGVuZXlpbml6LlwiKTtcbiAgICB9XG5cbiAgfVxufVxuXG5jb25zdCBjYW5jZWxSZW50Rm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW5jZWwtcmVudC1mb3JtXCIpO1xuaWYgKGNhbmNlbFJlbnRGb3JtKSB7XG4gIGNhbmNlbFJlbnRGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShjYW5jZWxSZW50Rm9ybSk7XG4gICAgY29uc3QgcmVudE51bWJlciA9IGZvcm1EYXRhLmdldChcInJlbnROdW1iZXJmb3JDYW5jZWxcIikgYXMgc3RyaW5nO1xuXG4gICAgbGV0IHN0YXRlID0gYXdhaXQgY2FuY2VsU2VydmljZS5jYW5jZWxSZW50TW9jayhyZW50TnVtYmVyKTtcblxuICAgIGlmIChzdGF0ZSkge1xuICAgICAgYWxlcnQocmVudE51bWJlciArIFwiIG51bWFyYWzEsSBraXJhbGFtYSBpcHRhbCBlZGlsbWnFn3Rpci5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KHJlbnROdW1iZXIgKyBcIiBudW1hcmFsxLEga2lyYWxtYSBidWx1bmFtYW3EscWfdMSxci4gVGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgfVxuICB9XG59XG5cbi8qKkJ1cmFkYSBtb2NrIHNlcnZpc2kgeW9rIMOnw7xua8O8IGJ1cmFkYSBraXRhcCBraXJhbGFtYXPEsSB5YXDEsWzEsXJrZW4sIGtpdGFwbGFyxLEgc2VwZXRlIGVrbGl5b3J1ei5cbiAqIFNlcGV0ZSBla2xlZGlrdGVuIHNvbnJhIGJ0blJlbnQgaWRsaSBidXRvbnVuIGNsaWNrIGV2ZW50aSwgbW9jayBzZXJ2aXNpIMOnYcSfxLFyxLF5b3JcbiAqL1xuY29uc3QgcmVudEJvb2tGb3JtID0gPEhUTUxGb3JtRWxlbWVudD4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW50LWJvb2stZm9ybVwiKSk7XG5pZiAocmVudEJvb2tGb3JtKSB7XG4gIHJlbnRCb29rRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEocmVudEJvb2tGb3JtKTtcblxuICAgIGNvbnN0IGlzYm4gPSBmb3JtRGF0YS5nZXQoXCJpc2JuRm9yUmVudFwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYm9vayA9IGF3YWl0IGJvb2tTZXJ2aWNlLmdldEJvb2soaXNibik7XG5cbiAgICBjb25zdCBjdXN0b21lcklkID0gcGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJJZEZvclJlbnRcIikgYXMgc3RyaW5nKTtcbiAgICAvL2lzVmFsaWRDdXN0b21lciByZXN0IHNlcnZpc3RlbiBkw7ZlbmVuIHZlcml5ZSBnw7ZyZSDFn2VraWxsZW5lY2VrXG4gICAgY29uc3QgaXNWYWxpZEN1c3RvbWVyID0gYXdhaXQgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyKGN1c3RvbWVySWQpO1xuXG4gICAgY29uc3QgcXVhbnRpdHkgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJxdWFudGl0eUZvclJlbnRcIikgYXMgc3RyaW5nKTtcblxuICAgIFxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChib29rKSB7XG4gICAgICAgIGNvbnN0IHN0b2NrID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldFN0b2NrQnlCb29rSWQoYm9vay5pZCkhO1xuICAgICAgICBpZiAoc3RvY2spIHtcbiAgICAgICAgICBpZiAoc3RvY2sucXVhbnRpdHkgPj0gcXVhbnRpdHkpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkQ3VzdG9tZXIpIHtcbiAgICAgICAgICAgICAgcmVudFNlcnZpY2UuYWRkQm9va1RvQ2FydChib29rLCBxdWFudGl0eSwgY3VzdG9tZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbGVydChjdXN0b21lcklkICsgXCIgbnVtYXJhbMSxIG3DvMWfdGVyaSBrYXnEsXRsxLEgZGXEn2lsZGlyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGVydChxdWFudGl0eSArIFwiIGthZGFyIGtpdGFwIGTDvGtrYW5kYSBtZXZjdXQgZGXEn2lsZGlyLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxlcnQoYETDvGtrYW5kYSAke2lzYm59IG51bWFyYWzEsSBraXRhYsSxbiBzdG/En3UgbWV2Y3V0IGRlxJ9pbGRpci4gw5ZuY2Ugc3RvayBla2xleWluaXpgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoaXNibiArIFwiIG51bWFyYWzEsSBraXRhcCB5b2t0dXIuXCIpO1xuICAgICAgfVxuXG4gICAgICByZW50Qm9va0Zvcm0ucmVzZXQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhbGVydChlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogS2l0YXAgc2F0xLHFn8SxIGnDp2luIGnFn2xlbSB5YXDEsWzEsXJrZW4ga2l0YXBsYXIgc2VwZXRlIGVrbGVuaXlvci5cbiAqIEVrbGVtZSBpxZ9sZW1pIGJpdHRpa3RlbiBzb25yYSBzYXTEsW4gYWxtIGlpw6dpbiBidSBidXRvbmEgdMSxa2xhbmTEscSfxLFuZGEgc2VydmlzZSBnaWRpcCBzZXBldHRla2kga2l0YXBsYXLEsW4gc2F0xLHFn8SxIGdlcsOnZWtsZcWfaXlvclxuICogQnVyYWRhIGRpxJ9lciBidXRvbmxhcmRhIG9sZHXEn3UgZ2liaSBkaXJlayBtb2NrIHNlcnZpc2luZSBiYcSfbGFubWFrIHllcmluZSBzZXJ2aXNlIGdpdG1layBkdXJ1bXVuZGF5xLF6LiBcbiAqIMOHw7xua8O8IHNlcnZpc3RlIFNhbGUgbmVzbmVzaW5pIG9sdcWfdHVydXAgbW9jayBzZXJ2aXNpbmUgcGFyYW1ldHJlIG9sYXJrIGdlw6dpeW9ydXouXG4gKi9cbmNvbnN0IGJ0blJlbnQgPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuUmVudFwiKSk7XG5idG5SZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmIChyZW50U2VydmljZS5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICBhbGVydChcIlNlcGV0dGUgw7xyw7xuIHlvay4gTMO8dGZlbiDDtm5jZSDDvHLDvG4gZWtsZXlpbml6XCIpO1xuICB9IGVsc2Uge1xuICAgIHJlbnRTZXJ2aWNlLmNhcnRUb1JlbnQoKTtcbiAgfVxuXG59KTtcblxuY29uc3QgcmVmdW5kQm9va0Zvcm0gPSA8SFRNTEZvcm1FbGVtZW50Pihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZnVuZC1ib29rLWZvcm1cIikpO1xuaWYgKHJlZnVuZEJvb2tGb3JtKSB7XG4gIHJlZnVuZEJvb2tGb3JtLm9uc3VibWl0ID0gYXN5bmMgKGUpID0+IHtcblxuICAgIC8vIEtpcmFsYW1hIGnFn2xlbWluZGVuIGdlcmkgw7ZkZW1lIGnFn2xlbWkgw6dhbMSxxZ9hYmlsbWVzaSBpw6dpbiDDtm5jZSBraXJhbGFtYSB2ZXJpc2kgZWtsZWRpbSwgXG4gICAgLy8gU29ucmEgZ2VyaSDDtmRlbWUgacWfbGVtaSDDp2FsxLHFn8SxeW9yXG4gICAgbGV0IHNiaSA9IG5ldyBBcnJheTxPcmRlckJvb2tJdGVtcz47XG4gICAgc2JpLnB1c2gobmV3IE9yZGVyQm9va0l0ZW1zKGF3YWl0IGJvb2tTZXJ2aWNlLmdldEJvb2soXCIxMjMtNDVcIiksIDMpKVxuXG4gICAgbGV0IHJEYXRlID0gbmV3IERhdGU7XG4gICAgckRhdGUuc2V0RGF0ZShyRGF0ZS5nZXREYXRlKCkgKyAyMyk7XG5cbiAgICBsZXQgYSA9IG5ldyBSZW50KHNiaSwgbmV3IERhdGUsIDEsIFwiUjAyMTEyMjE2MzA0NVwiLCAxMjMsIHJEYXRlLCAwKTtcbiAgICBhLnJlZnVuZCA9IHJlbnRTZXJ2aWNlLmNhbGN1bGF0ZVJlZnVuZEFtb3VudChhKTtcblxuICAgIHJlbnRTZXJ2aWNlLnJlbnRMaXN0LnB1c2goYSk7XG4gICAgLy9WZXJpIEdpcmnFn2kgc29uIGFsYW7EsVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHJlZnVuZEJvb2tGb3JtKTtcbiAgICBjb25zdCByZW50TnVtYmVyID0gZm9ybURhdGEuZ2V0KFwicmVudE51bWJlcmZvclJlZnVuZFwiKSBhcyBzdHJpbmc7XG5cbiAgICBsZXQgcmVudCA9IHJlbnRTZXJ2aWNlLmdldFJlbnQocmVudE51bWJlcik7XG4gICAgaWYgKHJlbnQpIHtcblxuICAgICAgbGV0IHJlZnVuZCA9IGF3YWl0IHJlbnRTZXJ2aWNlLnJlZnVuZFJlbnRNb2NrKHJlbnQpO1xuXG4gICAgICBpZiAocmVmdW5kKSB7XG4gICAgICAgIGFsZXJ0KHJlbnQub3BlcmF0aW9uTnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGdlcmkgYWzEsW5txLHFn3TEsXIuXCIpO1xuICAgICAgICBhbGVydChcIkdlcmkgw7ZkZW1lIG1pa3RhcsSxOlwiICsgcmVmdW5kICsgXCIg4oK6IC5cIilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KHJlbnQub3BlcmF0aW9uTnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGlwdGFsIGVkaWxpcmtlbiBoYXRhIG1leWRhbmEgZ2VsZGkuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChyZW50TnVtYmVyICsgXCIgbnVtYXJhbMSxIGtpcmFsYW1hIGJ1bHVuYW1hbcSxxZ90xLFyLiBUZWtyYXIgZGVuZXlpbml6LlwiKTtcbiAgICB9XG5cbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbGlzdEJvb2tzKCkge1xuXG4gIGJvb2tTZXJ2aWNlLmJvb2tMaXN0ID0gYXdhaXQgYm9va1NlcnZpY2UuZ2V0QWxsQm9va3NEYXRhKCk7XG4gIHN0b2NrU2VydmljZS5zdG9ja0xpc3QgPSBhd2FpdCBzdG9ja1NlcnZpY2UuZ2V0QWxsU3RvY2tzRGF0YSgpO1xuXG4gIGNvbnN0IGxpc3RCb29rc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzdEJvb2tzXCIpO1xuXG4gIGlmIChsaXN0Qm9va3NEaXYpIHtcbiAgICBsZXQgcm93LCBjb2x1bW47XG5cblxuICAgIHdoaWxlIChsaXN0Qm9va3NEaXYubGFzdENoaWxkICYmIGxpc3RCb29rc0Rpdi5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICBsaXN0Qm9va3NEaXYucmVtb3ZlQ2hpbGQobGlzdEJvb2tzRGl2Lmxhc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgYm9va1NlcnZpY2UuYm9va0xpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcblxuICAgICAgLy9hbGVydChzdG9ja1NlcnZpY2UuZ2V0U3RvY2tRdWFudGl0eShlbGVtZW50LmlzYm4pKTtcblxuICAgICAgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJvdy5jbGFzc05hbWUgPSBcInJvdy1saXN0LWJvb2tcIjtcblxuICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcImNvbHVtbi1saXN0LWJvb2tcIjtcbiAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuaXNibi50b1N0cmluZygpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50Lm5hbWUudG9TdHJpbmcoKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gZWxlbWVudC5hdXRob3IudG9TdHJpbmcoKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiY29sdW1uLWxpc3QtYm9va1wiO1xuXG4gICAgICBsZXQgaXNWYWxpZFNjdG9jazogYm9vbGVhbiA9IHN0b2NrU2VydmljZS5zdG9ja0xpc3Quc29tZShzID0+IHMuYm9vay5pZCA9PT0gZWxlbWVudC5pZCk7XG4gICAgICBsZXQgcSA9IDA7XG5cbiAgICAgIGlmIChpc1ZhbGlkU2N0b2NrID09PSB0cnVlKSB7XG4gICAgICAgIHEgPSBzdG9ja1NlcnZpY2Uuc3RvY2tMaXN0LmZpbmQocyA9PiBzLmJvb2suaWQgPT09IGVsZW1lbnQuaWQpIS5xdWFudGl0eTtcbiAgICAgIH1cblxuICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gcS50b1N0cmluZygpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJjb2x1bW4tbGlzdC1ib29rXCI7XG4gICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBlbGVtZW50LmJvb2tQcmljZS5wcmljZS50b1N0cmluZygpICsgXCIg4oK6XCI7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgbGlzdEJvb2tzRGl2LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfSk7XG4gIH1cblxufSIsIi8qKlxuICogQGF1dGhvciBNZWhtZXQgRS4gQWtjYW4gLSAyMS4xMC4yMlxuICovXG5pbXBvcnQgeyBzdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IEJvb2tQcmljZSB9IGZyb20gXCIuLi9kb21haW4vYm9vay1wcmljZVwiO1xuXG5leHBvcnQgY2xhc3MgQm9va1NlcnZpY2Uge1xuICAgIHByaXZhdGUgX2Jvb2tMaXN0OiBBcnJheTxCb29rPjtcbiAgICBwcml2YXRlIF9ib29rU3BlY2lmaWNhdGlvbjogQXJyYXk8Qm9va1ByaWNlPjtcbiAgICBib29rQXBpOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9ib29rcyc7XG5cbiAgICBjb25zdHJ1Y3Rvcihib29rTGlzdDogQXJyYXk8Qm9vaz4sIGJvb2tTcGVjaWZpY2F0aW9uOiBBcnJheTxCb29rUHJpY2U+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tMaXN0ID0gYm9va0xpc3Q7XG4gICAgICAgIHRoaXMuX2Jvb2tTcGVjaWZpY2F0aW9uID0gYm9va1NwZWNpZmljYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGJvb2tMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Qm9vaz59XG4gICAgICovXG4gICAgcHVibGljIGdldCBib29rTGlzdCgpOiBBcnJheTxCb29rPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib29rTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgYm9va1NwZWNpZmljYXRpb25cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxCb29rUHJpY2U+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgYm9va1NwZWNpZmljYXRpb24oKTogQXJyYXk8Qm9va1ByaWNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib29rU3BlY2lmaWNhdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgYm9va0xpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PEJvb2s+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9va0xpc3QodmFsdWU6IEFycmF5PEJvb2s+KSB7XG4gICAgICAgIHRoaXMuX2Jvb2tMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGJvb2tTcGVjaWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheTxCb29rUHJpY2U+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgYm9va1NwZWNpZmljYXRpb24odmFsdWU6IEFycmF5PEJvb2tQcmljZT4pIHtcbiAgICAgICAgdGhpcy5fYm9va1NwZWNpZmljYXRpb24gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwYXJhbWV0cmUgb2xhcmFrIGdlbGVuIGlzYm4gYmlsZ2lzaW5lIGfDtnJlIGlsZ2lsaSBraXRhYsSxIGJ1bHVyLlxuICAgICAqIEBwYXJhbSBpc2JuIEJ1bHVuYWNhayBvbGFuIGtpdGFixLFuIGlzYm4gbnVtYXJhc8SxXG4gICAgICogQHJldHVybnMgaXNibiBudW1hcmFzxLFuYSBnw7ZyZSBpbGdpbGkga2l0YWLEsSBCb29rIG5lc25lc2kgb2xhcmFrIGdlcmkgZMO2bmTDvHLDvHJcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0Qm9vayhpc2JuOiBzdHJpbmcpOiBQcm9taXNlPEJvb2s+IHtcbiAgICAgICAgLy9CdXJhZGFuIHVuZGVmaW5lZGVkIC8gbnVsbCBiaXIgZGXEn2VyIGRlIGTDtm5lYmlsZWNlxJ9pIGnDp2luIGhhdGEgdmVyaXlvclxuICAgICAgICAvL2FtYSBiaXogc29uZGFraSAhIG9wZXJhdMO2csO8IGlsZSBudWxsIGRlxJ9lciBkw7ZubWV5ZWNlayBkaXllIGdhcmFudGkgdmVyaXlvcnV6XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5ib29rQXBpICsgXCIvcT9pc2JuPVwiICsgaXNibiwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEJvb2s+cmVzdWx0O1xuICAgICAgICByZXR1cm4gZ2V0UmVzdWx0O1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QWxsQm9va3NEYXRhKCk6IFByb21pc2U8QXJyYXk8Qm9vaz4+IHtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYm9va0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBjb25zdCBnZXRSZXN1bHQgPSA8QXJyYXk8Qm9vaz4+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDQpKTtcbiAgICAgICAgcmV0dXJuIGdldFJlc3VsdDtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVCb29rKGI6IEJvb2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5ib29rQXBpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBpc2JuOiBiLmlzYm4sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBiLmF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgcGFnZXM6IGIucGFnZXMsXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hZZWFyOiBiLnB1Ymxpc2hZZWFyLFxuICAgICAgICAgICAgICAgICAgICBib29rUHJpY2VDcmVhdGVEdG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBiLmJvb2tQcmljZS5wcmljZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBzZXJ2aXNpbmRlbiBkw7ZuZW4gY2V2YXAgPT5cIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYm9va0xpc3QgPSBhd2FpdCB0aGlzLmdldEFsbEJvb2tzRGF0YSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBDYW5jZWwgfSBmcm9tIFwiLi4vZG9tYWluL2NhbmNlbFwiO1xuXG5leHBvcnQgY2xhc3MgQ2FuY2VsU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfY2FuY2VsbGVkTGlzdDogQXJyYXk8Q2FuY2VsPjtcbiAgICBjYW5jZWxTYWxlQXBpOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9zYWxlcyc7XG4gICAgY2FuY2VsUmVudEFwaTogc3RyaW5nID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvcmVudHMnO1xuXG4gICAgY29uc3RydWN0b3IoY2FuY2VsbGVkTGlzdDogQXJyYXk8Q2FuY2VsPikge1xuICAgICAgICB0aGlzLl9jYW5jZWxsZWRMaXN0ID0gY2FuY2VsbGVkTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY2FuY2VsbGVkU2FsZXNMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Q2FuY2VsU2FsZT59XG4gICAgICovXG4gICAgcHVibGljIGdldCBjYW5jZWxsZWRMaXN0KCk6IEFycmF5PENhbmNlbD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsbGVkTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgY2FuY2VsbGVkU2FsZXNMaXN0XG4gICAgICogQHBhcmFtIHtBcnJheTxDYW5jZWxTYWxlPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGNhbmNlbGxlZExpc3QodmFsdWU6IEFycmF5PENhbmNlbD4pIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsbGVkTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaWZmSG91cnMoZDE6IERhdGUsIGQyOiBEYXRlKTogbnVtYmVyIHtcblxuICAgICAgICBsZXQgZGlmZk1pbGlzOiBudW1iZXIgPSAoZDEuZ2V0VGltZSgpIC0gZDIuZ2V0VGltZSgpKTsvLyBtaWxpIHNlY29uZHNcbiAgICAgICAgbGV0IGRpZmZIb3VyID0gTWF0aC5mbG9vcihkaWZmTWlsaXMgLyAxMDAwIC8gNjAgLyA2MCk7IC8vIC8xMDAwID4gc2Vjb25kIC8gNjAgPiBtaW4gLyA2MCA+IGhvdXJcbiAgICAgICAgcmV0dXJuIGRpZmZIb3VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxTYWxlKGNhbmNlbDogQ2FuY2VsKTogdm9pZCB7XG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlciA9IHRoaXMuY2FsY3VsYXRlQ2FuY2VsU2FsZVJlZnVuZChjYW5jZWwpO1xuICAgICAgICBjYW5jZWwucmVmdW5kID0gcmVmdW5kO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZExpc3QucHVzaChjYW5jZWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVDYW5jZWxTYWxlUmVmdW5kKGNhbmNlbFNhbGU6IENhbmNlbCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmSG91cnMoY2FuY2VsU2FsZS5jYW5jZWxlZERhdGVUaW1lLCBjYW5jZWxTYWxlLmNhbmNlbFR5cGUub3BlcmF0aW9uRGF0ZVRpbWUpXG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlcjtcblxuICAgICAgICBpZiAoZGlmZiA+IDI0KSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxTYWxlLmNhbmNlbFR5cGUudG90YWwgKiAwLjc1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVmdW5kID0gY2FuY2VsU2FsZS5jYW5jZWxUeXBlLnRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZ1bmQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY2FuY2VsU2FsZU1vY2sob3BlcmF0aW9uTnVtYmVyOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5jYW5jZWxTYWxlQXBpICsgXCIvXCIgKyBvcGVyYXRpb25OdW1iZXIsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL1RvZG8gc2FsZSBtb2NrIHNlcnZpc2luZSBkZWxldGUgaXN0ZcSfaSBhdMSxcCBvIHNhbGUgbmVzbmVzaW5pIHNpbGVjZWtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIGnFn2xlbW5kZSAuanNvbiDFn2VrbMWfbmRlIHNlcmlsaXplIHlhcMSxbGFtYXosIGhhdGEgdmVyaXJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxSZW50KGNhbmNlbDogQ2FuY2VsKSB7XG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlciA9IHRoaXMuY2FsY3VsYXRlQ2FuY2VsUmVudFJlZnVuZChjYW5jZWwpO1xuICAgICAgICBjYW5jZWwucmVmdW5kID0gcmVmdW5kO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZExpc3QucHVzaChjYW5jZWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGVDYW5jZWxSZW50UmVmdW5kKGNhbmNlbFJlbnQ6IENhbmNlbCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmSG91cnMoY2FuY2VsUmVudC5jYW5jZWxlZERhdGVUaW1lLCBjYW5jZWxSZW50LmNhbmNlbFR5cGUub3BlcmF0aW9uRGF0ZVRpbWUpXG4gICAgICAgIGxldCByZWZ1bmQ6IG51bWJlcjtcblxuICAgICAgICBpZiAoZGlmZiA+IDI0KSB7XG4gICAgICAgICAgICByZWZ1bmQgPSBjYW5jZWxSZW50LmNhbmNlbFR5cGUudG90YWwgKiAwLjc1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVmdW5kID0gY2FuY2VsUmVudC5jYW5jZWxUeXBlLnRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZ1bmQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY2FuY2VsUmVudE1vY2sob3BlcmF0aW9uTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY2FuY2VsUmVudEFwaSArIFwiL1wiICsgb3BlcmF0aW9uTnVtYmVyLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi4vZG9tYWluL2N1c3RvbWVyXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21lclNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2N1c3RvbWVyTGlzdDogQXJyYXk8Q3VzdG9tZXI+O1xuICAgIHByaXZhdGUgY3VzdG9tZXJBcGk6IHN0cmluZyA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MS9jdXN0b21lcnNcIjtcblxuICAgIGNvbnN0cnVjdG9yKGN1c3RvbWVyTGlzdDogQXJyYXk8Q3VzdG9tZXI+KSB7XG4gICAgICAgIHRoaXMuX2N1c3RvbWVyTGlzdCA9IGN1c3RvbWVyTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgY3VzdG9tZXJMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8Q3VzdG9tZXI+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgY3VzdG9tZXJMaXN0KCk6IEFycmF5PEN1c3RvbWVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lckxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIGN1c3RvbWVyTGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8Q3VzdG9tZXI+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgY3VzdG9tZXJMaXN0KHZhbHVlOiBBcnJheTxDdXN0b21lcj4pIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QWxsQ3VzdG9tZXJzRGF0YSgpOiBQcm9taXNlPEFycmF5PEN1c3RvbWVyPj4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY3VzdG9tZXJBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEFycmF5PEN1c3RvbWVyPj5yZXN1bHQ7XG4gICAgICAgIHJldHVybiBnZXRSZXN1bHQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlQ3VzdG9tZXIobmV3Q3VzdG9tZXI6IEN1c3RvbWVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuY3VzdG9tZXJBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ld0N1c3RvbWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN1ck5hbWU6IG5ld0N1c3RvbWVyLnN1ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBuZXdDdXN0b21lci5waG9uZU51bWJlclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3Qgc2VydmlzaW5kZW4gZMO2bmVuIGNldmFwID0+XCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q3VzdG9tZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogUHJvbWlzZTxDdXN0b21lcj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmN1c3RvbWVyQXBpICsgXCIvXCIgKyBjdXN0b21lcklkLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2UuYm9keX1gKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgIGNvbnN0IGdldFJlc3VsdCA9IDxDdXN0b21lcj5yZXN1bHQ7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UmVzdWx0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBtZXNzYWdlOiAnLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VuZXhwZWN0ZWQgZXJyb3I6ICcsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsIGFzIGFueTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBzdG9ja1NlcnZpY2UgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IFJlbnQgfSBmcm9tIFwiLi4vZG9tYWluL3JlbnRcIjtcbmltcG9ydCB7IFJlbnRDYXJ0IH0gZnJvbSBcIi4uL2RvbWFpbi9yZW50LWNhcnRcIjtcbmltcG9ydCB7IE9yZGVyQm9va0l0ZW1zIH0gZnJvbSBcIi4uL2RvbWFpbi9vcmRlci1ib29rLWl0ZW1cIjtcbmltcG9ydCB7IFN0b2NrIH0gZnJvbSBcIi4uL2RvbWFpbi9zdG9ja1wiO1xuXG5leHBvcnQgY2xhc3MgUmVudFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3JlbnRMaXN0OiBBcnJheTxSZW50PjtcblxuICAgIHByaXZhdGUgX3JlbnRDYXJ0OiBSZW50Q2FydDtcbiAgICBwdWJsaWMgcmVudEFwaSA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3JlbnRzJztcbiAgICByZWZ1bmRQZXJjZW50OiBudW1iZXI7XG5cblxuICAgIGNvbnN0cnVjdG9yKHJlbnRMaXN0OiBBcnJheTxSZW50PiwgcmVudENhcnQ6IFJlbnRDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gcmVudExpc3Q7XG4gICAgICAgIHRoaXMucmVmdW5kUGVyY2VudCA9IDAuNzU7XG4gICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gcmVudENhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8UmVudD59XG4gICAgICovXG4gICAgcHVibGljIGdldCByZW50TGlzdCgpOiBBcnJheTxSZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW50TGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudExpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJlbnQ+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVudExpc3QodmFsdWU6IEFycmF5PFJlbnQ+KSB7XG4gICAgICAgIHRoaXMuX3JlbnRMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHJlbnRDYXJ0XG4gICAgICogQHJldHVybiB7UmVudENhcnR9XG4gICAgICovXG4gICAgcHVibGljIGdldCByZW50Q2FydCgpOiBSZW50Q2FydCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW50Q2FydDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgcmVudENhcnRcbiAgICAgKiBAcGFyYW0ge1JlbnRDYXJ0fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgcmVudENhcnQodmFsdWU6IFJlbnRDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3JlbnRDYXJ0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFJlbnQocmVudDogUmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbnRMaXN0LnB1c2gocmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2l0YXBsYXLEsW4gaGVwc2kgc2VwZXRlIGVrbGVuZGlrdGVuIHNvbnJhIHRvcGxtYSDDvGNyZXRpIGhlc2FwbGF1YW4gZm9ua3NpeW9uXG4gICAgICogQHBhcmFtIHJlbnQgS2l0YXBsYXLEsW4gbGlzdGVzaW5pbiBidWx1bmR1xJ91IG5lc25lXG4gICAgICogQHJldHVybnMgVG9wbGFtIMO8Y3JldFxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxjdWxhdGVUb3RhbChyZW50OiBSZW50KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHN1YlRvdGFsOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIC8vaXQgY2FuIGJlID0+IGxldCBlbnRyeSBvZiByZW50LmJvb2tBbmRRdWFudGl0eU1hcC5lbnRyaWVzKClcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiByZW50Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICBzdWJUb3RhbCArPSBpdGVtLmJvb2suYm9va1ByaWNlLnByaWNlICogaXRlbS5xdWFudGl0eVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1YlRvdGFsO1xuICAgIH1cblxuICAgIC8vIFIwNTEwMjIxNDU1MDkgPT4gZG9tYWluLlJlbnQgMDUuMTAuMjAyMiAxNDo1NS4wOVxuICAgIGdlbmVyYXRlUmVudE51bWJlcihjdXN0b21lcklkOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsZXQgcmVjZWlwdE51bWJlcjogc3RyaW5nID0gXCJSXCIgKyB0b2RheS5nZXREYXkoKS50b1N0cmluZygpICtcbiAgICAgICAgICAgIHRvZGF5LmdldE1vbnRoKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArXG4gICAgICAgICAgICB0b2RheS5nZXRIb3VycygpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSArXG4gICAgICAgICAgICB0b2RheS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSArIGN1c3RvbWVySWQudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVjZWlwdE51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZDEgS2l0YXBsYcSxbiBraXJhbMSxayBvbGFyYWsgYWzEsW5kxLHEn8SxIHRhcmloXG4gICAgICogQHBhcmFtIGQyIEtpdGFwbGFyxLFuIGdlcmkgZ2V0aXJpbGRpxJ9pIHRhcmloXG4gICAgICogQHJldHVybnMgxLBraSB0YXJpaCBhcmFzxLFuZGFraSBmYXJrIChzYWF0IG9sYXJhaylcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlRGlmZkhvdXJzKGQxOiBEYXRlLCBkMjogRGF0ZSk6IG51bWJlciB7XG5cbiAgICAgICAgbGV0IGRpZmZNaWxpczogbnVtYmVyID0gKGQxLmdldFRpbWUoKSAtIGQyLmdldFRpbWUoKSk7Ly8gbWlsaSBzZWNvbmRzXG4gICAgICAgIGxldCBkaWZmSG91ciA9IE1hdGguZmxvb3IoZGlmZk1pbGlzIC8gMTAwMCAvIDYwIC8gNjApOyAvLyAvMTAwMCA+IHNlY29uZCAvIDYwID4gbWluIC8gNjAgPiBob3VyXG4gICAgICAgIHJldHVybiBkaWZmSG91cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBLaXRhcCBpbGsga2lyYWxhbmTEscSfxLEgYW5kYSwgemFtYW7EsW5kYSBnZXRpcmlsZGnEn2kgZ2liaSBkw7zFn8O8bsO8bGVyZWsgdmVyaWxlY2VrIG9sYW4gdmFyc2F5xLFsYW4gZ2VyaSDDtmRlbWUgbWlrdGFyxLFcbiAgICAgKiBAcGFyYW0gcmVudCBIZXNhcGxhbmFjYWsgb2xhbiBnZXJpIMO2ZGVtZSBtaWt0YXLEsW7EsW4gacOnaW5kZSBidWx1bmR1xJ91IG5lc25lXG4gICAgICovXG4gICAgcHVibGljIGNhbGN1bGF0ZVJlZnVuZChyZW50OiBSZW50KTogdm9pZCB7XG4gICAgICAgIHJlbnQucmVmdW5kID0gcmVudC50b3RhbCAqIHRoaXMucmVmdW5kUGVyY2VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBLaXRhcCBraXJhbGFuZMSxLCBva3VuZHUgdmUgZ2VyaSBnZXRpcmlsZGnEn2kgemFtYW4gbmUga2FkYXIgZ2VyaSDDtmRlbWUgdmVyaWxlY2XEn2luaSBoZXNhcGxhclxuICAgICAqIEBwYXJhbSByZW50IEhlc2FwbGFuYWNhayBvbGFuIGdlcmkgw7ZkZW1lIG1pa3RhcsSxbsSxbiBpw6dpbmRlIGJ1bHVuZHXEn3UgbmVzbmVcbiAgICAgKiBAcmV0dXJucyBHZXJpIMO2ZGVtZSBtaWt0YXLEsVxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxjdWxhdGVSZWZ1bmRBbW91bnQocmVudDogUmVudCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmSG91cnMocmVudC5yZWZ1bmREYXRlLCByZW50Lm9wZXJhdGlvbkRhdGVUaW1lKSAvIDI0O1xuICAgICAgICBsZXQgcmVmdW5kOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKGRpZmYgPD0gMTQpIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IHJlbnQudG90YWwgKiAwLjc1O1xuICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPD0gMjQpIHtcbiAgICAgICAgICAgIGxldCBmaW5lID0gKDAuNzUgLSAoKGRpZmYgLSAxNCkgKiAwLjA1KSk7XG4gICAgICAgICAgICByZWZ1bmQgPSByZW50LnRvdGFsICogZmluZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlZnVuZCA9IHJlbnQudG90YWwgKiAwLjI1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZnVuZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVudChyZW50TnVtYmVyOiBzdHJpbmcpOiBSZW50IHtcbiAgICAgICAgbGV0IHJlbnQgPSB0aGlzLnJlbnRMaXN0LmZpbmQocyA9PiBzLm9wZXJhdGlvbk51bWJlciA9PT0gcmVudE51bWJlcik7XG4gICAgICAgIHJldHVybiByZW50ITtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQgPSBjdXN0b21lcklkO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVudENhcnQuY3VzdG9tZXJJZCAhPT0gY3VzdG9tZXJJZCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmFya2zEsSBtw7zFn3Rlcml5ZSBraXRhcCBraXJhbGFubWF5YSDDp2FsxLHFn8SxbMSxeW9yLiBMw7x0ZmVuIHRlayBtw7zFn3RlcmkgacOnaW4gacWfbGVtIHlhcMSxbsSxelwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3JkZXJCb29rSXRlbXM6IE9yZGVyQm9va0l0ZW1zID0gbmV3IE9yZGVyQm9va0l0ZW1zKGJvb2ssIHF1YW50aXR5KTtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5maW5kSW5kZXgoeCA9PiB4LmJvb2suaXNibiA9PT0gYm9vay5pc2JuKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zLnB1c2gob3JkZXJCb29rSXRlbXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zW2luZGV4XSA9IG9yZGVyQm9va0l0ZW1zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlUmVudENhcnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlUmVudENhcnQoKSB7XG4gICAgICAgIGNvbnN0IHJlbnRDYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW50Q2FydFwiKTtcbiAgICAgICAgY29uc3Qgc3ViVG90YWxTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3RhbFJlbnRBbW91bnRUbFwiKTtcblxuICAgICAgICBpZiAocmVudENhcnQpIHtcblxuICAgICAgICAgICAgbGV0IHJvdywgY29sdW1uLCBzdWJUb3RhbDogbnVtYmVyID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKHJlbnRDYXJ0Lmxhc3RDaGlsZCAmJiByZW50Q2FydC5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcmVudENhcnQucmVtb3ZlQ2hpbGQocmVudENhcnQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRvdGFsU3BhbiEudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5yZW50Q2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGg7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcm93LmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LXJvd1wiO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLnJlbnRDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSB0aGlzLnJlbnRDYXJ0LmN1c3RvbWVySWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBpdGVtLmJvb2submFtZTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwicmVudC1jYXJ0LWNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4udGV4dENvbnRlbnQgPSBpdGVtLnF1YW50aXR5LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInJlbnQtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gKGl0ZW0uYm9vay5ib29rUHJpY2UucHJpY2UgKiBpdGVtLnF1YW50aXR5KS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3cgJiYgc3ViVG90YWxTcGFuKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMucmVudENhcnQub3JkZXJCb29rSXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViVG90YWwgKz0gdC5ib29rLmJvb2tQcmljZS5wcmljZSAqIHQucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVudENhcnQuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgICAgICBzdWJUb3RhbFNwYW4udGV4dENvbnRlbnQgPSBzdWJUb3RhbC50b1N0cmluZygpICsgXCIgVExcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cblxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBjYXJ0VG9SZW50KCkge1xuICAgICAgICBsZXQgcmVudENhcnQ6IFJlbnRDYXJ0ID0gdGhpcy5yZW50Q2FydDtcbiAgICAgICAgbGV0IHJlbnQgPSBuZXcgUmVudCgpO1xuXG4gICAgICAgIHJlbnQub3JkZXJCb29rSXRlbXMgPSByZW50Q2FydC5vcmRlckJvb2tJdGVtcztcbiAgICAgICAgcmVudC5jdXN0b21lcklkID0gcmVudENhcnQuY3VzdG9tZXJJZDtcbiAgICAgICAgcmVudC5vcGVyYXRpb25OdW1iZXIgPSB0aGlzLmdlbmVyYXRlUmVudE51bWJlcihyZW50Q2FydC5jdXN0b21lcklkKTtcbiAgICAgICAgcmVudC5vcGVyYXRpb25EYXRlVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJlbnQudG90YWwgPSB0aGlzLmNhbGN1bGF0ZVRvdGFsKHJlbnQpO1xuICAgICAgICBsZXQgckRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByRGF0ZS5zZXREYXRlKHJEYXRlLmdldERhdGUoKSArIDE0KTtcbiAgICAgICAgcmVudC5yZWZ1bmREYXRlID0gckRhdGU7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlUmVmdW5kKHJlbnQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgb2YgcmVudC5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgbGV0IHN0b2NrID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldFN0b2NrQnlCb29rSWQoaS5ib29rLmlkKTtcbiAgICAgICAgICAgIGlmIChzdG9jaykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbnRDYXJ0ID0gbmV3IFJlbnRDYXJ0OyAvLyBzZXBldGkgYm/Fn2FsdFxuICAgICAgICB0aGlzLnVwZGF0ZVJlbnRDYXJ0KCk7XG4gICAgICAgIHRoaXMuYWRkUmVudE1vY2socmVudCk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkUmVudE1vY2socjogUmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnJlbnRBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheS5mcm9tKHIub3JkZXJCb29rSXRlbXMpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkOiByLmN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRhdGVUaW1lOiByLm9wZXJhdGlvbkRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25OdW1iZXI6IHIub3BlcmF0aW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogci50b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kRGF0ZTogci5yZWZ1bmREYXRlLFxuICAgICAgICAgICAgICAgICAgICByZWZ1bmQ6IHIucmVmdW5kXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBhcGlkYW4gZMO2bmVuIGNldmFwOlxcblwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiS2l0YXAga2lyYWxhbWEgacWfbGVtaSBiYcWfYXLEsXlsYSBnZXLDp2VrbGXFn21pxZ90aXIuXCIpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRmnFn2luaXppIGtheWJldG5leWluaXouIEZpxZ8gbnVtYXJhbsSxejogXCIgKyByLm9wZXJhdGlvbk51bWJlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICAgICAgYWxlcnQoXCJLaXRhcCBraXJhbGFtYSBpxZ9sZW1pIHPEsXJhc8SxbmRhIGJpciBoYXRhIG9sdcWfdHUuIEzDvHRmZW4gdGVrcmFyIGRlbmV5aW5pei5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZWZ1bmRSZW50TW9jayhyOiBSZW50KSB7XG4gICAgICAgIC8vUEFUQ0ggQmVsaXJsaSBiaXIga2F5bmFrdGFraSB2ZXJpbGVyaW4gYmlyIGvEsXNtxLFuxLFuIGRlxJ9pxZ90aXJpbG1lc2kgacOnaW4ga3VsbGFuxLFsYW4gbWV0b2R0dXIuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMucmVudEFwaSArIFwiL1wiICsgci5vcGVyYXRpb25OdW1iZXIsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICByZWZ1bmREYXRlOiByLnJlZnVuZERhdGUsXG4gICAgICAgICAgICAgICAgICAgIHJlZnVuZDogci5yZWZ1bmRcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gci5yZWZ1bmQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgc3RvY2tTZXJ2aWNlIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uL2RvbWFpbi9ib29rXCI7XG5pbXBvcnQgeyBTYWxlIH0gZnJvbSBcIi4uL2RvbWFpbi9zYWxlXCI7XG5pbXBvcnQgeyBPcmRlckJvb2tJdGVtcyB9IGZyb20gXCIuLi9kb21haW4vb3JkZXItYm9vay1pdGVtXCI7XG5pbXBvcnQgeyBTYWxlQ2FydCB9IGZyb20gXCIuLi9kb21haW4vc2FsZS1jYXJ0XCI7XG5cbmV4cG9ydCBjbGFzcyBTYWxlU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfc2FsZUxpc3Q6IEFycmF5PFNhbGU+O1xuICAgIHByaXZhdGUgX3NhbGVDYXJ0OiBTYWxlQ2FydDtcbiAgICBwdWJsaWMgc2FsZUFwaSA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDIvYXBpL3YxL3NhbGVzJztcblxuICAgIGNvbnN0cnVjdG9yKHNhbGVMaXN0OiBBcnJheTxTYWxlPiwgc2FsZUNhcnQ6IFNhbGVDYXJ0KSB7XG4gICAgICAgIHRoaXMuX3NhbGVMaXN0ID0gc2FsZUxpc3Q7XG4gICAgICAgIHRoaXMuX3NhbGVDYXJ0ID0gc2FsZUNhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNhbGVMaXN0XG4gICAgICogQHJldHVybiB7QXJyYXk8U2FsZT59XG4gICAgICovXG4gICAgcHVibGljIGdldCBzYWxlTGlzdCgpOiBBcnJheTxTYWxlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYWxlTGlzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgc2FsZUxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFNhbGU+fSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2FsZUxpc3QodmFsdWU6IEFycmF5PFNhbGU+KSB7XG4gICAgICAgIHRoaXMuX3NhbGVMaXN0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHJldHVybiB7QXJyYXk8U2FsZUNhcnQ+fVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2FsZUNhcnQoKTogU2FsZUNhcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FsZUNhcnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIHNhbGVDYXJ0XG4gICAgICogQHBhcmFtIHtBcnJheTxTYWxlQ2FydD59IHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIHNldCBzYWxlQ2FydCh2YWx1ZTogU2FsZUNhcnQpIHtcbiAgICAgICAgdGhpcy5fc2FsZUNhcnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU2FsZShzYWxlOiBTYWxlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2FsZUxpc3QucHVzaChzYWxlKTtcblxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvdGFsKHNhbGU6IFNhbGUpOiBudW1iZXIge1xuICAgICAgICBsZXQgc3ViVG90YWwgPSAwLjA7XG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2Ygc2FsZS5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgc3ViVG90YWwgKz0gZW50cnkuYm9vay5ib29rUHJpY2UucHJpY2UgKiBlbnRyeS5xdWFudGl0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWJUb3RhbDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbGVOdW1iZXIoY3VzdG9tZXJJZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IHJlY2VpcHROdW1iZXI6IHN0cmluZyA9IFwiU1wiICsgdG9kYXkuZ2V0RGF5KCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1vbnRoKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEhvdXJzKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldE1pbnV0ZXMoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkgKyBjdXN0b21lcklkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpcHROdW1iZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNhbGUoc2FsZU51bWJlcjogc3RyaW5nKTogU2FsZSB7XG4gICAgICAgIGxldCBzYWxlID0gdGhpcy5zYWxlTGlzdC5maW5kKHMgPT4gcy5vcGVyYXRpb25OdW1iZXIgPT09IHNhbGVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gc2FsZSE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVNhbGUoc2FsZTogU2FsZSkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNhbGVMaXN0LmluZGV4T2Yoc2FsZSk7XG4gICAgICAgIHRoaXMuc2FsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQm9va1RvQ2FydChib29rOiBCb29rLCBxdWFudGl0eTogbnVtYmVyLCBjdXN0b21lcklkOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2FsZUNhcnQuY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zYWxlQ2FydC5jdXN0b21lcklkICE9PSBjdXN0b21lcklkKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJGYXJrbMSxIG3DvMWfdGVyaXllIGtpdGFwIHNhdMSxbG1heWEgw6dhbMSxxZ/EsWzEsXlvci4gTMO8dGZlbiB0ZWsgbcO8xZ90ZXJpIGnDp2luIGnFn2xlbSB5YXDEsW7EsXpcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9yZGVyQm9va0l0ZW1zOiBPcmRlckJvb2tJdGVtcyA9IG5ldyBPcmRlckJvb2tJdGVtcyhib29rLCBxdWFudGl0eSk7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMuZmluZEluZGV4KHggPT4geC5ib29rLmlzYm4gPT09IGJvb2suaXNibik7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcy5wdXNoKG9yZGVyQm9va0l0ZW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXNbaW5kZXhdID0gb3JkZXJCb29rSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVNhbGVDYXJ0KCkge1xuICAgICAgICBjb25zdCBzYWxlQ2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2FsZUNhcnRcIik7XG4gICAgICAgIGNvbnN0IHN1YlRvdGFsU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxTYWxlQW1vdW50VGxcIik7XG5cbiAgICAgICAgaWYgKHNhbGVDYXJ0KSB7XG5cbiAgICAgICAgICAgIGxldCByb3csIGNvbHVtbiwgc3ViVG90YWw6IG51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChzYWxlQ2FydC5sYXN0Q2hpbGQgJiYgc2FsZUNhcnQuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHNhbGVDYXJ0LnJlbW92ZUNoaWxkKHNhbGVDYXJ0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJUb3RhbFNwYW4hLnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2FsZUNhcnQub3JkZXJCb29rSXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1yb3dcIjtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5zYWxlQ2FydC5vcmRlckJvb2tJdGVtcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gdGhpcy5zYWxlQ2FydC5jdXN0b21lcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5ib29rLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBcInNhbGUtY2FydC1jb2x1bW5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnRleHRDb250ZW50ID0gaXRlbS5xdWFudGl0eS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gXCJzYWxlLWNhcnQtY29sdW1uXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi50ZXh0Q29udGVudCA9IChpdGVtLmJvb2suYm9va1ByaWNlLnByaWNlICogaXRlbS5xdWFudGl0eSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93ICYmIHN1YlRvdGFsU3Bhbikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnNhbGVDYXJ0Lm9yZGVyQm9va0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlRvdGFsICs9IHQuYm9vay5ib29rUHJpY2UucHJpY2UgKiB0LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNhbGVDYXJ0LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICAgICAgc3ViVG90YWxTcGFuLnRleHRDb250ZW50ID0gc3ViVG90YWwudG9TdHJpbmcoKSArIFwiIFRMXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2FydFRvU2FsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBsZXQgc2FsZUNhcnQ6IFNhbGVDYXJ0ID0gdGhpcy5zYWxlQ2FydDtcbiAgICAgICAgbGV0IHNhbGUgPSBuZXcgU2FsZSgpO1xuXG4gICAgICAgIHNhbGUub3JkZXJCb29rSXRlbXMgPSBzYWxlQ2FydC5vcmRlckJvb2tJdGVtcztcbiAgICAgICAgc2FsZS5jdXN0b21lcklkID0gc2FsZUNhcnQuY3VzdG9tZXJJZDtcbiAgICAgICAgc2FsZS5vcGVyYXRpb25OdW1iZXIgPSB0aGlzLmdlbmVyYXRlU2FsZU51bWJlcihzYWxlQ2FydC5jdXN0b21lcklkKTtcbiAgICAgICAgc2FsZS5vcGVyYXRpb25EYXRlVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHNhbGUudG90YWwgPSB0aGlzLmNhbGN1bGF0ZVRvdGFsKHNhbGUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygc2FsZS5vcmRlckJvb2tJdGVtcykge1xuICAgICAgICAgICAgbGV0IHN0b2NrID0gYXdhaXQgc3RvY2tTZXJ2aWNlLmdldFN0b2NrQnlCb29rSWQoaS5ib29rLmlkKTtcbiAgICAgICAgICAgIGlmIChzdG9jaykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3VjY2VzcyA9IHRoaXMuY3JlYXRlU2FsZShzYWxlKTtcbiAgICAgICAgdGhpcy5zYWxlQ2FydCA9IG5ldyBTYWxlQ2FydCgpOyAvLyBzZXBldGkgYm/Fn2FsdFxuICAgICAgICB0aGlzLnVwZGF0ZVNhbGVDYXJ0KCk7XG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZVNhbGUoczogU2FsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNhbGVBcGksIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQm9va0l0ZW1zOiBBcnJheS5mcm9tKHMub3JkZXJCb29rSXRlbXMpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkOiBzLmN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRhdGVUaW1lOiBzLm9wZXJhdGlvbkRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25OdW1iZXI6IHMub3BlcmF0aW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogcy50b3RhbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdCBhcGlkYW4gZMO2bmVuIGNldmFwOlxcblwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiS2l0YXAgc2F0xLHFnyBpxZ9sZW1pIGJhxZ9hcsSxeWxhIGdlcsOnZWtsZcWfbWnFn3Rpci5cIik7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJGacWfaW5pemkga2F5YmV0bWV5aW5pei4gRmnFnyBOdW1hcmFzxLE6IFwiICsgcy5vcGVyYXRpb25OdW1iZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhhdGEgb2x1xZ90dSwgaGF0YSBrb2R1OiAke3Jlc3BvbnNlLnN0YXR1c30gYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF0YSBPbHXFn3R1LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgaXNFeGlzdFNhbGUob3BlcmF0aW9uTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNhbGVBcGkgKyBcIi9cIiArIG9wZXJhdGlvbk51bWJlciwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3QgYXBpZGFuIGTDtm5lbiBjZXZhcDpcXG5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vZG9tYWluL2Jvb2tcIjtcbmltcG9ydCB7IFN0b2NrIH0gZnJvbSBcIi4uL2RvbWFpbi9zdG9ja1wiO1xuXG5leHBvcnQgY2xhc3MgU3RvY2tTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9zdG9ja0xpc3Q6IEFycmF5PFN0b2NrPjtcbiAgICBwcml2YXRlIHN0b2NrQXBpOiBzdHJpbmcgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMi9hcGkvdjEvc3RvY2tzXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihzdG9ja0xpc3Q6IEFycmF5PFN0b2NrPikge1xuICAgICAgICB0aGlzLl9zdG9ja0xpc3QgPSBzdG9ja0xpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIHN0b2NrTGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5PFN0b2NrPn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHN0b2NrTGlzdCgpOiBBcnJheTxTdG9jaz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvY2tMaXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRlciBzdG9ja0xpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PFN0b2NrPn0gdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHN0b2NrTGlzdCh2YWx1ZTogQXJyYXk8U3RvY2s+KSB7XG4gICAgICAgIHRoaXMuX3N0b2NrTGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN0b2NrIG5lc25lc2luaSBnZXJpIGTDtm5kw7xyw7xyXG4gICAgICogQHBhcmFtIGlzYm4gc3RvY2sgbmVzbmVzaSBnZXRpcmlsZWNlayBvbGFuIG5lc25lbmluIGlzYm4gbm9zdSxcbiAgICAgKiBAcmV0dXJucyBkYiBvbGFuIHN0b2NrIG5lc25lbnNpIGdlcmkgZMO2bmVyLCBkYiBkZSB5b2sgaXNlIHRocm93IGlsZSBoYXRhIGbEsXJsYXTEsXJsxLFyXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldFN0b2NrQnlCb29rSWQoYm9va0lkOiBudW1iZXIpOiBQcm9taXNlPFN0b2NrPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc3RvY2tBcGkgKyBcIi9xP2Jvb2tJZD1cIiArIGJvb2tJZCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTdG9jaz5yZXN1bHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIG1lc3NhZ2U6ICcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndW5leHBlY3RlZCBlcnJvcjogJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbCBhcyBhbnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFxJ9lciBzdG9rIG5lc25lc2kgeW9rIGlzZSBzdG9rIG5lc25lc2ksIGJlbGlydGlsZW4gYWRldCBrYWRhciBzdG9rIGJpbGdpc2kgaWxlIGJlcmFiZXIgZWtsZW5peW9yLlxuICAgICAqIMSwxZ90ZSBidSBvbHXFn3R1cm1hL2NyZWF0ZSBpxZ9sZW1pIGJ1cmFkYSB5YXDEsWzEsXlvci5cbiAgICAgKiBAcGFyYW0gcyBpbmRleC50cyBkb3N5YXPEsW5kYW4gZ2VsZW4gc3RvayBuZXNuZXNpXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU3RvY2soczogU3RvY2spOiBQcm9taXNlPEJvb2xlYW4gfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zdG9ja0FwaSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IHMucXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHNoZWxmTnVtYmVyOiBzLnNoZWxmTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBib29rOiBzLmJvb2tcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIYXRhIG9sdcWfdHUsIGhhdGEga29kdTogJHtyZXNwb25zZS5zdGF0dXN9IGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hhdGEgT2x1xZ90dS4nICsgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QWxsU3RvY2tzRGF0YSgpOiBQcm9taXNlPEFycmF5PFN0b2NrPj4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc3RvY2tBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSGF0YSBvbHXFn3R1LCBoYXRhIGtvZHU6ICR7cmVzcG9uc2Uuc3RhdHVzfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPEFycmF5PFN0b2NrPj5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgNCkpO1xuICAgICAgICByZXR1cm4gZ2V0UmVzdWx0O1xuICAgIH1cbiAgICBcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJ0aGlzIiwiX2Jvb2tzIiwiQXJyYXkiLCJfc3RvY2tzIiwiX2N1c3RvbWVycyIsIl9zYWxlcyIsIl9yZW50cyIsIl9ib29rU3BlY2lmaWNhdGlvbnMiLCJfY2FuY2VscyIsIl9zYWxlQ2FydCIsIlNhbGVDYXJ0IiwiX3JlbnRDYXJ0IiwiUmVudENhcnQiLCJnZXRCb29rc0xpc3QiLCJnZXRTdG9ja3NMaXN0IiwiZ2V0Q3VzdG9tZXJzTGlzdCIsImdldFNhbGVzTGlzdCIsImdldFJlbnRzIiwiZ2V0Qm9va1NwZWNpZmljYXRpb25zIiwiZ2V0Q2FuY2FsZWRTYWxlcyIsImdldFNhbGVDYXJ0IiwiZ2V0UmVudENhcnQiLCJzZXRTYWxlQ2FydCIsInZhbHVlIiwic2V0UmVudENhcnQiLCJpZCIsIl9pZCIsInByaWNlIiwiX3ByaWNlIiwic3RhcnREYXRlIiwiX3N0YXJ0RGF0ZSIsImVuZERhdGUiLCJfZW5kRGF0ZSIsImlzYm4iLCJuYW1lIiwiYXV0aG9yIiwicHVibGlzaFllYXIiLCJwYWdlcyIsImJvb2tQcmljZSIsIl9uYW1lIiwiX2F1dGhvciIsIl9pc2JuIiwiX3B1Ymxpc2hZZWFyIiwiX3BhZ2VzIiwiX2Jvb2tQcmljZSIsInN1ck5hbWUiLCJwaG9uZU51bWJlciIsIl9zdXJOYW1lIiwiX3Bob25lTnVtYmVyIiwiYm9vayIsInF1YW50aXR5IiwiX2Jvb2siLCJfcXVhbnRpdHkiLCJ0b0pTT04iLCJvcmRlckJvb2tJdGVtcyIsIlJlbnQiLCJTYWxlIiwic2FsZUJvb2tJdGVtcyIsIm9wZXJhdGlvbkRhdGVUaW1lIiwiY3VzdG9tZXJJZCIsIm9wZXJhdGlvbk51bWJlciIsInRvdGFsIiwicmVmdW5kRGF0ZSIsInJlZnVuZCIsInN1cGVyIiwiX3JlZnVuZERhdGUiLCJfcmVmdW5kIiwiX29yZGVyQm9va0l0ZW1zIiwiX2N1c3RvbWVySWQiLCJfb3BlcmF0aW9uRGF0ZVRpbWUiLCJfb3BlcmF0aW9uTnVtYmVyIiwiX3RvdGFsIiwic2hlbGZOdW1iZXIiLCJfc2hlbGZOdW1iZXIiLCJpbml0aWxpYXplRGF0YSIsImJvb2tTZXJ2aWNlIiwiZ2V0QWxsQm9va3NEYXRhIiwic3RvY2tTZXJ2aWNlIiwiZ2V0QWxsU3RvY2tzRGF0YSIsImN1c3RvbWVyU2VydmljZSIsImdldEFsbEN1c3RvbWVyc0RhdGEiLCJjb25zb2xlIiwibG9nIiwiYm9va0xpc3QiLCJzdG9ja0xpc3QiLCJjdXN0b21lckxpc3QiLCJzaG93QW5kSGlkZSIsImJ0bklkIiwiZWxlbWVudElkIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiZGIiLCJEYXRhQmFzZSIsIkJvb2tTZXJ2aWNlIiwiQ3VzdG9tZXJTZXJ2aWNlIiwiY2FuY2VsU2VydmljZSIsIkNhbmNlbFNlcnZpY2UiLCJyZW50U2VydmljZSIsIlJlbnRTZXJ2aWNlIiwic2FsZVNlcnZpY2UiLCJTYWxlU2VydmljZSIsIlN0b2NrU2VydmljZSIsImFkZEJvb2tGb3JtIiwib25zdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwidGl0bGUiLCJnZXQiLCJCb29rUHJpY2UiLCJCb29rIiwic29tZSIsIm9iaiIsImNyZWF0ZUJvb2siLCJhbGVydCIsInJlc2V0IiwibGlzdEJvb2tzIiwiYWRkU3RvY2tGb3JtIiwicXVhbnR0aXkiLCJmaW5kIiwiYiIsInN0b2NrIiwiU3RvY2siLCJjcmVhdGVTdG9jayIsImFkZEN1c3RvbWVyRm9ybSIsInN1cm5hbWUiLCJjdXN0b21lciIsIkN1c3RvbWVyIiwiY3JlYXRlQ3VzdG9tZXIiLCJzYWxlQm9va0Zvcm0iLCJnZXRCb29rIiwicGFyc2VJbnQiLCJpc1ZhbGlkQ3VzdG9tZXIiLCJnZXRDdXN0b21lciIsImdldFN0b2NrQnlCb29rSWQiLCJhZGRCb29rVG9DYXJ0IiwiZXJyb3IiLCJzYWxlQ2FydCIsImxlbmd0aCIsImNhcnRUb1NhbGUiLCJjYW5jZWxTYWxlRm9ybSIsInNhbGVOdW1iZXIiLCJpc0V4aXN0U2FsZSIsImNhbmNlbFNhbGVNb2NrIiwiY2FuY2VsUmVudEZvcm0iLCJyZW50TnVtYmVyIiwiY2FuY2VsUmVudE1vY2siLCJyZW50Qm9va0Zvcm0iLCJyZW50Q2FydCIsImNhcnRUb1JlbnQiLCJyZWZ1bmRCb29rRm9ybSIsImxpc3RCb29rc0RpdiIsInJvdyIsImNvbHVtbiIsImxhc3RDaGlsZCIsImNoaWxkcmVuIiwicmVtb3ZlQ2hpbGQiLCJmb3JFYWNoIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInRleHRDb250ZW50IiwidG9TdHJpbmciLCJhcHBlbmRDaGlsZCIsInEiLCJzIiwic2JpIiwicHVzaCIsIk9yZGVyQm9va0l0ZW1zIiwickRhdGUiLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJhIiwiY2FsY3VsYXRlUmVmdW5kQW1vdW50IiwicmVudExpc3QiLCJyZW50IiwiZ2V0UmVudCIsInJlZnVuZFJlbnRNb2NrIiwiYm9va1NwZWNpZmljYXRpb24iLCJib29rQXBpIiwiX2Jvb2tMaXN0IiwiX2Jvb2tTcGVjaWZpY2F0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJvayIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsInJlc3VsdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImJvZHkiLCJib29rUHJpY2VDcmVhdGVEdG8iLCJFeGNlcHRpb24iLCJjYW5jZWxsZWRMaXN0IiwiY2FuY2VsU2FsZUFwaSIsImNhbmNlbFJlbnRBcGkiLCJfY2FuY2VsbGVkTGlzdCIsImNhbGN1bGF0ZURpZmZIb3VycyIsImQxIiwiZDIiLCJkaWZmTWlsaXMiLCJnZXRUaW1lIiwiTWF0aCIsImZsb29yIiwiY2FuY2VsU2FsZSIsImNhbmNlbCIsImNhbGN1bGF0ZUNhbmNlbFNhbGVSZWZ1bmQiLCJjYW5jZWxlZERhdGVUaW1lIiwiY2FuY2VsVHlwZSIsImNhbmNlbFJlbnQiLCJjYWxjdWxhdGVDYW5jZWxSZW50UmVmdW5kIiwiY3VzdG9tZXJBcGkiLCJfY3VzdG9tZXJMaXN0IiwibmV3Q3VzdG9tZXIiLCJtZXNzYWdlIiwicmVudEFwaSIsIl9yZW50TGlzdCIsInJlZnVuZFBlcmNlbnQiLCJhZGRSZW50IiwiY2FsY3VsYXRlVG90YWwiLCJzdWJUb3RhbCIsIml0ZW0iLCJnZW5lcmF0ZVJlbnROdW1iZXIiLCJ0b2RheSIsImdldERheSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiY2FsY3VsYXRlUmVmdW5kIiwiZGlmZiIsImZpbmUiLCJpbmRleCIsImZpbmRJbmRleCIsIngiLCJ1cGRhdGVSZW50Q2FydCIsInN1YlRvdGFsU3BhbiIsInQiLCJpIiwiYWRkUmVudE1vY2siLCJyIiwiZnJvbSIsInNhbGVMaXN0Iiwic2FsZUFwaSIsIl9zYWxlTGlzdCIsImFkZFNhbGUiLCJzYWxlIiwiZW50cnkiLCJnZW5lcmF0ZVNhbGVOdW1iZXIiLCJnZXRTYWxlIiwicmVtb3ZlU2FsZSIsImluZGV4T2YiLCJzcGxpY2UiLCJ1cGRhdGVTYWxlQ2FydCIsInN1Y2Nlc3MiLCJjcmVhdGVTYWxlIiwic3RvY2tBcGkiLCJfc3RvY2tMaXN0IiwiYm9va0lkIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==